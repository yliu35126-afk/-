{"version":3,"sources":["webpack:///./src/views/order/logistics.vue","webpack:///src/views/order/logistics.vue","webpack:///./src/views/order/logistics.vue?c0ea","webpack:///./src/views/order/logistics.vue?d990","webpack:///./src/views/order/logistics.vue?fa7a"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","yes","expression","attrs","slot","path","_v","loading","model","activeParcel","callback","$$v","_l","packageList","packageItem","packageIndex","key","package_name","trace","success","list","length","traceItem","traceIndex","datetime","_s","remark","reason","delivery_no","express_company_name","goods_list","goodsItem","goodsIndex","on","$event","$router","pushToTab","sku_id","$img","sku_image","size","imageError","sku_name","num","staticRenderFns","components","data","orderId","created","$route","query","order_id","push","getOrderPackageInfo","computed","mapGetters","mounted","self","setTimeout","methods","apiOrderPackageInfo","then","res","code","forEach","item","reverse","$message","message","type","duration","onClose","catch","defaultGoodsImage","component"],"mappings":"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","file":"assets/js/chunk-2ab4c8a9.3836ae99.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('el-card',{staticClass:\"box-card logistics\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/member/order_list' }}},[_vm._v(\"订单列表\")]),_c('el-breadcrumb-item',[_vm._v(\"物流详情\")])],1)],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-tabs',{model:{value:(_vm.activeParcel),callback:function ($$v) {_vm.activeParcel=$$v},expression:\"activeParcel\"}},_vm._l((_vm.packageList),function(packageItem,packageIndex){return _c('el-tab-pane',{key:packageIndex,attrs:{\"label\":packageItem.package_name,\"name\":'parcel_' + packageIndex}},[(packageItem.trace.success && packageItem.trace.list.length > 0)?_c('div',{staticClass:\"trace\"},[_c('el-timeline',_vm._l((packageItem.trace.list),function(traceItem,traceIndex){return _c('el-timeline-item',{key:traceIndex,attrs:{\"timestamp\":traceItem.datetime,\"placement\":\"top\",\"type\":traceIndex == 0 ? 'primary' : ''}},[_c('p',[_vm._v(_vm._s(traceItem.remark))])])}),1)],1):_c('div',{staticClass:\"trace\"},[_c('p',{staticClass:\"empty-wrap\"},[_vm._v(_vm._s(packageItem.trace.reason))])]),_c('ul',{staticClass:\"info-wrap\"},[_c('li',[_c('label',[_vm._v(\"运单号码：\")]),_c('span',[_vm._v(_vm._s(packageItem.delivery_no))])]),_c('li',[_c('label',[_vm._v(\"物流公司：\")]),_c('span',[_vm._v(_vm._s(packageItem.express_company_name))])])]),_c('ul',{staticClass:\"goods-wrap\"},_vm._l((packageItem.goods_list),function(goodsItem,goodsIndex){return _c('li',{key:goodsIndex,on:{\"click\":function($event){return _vm.$router.pushToTab('/sku-' + goodsItem.sku_id)}}},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{attrs:{\"src\":_vm.$img(goodsItem.sku_image, { size: 'mid' })},on:{\"error\":function($event){return _vm.imageError(packageIndex, goodsIndex)}}})]),_c('p',{staticClass:\"sku-name\"},[_vm._v(_vm._s(goodsItem.sku_name)+\" x \"+_vm._s(goodsItem.num))])])}),0)])}),1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\t\r\n\t\t<el-card class=\"box-card logistics\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t\t<el-breadcrumb-item :to=\"{ path: '/member/order_list' }\">订单列表</el-breadcrumb-item>\r\n\t\t\t\t\t<el-breadcrumb-item>物流详情</el-breadcrumb-item>\r\n\t\t\t\t</el-breadcrumb>\r\n\t\t\t</div>\r\n\t\t\t<div v-loading=\"loading\">\r\n\t\t\t\t<el-tabs v-model=\"activeParcel\">\r\n\t\t\t\t\t<el-tab-pane v-for=\"(packageItem, packageIndex) in packageList\" :key=\"packageIndex\" :label=\"packageItem.package_name\" :name=\"'parcel_' + packageIndex\">\r\n\t\t\t\t\t\t<div class=\"trace\" v-if=\"packageItem.trace.success && packageItem.trace.list.length > 0\">\r\n\t\t\t\t\t\t\t<el-timeline>\r\n\t\t\t\t\t\t\t\t<el-timeline-item\r\n\t\t\t\t\t\t\t\t\tv-for=\"(traceItem, traceIndex) in packageItem.trace.list\"\r\n\t\t\t\t\t\t\t\t\t:timestamp=\"traceItem.datetime\"\r\n\t\t\t\t\t\t\t\t\tplacement=\"top\"\r\n\t\t\t\t\t\t\t\t\t:type=\"traceIndex == 0 ? 'primary' : ''\"\r\n\t\t\t\t\t\t\t\t\t:key=\"traceIndex\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<p>{{ traceItem.remark }}</p>\r\n\t\t\t\t\t\t\t\t</el-timeline-item>\r\n\t\t\t\t\t\t\t</el-timeline>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"trace\" v-else>\r\n\t\t\t\t\t\t\t<p class=\"empty-wrap\">{{ packageItem.trace.reason }}</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<ul class=\"info-wrap\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label>运单号码：</label>\r\n\t\t\t\t\t\t\t\t<span>{{ packageItem.delivery_no }}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<label>物流公司：</label>\r\n\t\t\t\t\t\t\t\t<span>{{ packageItem.express_company_name }}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t\t<ul class=\"goods-wrap\">\r\n\t\t\t\t\t\t\t<li v-for=\"(goodsItem, goodsIndex) in packageItem.goods_list\" :key=\"goodsIndex\" @click=\"$router.pushToTab('/sku-' + goodsItem.sku_id)\">\r\n\t\t\t\t\t\t\t\t<div class=\"img-wrap\"><img :src=\"$img(goodsItem.sku_image, { size: 'mid' })\" @error=\"imageError(packageIndex, goodsIndex)\" /></div>\r\n\t\t\t\t\t\t\t\t<p class=\"sku-name\">{{ goodsItem.sku_name }} x {{ goodsItem.num }}</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { apiOrderPackageInfo } from '@/api/order/order';\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n\tname: 'logistics',\r\n\tcomponents: {},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\torderId: 0,\r\n\t\t\tloading: true,\r\n\t\t\tactiveParcel: 'parcel_0',\r\n\t\t\tpackageList: [],\r\n\t\t\tyes: true\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.orderId = this.$route.query.order_id;\r\n\t\tif (!this.orderId) this.$router.push({ path: '/member/order_list' });\r\n\t\tthis.getOrderPackageInfo();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['defaultGoodsImage'])\r\n\t},\r\n\tmounted() {\r\n\t\tlet self = this;\r\n\t\tsetTimeout(function() {\r\n\t\t\tself.yes = false\r\n\t\t}, 300)\r\n\t},\r\n\tmethods: {\r\n\t\tgetOrderPackageInfo() {\r\n\t\t\tapiOrderPackageInfo({\r\n\t\t\t\torder_id: this.orderId\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.packageList = res.data;\r\n\t\t\t\t\t\tthis.packageList.forEach(item => {\r\n\t\t\t\t\t\t\tif (item.trace.list) {\r\n\t\t\t\t\t\t\t\titem.trace.list = item.trace.list.reverse();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '未获取到订单包裹信息！',\r\n\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\tthis.$router.push({ path: '/member/order_list' });\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(res => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\timageError(packageIndex, goodsIndex) {\r\n\t\t\tthis.packageList[packageIndex].goods_list[goodsIndex].sku_image = this.defaultGoodsImage;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n}\r\n\r\n.null-page {\r\n\twidth: 100%;\r\n\theight: 730px;\r\n\tbackground-color: #FFFFFF;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 9;\r\n}\r\n\r\n.logistics {\r\n\t.trace {\r\n\t\t.empty-wrap {\r\n\t\t\tpadding: 10px 0;\r\n\t\t}\r\n\t}\r\n\t.info-wrap {\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tli {\r\n\t\t\tflex: 0 0 33.3333%;\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t\tspan {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.goods-wrap {\r\n\t\toverflow: hidden;\r\n\t\tmargin: 10px 0;\r\n\t\tli {\r\n\t\t\tfloat: left;\r\n\t\t\twidth: 130px;\r\n\t\t\tmargin-right: 7px;\r\n\t\t\tcursor: pointer;\r\n\t\t\t&:nth-child(n + 7) {\r\n\t\t\t\tmargin-right: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.img-wrap {\r\n\t\t\t\twidth: 120px;\r\n\t\t\t}\r\n\t\t\t.sku-name {\r\n\t\t\t\tmargin-top: 5px;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\tfont-size: $ns-font-size-sm;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./logistics.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./logistics.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./logistics.vue?vue&type=template&id=f9e45644&scoped=true\"\nimport script from \"./logistics.vue?vue&type=script&lang=js\"\nexport * from \"./logistics.vue?vue&type=script&lang=js\"\nimport style0 from \"./logistics.vue?vue&type=style&index=0&id=f9e45644&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9e45644\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./logistics.vue?vue&type=style&index=0&id=f9e45644&prod&lang=scss&scoped=true\""],"sourceRoot":""}