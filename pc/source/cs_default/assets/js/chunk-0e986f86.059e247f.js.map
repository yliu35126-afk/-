{"version":3,"sources":["webpack:///./src/api/goods/evaluate.js","webpack:///./node_modules/vue2-countdown/index.js","webpack:///./src/api/goods/goods_collect.js","webpack:///./node_modules/vue-piczoom/src/components/PicZoom.vue?240b","webpack:///./src/assets/images/goods/qrcode.png","webpack:///./node_modules/vue-piczoom/src/components/PicZoom.vue","webpack:///node_modules/vue-piczoom/src/components/PicZoom.vue","webpack:///./node_modules/vue-piczoom/src/components/PicZoom.vue?63de","webpack:///./node_modules/vue-piczoom/src/components/PicZoom.vue?933f","webpack:///./src/components/GoodsRecommend.vue","webpack:///src/components/GoodsRecommend.vue","webpack:///./src/components/GoodsRecommend.vue?3db2","webpack:///./src/components/GoodsRecommend.vue?b5ab","webpack:///./src/components/GoodsRecommend.vue?89e2","webpack:///./src/api/shop.js","webpack:///./node_modules/vue2-countdown/lib/vue2-countdown.vue","webpack:///node_modules/vue2-countdown/lib/vue2-countdown.vue","webpack:///./node_modules/vue2-countdown/lib/vue2-countdown.vue?349d","webpack:///./node_modules/vue2-countdown/lib/vue2-countdown.vue?9fa2"],"names":["goodsEvaluateList","params","http","url","data","module","exports","isCollect","forceLogin","addCollect","deleteCollect","render","_vm","this","_c","_self","ref","id","staticClass","class","vertical","on","mousemove","mouseover","mouseleave","directives","name","rawName","value","showImg","expression","attrs","imgUrl","showEidt","$event","rotate","_e","staticRenderFns","props","scale","type","Number","default","String","required","bigUrl","scroll","Boolean","cover","imgbox","imgwrap","orginUrl","bigImgUrl","bigOrginUrl","img","canvas","ctx","rectTimesX","rectTimesY","imgTimesX","imgTimesY","init","step","bigStep","created","$chars","maxPos","length","str","i","charAt","Math","floor","random","watch","val","initTime","mounted","$nextTick","methods","imgsrc","box","$refs","querySelector","style","width","offsetWidth","height","offsetHeight","left","top","Image","src","onload","parentNode","removeChild","document","createElement","className","position","offsetLeft","offsetTop","border","zIndex","display","body","append","getContext","clearRect","initBox","setTimeout","e","_this","offset","curEle","totalLeft","totalTop","par","offsetParent","navigator","userAgent","indexOf","clientLeft","clientTop","getXY","eve","x","clientX","y","clientY","oEvent","event","pos","range","minX","maxX","minY","documentElement","scrollTop","maxY","startX","scrollLeft","startY","drawImage","currentTarget","addEventListener","ev","preventDefault","direction","orginImg","crossOrigin","rotateImg","bigOrginImg","isBig","min_step","max_step","degree","PI","newImg","toDataURL","component","loading","_v","list","_l","item","index","key","$router","pushToTab","path","sku_id","$img","size","imageError","_s","discount_price","goods_name","page","pageSize","getGoodsRecommend","computed","mapGetters","goodsRecommend","page_size","then","res","code","catch","sku_image","defaultGoodsImage","shopList","shopIsSubscribe","addShopSubscribe","deleteShopSubscribe","msTime","show","day","dayTxt","hour","hourTxt","minutes","minutesTxt","seconds","secondsTxt","replace","tipShow","star","end","current","currentTime","oldval","gogogo","tipText","tipTextEnd","startTime","endTime","endText","secondsFixed","console","log","toString","Date","getTime","end_message","$set","runTime","start_message","$emit","callFun","timeDistance","toFixed","now","diffPerFunc"],"mappings":"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","file":"assets/js/chunk-0e986f86.059e247f.js","sourcesContent":["import http from \"../../utils/http\"\r\n\r\n/**\r\n * 商品评价列表\r\n * @param {object} params\r\n */\r\nexport function goodsEvaluateList(params) {\r\n    return http({\r\n        url: \"/api/goodsevaluate/page\",\r\n        data: params\r\n    })\r\n}\r\n","module.exports=require('./lib/vue2-countdown.vue')\n","import http from \"../../utils/http\"\r\n\r\n/**\r\n * 是否关注该商品\r\n * @param {object} params\r\n */\r\nexport function isCollect(params) {\r\n    return http({\r\n        url: \"/api/goodscollect/iscollect\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n\r\n/**\r\n * 添加商品关注\r\n * @param {Object} params\r\n */\r\nexport function addCollect(params) {\r\n    return http({\r\n        url: \"/api/goodscollect/add\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n\r\n/**\r\n * 删除商品关注\r\n * @param {Object} params\r\n */\r\nexport function deleteCollect(params) {\r\n    return http({\r\n        url: \"/api/goodscollect/delete\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n","export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./PicZoom.vue?vue&type=style&index=0&id=69c01ff0&prod&lang=scss&scoped=true\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAACEUlEQVRIS7WVsXEcMQxFQaZ24MC5FNoznpE7kK4KhXIJ6EB3FRwyp3IJrkC6Dk6hM5egQE6XnscBOFzerhx4jskOl+Tnx8cHmOSMI50RWyq4qt6IyOPKRQczY302VLWsETOzijuC/xCR392hb8wDXFWZX/j6VkQOIvLU7YfE9Rr4BrCU0sV+vz+oaj0IONGVUm5TSp8d7FpEdiynlK5KKc+IICL3b4Fze90wgCPDxszqhS4L4MyRFGLt7JIslbmIXALi4FcicnSWfC9FZO9AlbmIfPU9bzJ/WNCcvPCfEV+0v3fWo+Y3oyzcDAMGzEgayWIczUyJopTyPaX0y8yOHhV7PzjrltcwwInPVRUXtKT0dutz4LqzF6YnVm2ar/nVwXAFjokEt/nCxbO18Dnh3flmioZkbqdpes05f2GtA2dvaI/eGOBumqY/Oef3ToSIFit0Z2ZbtxruYTyuWHNmxbBpRDTT3GV4AnyUKi7rATw/VfNRwp45bsG7fF8GO8Y9O6/QTx76RlWrWzr3INFDEBh7CyUMeAwuCzsGuygYogPsxcsfK//sox7BW3m71VpvGecL5c+Wmq+Z5l3LnfWHBV/3jSxabmvJY42cMPdbSRKOAYxqRccdLXeapo8553fhNLcrc9o1Oahnl6z4r95Sws8B0EXdzkJkzeejC2vY3csze5mWXrFZ41or///9f9YH+i/YqE4ncfpLqwAAAABJRU5ErkJggg==\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:_vm.id,staticClass:\"magnifier-box\",class:_vm.vertical?'vertical':'',on:{\"mousemove\":_vm.mousemove,\"mouseover\":_vm.mouseover,\"mouseleave\":_vm.mouseleave}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showImg),expression:\"showImg\"}],attrs:{\"src\":_vm.imgUrl,\"alt\":\"\"}}),_c('div',{staticClass:\"mouse-cover\"}),(_vm.showEidt)?_c('div',{staticClass:\"edit-wrap\"},[_c('span',{staticClass:\"rotate-left\",on:{\"click\":function($event){return _vm.rotate('left')}}}),_c('span',{staticClass:\"rotate-right\",on:{\"click\":function($event){return _vm.rotate('right')}}})]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"magnifier-box\" :class=\"vertical?'vertical':''\" :ref=\"id\" @mousemove=\"mousemove\" @mouseover=\"mouseover\" @mouseleave=\"mouseleave\">\r\n        <img v-show=\"showImg\" :src=\"imgUrl\" alt=\"\">\r\n        <div class=\"mouse-cover\"></div>\r\n        <div class=\"edit-wrap\" v-if=\"showEidt\">\r\n            <span class=\"rotate-left\" @click=\"rotate('left')\"></span>\r\n            <span class=\"rotate-right\" @click=\"rotate('right')\"></span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props:{\r\n            scale:{\r\n                type:Number,\r\n                default:2.5\r\n            },\r\n            url:{\r\n                type:String,\r\n                required:true\r\n            },\r\n            bigUrl:{\r\n                type:String,\r\n                default:null\r\n            },\r\n            scroll:{\r\n                type:Boolean,\r\n                default:false\r\n            },\r\n            showEidt:{\r\n                type:Boolean,\r\n                default:false\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                id:null,\r\n                cover:null,\r\n                imgbox:null,\r\n                imgwrap:null,\r\n                orginUrl:null,\r\n                bigImgUrl:null,\r\n                bigOrginUrl:null,\r\n                imgUrl:null,\r\n                img:null,\r\n                canvas:null,\r\n                ctx:null,\r\n                rectTimesX:0,\r\n                rectTimesY:0,\r\n                imgTimesX:0,\r\n                imgTimesY:0,\r\n                init:false,\r\n                step:0,\r\n                bigStep:0,\r\n                vertical:false,\r\n                showImg:true\r\n            }\r\n        },\r\n        created(){\r\n        　　var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n        　　var maxPos = $chars.length;\r\n        　　var str = '';\r\n        　　for (let i = 0; i < 10; i++) {\r\n                str += $chars.charAt(Math.floor(Math.random() * maxPos));\r\n        　　}\r\n            this.id=str\r\n            this.imgUrl=this.url\r\n            this.orginUrl=this.url\r\n            this.bigImgUrl=this.bigUrl\r\n            this.bigOrginUrl=this.bigUrl\r\n        },\r\n        watch:{\r\n            url:function(val){\r\n                this.imgUrl=val\r\n                this.orginUrl=val\r\n                this.initTime()\r\n            },\r\n            bigUrl:function(){\r\n                this.bigImgUrl=bigUrl\r\n                this.bigOrginUrl=bigUrl\r\n                this.initTime()\r\n            }\r\n        },\r\n        mounted(){\r\n            this.$nextTick(()=>{\r\n                this.initTime()\r\n            })\r\n        },\r\n        methods: {\r\n            initTime(){\r\n                this.init=false\r\n                let box=this.$refs[this.id]\r\n                this.imgbox=box\r\n                this.cover=box.querySelector('.mouse-cover')\r\n                this.cover.style.width=(this.imgbox.offsetWidth/this.scale)+'px'\r\n                this.cover.style.height=(this.imgbox.offsetHeight/this.scale)+'px'\r\n                this.cover.style.left='-100%'\r\n                this.cover.style.top='-100%'\r\n                this.imgwrap=box.querySelector('img')\r\n                let imgsrc;\r\n                if(this.bigImgUrl){\r\n                    imgsrc=this.bigImgUrl\r\n                }else{\r\n                    imgsrc=this.imgUrl\r\n                }\r\n                \r\n                this.img=new Image()\r\n                this.img.src=imgsrc\r\n                this.img.onload=()=>{\r\n                    this.rectTimesX=(this.imgbox.offsetWidth/this.scale)/this.imgwrap.offsetWidth,\r\n                    this.rectTimesY=(this.imgbox.offsetHeight/this.scale)/this.imgwrap.offsetHeight\r\n                    this.imgTimesX=this.img.width/this.imgwrap.offsetWidth,\r\n                    this.imgTimesY=this.img.height/this.imgwrap.offsetHeight\r\n                    this.vertical=this.img.width<this.img.height\r\n                    this.init=true\r\n                }\r\n                if(this.canvas){\r\n                    this.canvas.parentNode.removeChild(this.canvas);\r\n                    this.canvas=null\r\n                }\r\n                this.canvas=document.createElement('canvas')\r\n                this.canvas.className='mouse-cover-canvas'\r\n                this.canvas.style.position='absolute'\r\n                this.canvas.style.left=this.imgbox.offsetLeft+this.imgbox.offsetWidth+10+'px'\r\n                this.canvas.style.top=this.imgbox.offsetTop+'px'\r\n                this.canvas.style.border='1px solid #eee'\r\n                this.canvas.style.zIndex='99999'\r\n                this.canvas.height=this.imgbox.offsetHeight\r\n                this.canvas.width=this.imgbox.offsetWidth\r\n                this.canvas.style.display='none'\r\n                document.body.append(this.canvas)\r\n                this.ctx=this.canvas.getContext(\"2d\");\r\n                this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\r\n            },\r\n            initBox(){\r\n                this.showImg=false\r\n                this.canvas.style.display='none'\r\n                let box=this.$refs[this.id]\r\n                let imgsrc;\r\n                if(this.bigImgUrl){\r\n                    imgsrc=this.bigImgUrl\r\n                }else{\r\n                    imgsrc=this.imgUrl\r\n                    \r\n                }\r\n                this.img=new Image()\r\n                this.img.src=imgsrc\r\n                this.img.onload=()=>{\r\n                    this.vertical=this.img.width<this.img.height\r\n                    this.showImg=true\r\n                    let thumb=box.querySelector('img')\r\n                    setTimeout(() => {\r\n                        this.rectTimesX=(this.imgbox.offsetWidth/this.scale)/box.querySelector('img').offsetWidth,\r\n                        this.rectTimesY=(this.imgbox.offsetHeight/this.scale)/box.querySelector('img').offsetHeight\r\n                    }, 20);\r\n                }\r\n                \r\n            },\r\n            mousemove(e){\r\n                if(!this.init){\r\n                    return false\r\n                }\r\n                let _this=this\r\n                //获取实际的offset\r\n                function offset(curEle){\r\n                    var totalLeft = null,totalTop = null,par = curEle.offsetParent;\r\n                    //首先加自己本身的左偏移和上偏移\r\n                    totalLeft+=curEle.offsetLeft;\r\n                    totalTop+=curEle.offsetTop\r\n                    //只要没有找到body，我们就把父级参照物的边框和偏移也进行累加\r\n                    while(par){\r\n                        if(navigator.userAgent.indexOf(\"MSIE 8.0\")===-1){\r\n                        //累加父级参照物的边框\r\n                        totalLeft+=par.clientLeft;\r\n                        totalTop+=par.clientTop\r\n                        }\r\n                        \r\n                        //累加父级参照物本身的偏移\r\n                        totalLeft+=par.offsetLeft;\r\n                        totalTop+=par.offsetTop\r\n                        par = par.offsetParent;\r\n                    }\r\n                \r\n                    return{\r\n                        left:totalLeft,\r\n                        top:totalTop\r\n                    }\r\n                }\r\n\r\n                function getXY(eve) {\r\n                    return {\r\n                        x : eve.clientX -(_this.cover.offsetWidth/2),\r\n                        y : eve.clientY-(_this.cover.offsetHeight/2) \r\n                    };\r\n                }\r\n                let oEvent = e || event;\r\n                let pos = getXY(oEvent);\r\n                let imgwrap=offset(this.imgwrap)\r\n                let range={\r\n                    minX:imgwrap.left,\r\n                    maxX:imgwrap.left+this.imgwrap.offsetWidth-this.cover.offsetWidth,\r\n                    minY:imgwrap.top-document.documentElement.scrollTop,\r\n                    maxY:imgwrap.top-document.documentElement.scrollTop+this.imgwrap.offsetHeight-this.cover.offsetHeight,\r\n                }\r\n                if(pos.x>range.maxX){\r\n                    pos.x=range.maxX\r\n                }\r\n                if(pos.x<range.minX){\r\n                    pos.x=range.minX\r\n                }\r\n                if(pos.y>range.maxY){\r\n                    pos.y=range.maxY\r\n                }\r\n                if(pos.y<range.minY){\r\n                    pos.y=range.minY\r\n                }\r\n                this.cover.style.left=pos.x+'px'\r\n                this.cover.style.top=pos.y+'px'\r\n                this.ctx.clearRect(0,0,this.imgwrap.offsetWidth,this.imgwrap.offsetHeight);\r\n                let startX=pos.x-(imgwrap.left-document.documentElement.scrollLeft),\r\n                startY=pos.y-(imgwrap.top-document.documentElement.scrollTop)\r\n                this.ctx.drawImage(this.img,startX*this.imgTimesX,startY*this.imgTimesY,this.img.width*this.rectTimesX,this.img.height*this.rectTimesY,0,0,this.imgbox.offsetWidth,this.imgbox.offsetHeight);\r\n                \r\n            },\r\n            mouseover(e){\r\n                if(!this.init){\r\n                    return false\r\n                }\r\n                e=e||event\r\n                if(!this.scroll){\r\n                    e.currentTarget.addEventListener(\"mousewheel\",function(ev){\r\n                        ev.preventDefault();\r\n                    },false);\r\n\r\n                    e.currentTarget.addEventListener(\"DOMMouseScroll\",function(ev){\r\n                        ev.preventDefault();\r\n                    },false);\r\n                }\r\n                \r\n                this.cover.style.display='block'\r\n                this.canvas.style.display='block'\r\n            },\r\n            mouseleave(){\r\n                if(!this.init){\r\n                    return false\r\n                }\r\n                this.cover.style.display='none'\r\n                this.canvas.style.display='none'\r\n            },\r\n            rotate(direction){\r\n                var orginImg=new Image()\r\n                orginImg.crossOrigin = \"Anonymous\";\r\n                orginImg.src=this.orginUrl\r\n                orginImg.onload=()=>{\r\n                    this.rotateImg(orginImg,direction,this.step)\r\n                }\r\n                if(this.bigOrginUrl){\r\n                    var bigOrginImg=new Image()\r\n                    orginImg.crossOrigin = \"Anonymous\";\r\n                    bigOrginImg.src=this.bigOrginUrl\r\n                    bigOrginImg.onload=()=>{\r\n                        this.rotateImg(bigOrginImg,direction,this.bigStep,true)\r\n                    }\r\n                }\r\n                \r\n            },\r\n            rotateImg(img,direction,step,isBig=false){\r\n                var min_step = 0;\r\n                var max_step = 3;\r\n                if (img == null) return;\r\n                //img的高度和宽度不能在img元素隐藏后获取，否则会出错    \r\n                var height = img.height;\r\n                var width = img.width;\r\n                \r\n                if (step == null) {\r\n                    step = min_step;\r\n                }\r\n                if (direction == 'right') {\r\n                    step++;\r\n                    //旋转到原位置，即超过最大值    \r\n                    step > max_step && (step = min_step);\r\n                } else {\r\n                    step--;\r\n                    step < min_step && (step = max_step);\r\n                }   \r\n                var canvas = document.createElement('canvas')  \r\n                \r\n                //旋转角度以弧度值为参数    \r\n                var degree = step * 90 * Math.PI / 180;\r\n                var ctx = canvas.getContext('2d');\r\n                canvas.width = height;\r\n                canvas.height = width;\r\n                ctx.rotate(degree);\r\n                ctx.drawImage(img, 0, -height);\r\n                switch (step) {\r\n                    case 0:\r\n                        canvas.width = width;\r\n                        canvas.height = height;\r\n                        ctx.drawImage(img, 0, 0);\r\n                        break;\r\n                    case 1:\r\n                        canvas.width = height;\r\n                        canvas.height = width;\r\n                        ctx.rotate(degree);\r\n                        ctx.drawImage(img, 0, -height);\r\n                        break;\r\n                    case 2:\r\n                        canvas.width = width;\r\n                        canvas.height = height;\r\n                        ctx.rotate(degree);\r\n                        ctx.drawImage(img, -width, -height);\r\n                        break;\r\n                    case 3:\r\n                        canvas.width = height;\r\n                        canvas.height = width;\r\n                        ctx.rotate(degree);\r\n                        ctx.drawImage(img, -width, 0);\r\n                        break;\r\n                }\r\n                var newImg=canvas.toDataURL()\r\n                \r\n                if(isBig){\r\n                    this.bigImgUrl=newImg\r\n                    this.bigStep=step\r\n                    this.initBox()\r\n                }else{\r\n                    this.imgUrl=newImg\r\n                    this.step=step\r\n                    this.$nextTick(()=>{\r\n                        this.initBox()\r\n                    })\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .magnifier-box{\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        overflow: hidden;\r\n        position: relative;\r\n        .edit-wrap{\r\n            position: absolute;\r\n            top: 5px;\r\n            right: 0;\r\n            z-index: 9999999;\r\n            background: rgba(0,0,0,0.4);\r\n            padding: 5px 15px 0 15px;\r\n            border-radius: 15px;\r\n            .rotate-left{\r\n                display: inline-block;\r\n                cursor: pointer;\r\n                width: 16px;\r\n                height: 16px;\r\n                background: url(../rotate.png);\r\n                background-size: 100% 100%;\r\n                -moz-transform:scaleX(-1);\r\n                -webkit-transform:scaleX(-1);\r\n                -o-transform:scaleX(-1);\r\n                transform:scaleX(-1);\r\n                /*IE*/\r\n                filter:FlipH;\r\n            }\r\n            .rotate-right{\r\n                margin-left: 10px;\r\n                cursor: pointer;\r\n                display: inline-block;\r\n                width: 16px;\r\n                height: 16px;\r\n                background: url(../rotate.png);\r\n                background-size: 100% 100%;\r\n            }\r\n        }\r\n        img{\r\n            width: 100%;\r\n        };\r\n        .mouse-cover{\r\n            position: fixed;\r\n            background-color: rgba(0,0,0,0.5);\r\n            cursor:move\r\n        };\r\n        .mouse-cover-canvas{\r\n            position:fixed;\r\n            left:100%;\r\n            top:0;\r\n            width:100%;\r\n            height:100%;\r\n        }\r\n        &.vertical{\r\n            img{\r\n                height: 100%;\r\n                width: auto\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\r\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./PicZoom.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--13-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--1-0!../../../vue-loader/lib/index.js??vue-loader-options!./PicZoom.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PicZoom.vue?vue&type=template&id=69c01ff0&scoped=true\"\nimport script from \"./PicZoom.vue?vue&type=script&lang=js\"\nexport * from \"./PicZoom.vue?vue&type=script&lang=js\"\nimport style0 from \"./PicZoom.vue?vue&type=style&index=0&id=69c01ff0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69c01ff0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"goods-recommend\"},[_c('h4',[_vm._v(\"商品精选\")]),(_vm.list.length)?_c('ul',_vm._l((_vm.list),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.$router.pushToTab({ path: '/sku-' + item.sku_id })}}},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{attrs:{\"src\":_vm.$img(item['sku_image'], { size: 'mid' })},on:{\"error\":function($event){return _vm.imageError(index)}}})]),_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.discount_price))]),_c('p',{staticClass:\"sku-name\"},[_vm._v(_vm._s(item.goods_name))]),_c('div',{staticClass:\"info-wrap\"})])}),0):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"goods-recommend\" v-loading=\"loading\">\r\n\t\t<h4>商品精选</h4>\r\n\t\t<ul v-if=\"list.length\">\r\n\t\t\t<li v-for=\"(item, index) in list\" :key=\"index\"  @click=\"$router.pushToTab({ path: '/sku-' + item.sku_id })\">\r\n\t\t\t\t<div class=\"img-wrap\"><img :src=\"$img(item['sku_image'], { size: 'mid' })\" @error=\"imageError(index)\" /></div>\r\n\t\t\t\t<div class=\"price\">￥{{ item.discount_price }}</div>\r\n\t\t\t\t<p class=\"sku-name\">{{ item.goods_name }}</p>\r\n\t\t\t\t<div class=\"info-wrap\"></div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport { goodsRecommend } from '../api/goods/goods';\r\nexport default {\r\n\tname: 'goods_recommend',\r\n\tprops: {\r\n\t\tpage: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: 1\r\n\t\t},\r\n\t\tpageSize: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: 5\r\n\t\t}\r\n\t},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tloading: true,\r\n\t\t\tlist: []\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getGoodsRecommend();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['defaultGoodsImage'])\r\n\t},\r\n\tmethods: {\r\n\t\tgetGoodsRecommend() {\r\n\t\t\tgoodsRecommend({\r\n\t\t\t\tpage: this.page,\r\n\t\t\t\tpage_size: this.pageSize\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code == 0) this.list = res.data.list;\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(res => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\timageError(index) {\r\n\t\t\tthis.list[index].sku_image = this.defaultGoodsImage;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.goods-recommend {\r\n\tborder: 1px solid #eeeeee;\r\n\th4 {\r\n\t\tmargin: 10px;\r\n\t}\r\n\tul {\r\n\t\tli {\r\n\t\t\tpadding: 10px;\r\n\t\t\tcursor: pointer;\r\n\t\t\t.price {\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t}\r\n\t\t\t.sku-name {\r\n\t\t\t\tfont-size: $ns-font-size-sm;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t}\r\n\t\t\t&:hover {\r\n\t\t\t\tcolor: $base-color;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsRecommend.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsRecommend.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GoodsRecommend.vue?vue&type=template&id=427ce1a4&scoped=true\"\nimport script from \"./GoodsRecommend.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsRecommend.vue?vue&type=script&lang=js\"\nimport style0 from \"./GoodsRecommend.vue?vue&type=style&index=0&id=427ce1a4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"427ce1a4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsRecommend.vue?vue&type=style&index=0&id=427ce1a4&prod&lang=scss&scoped=true\"","import http from \"../utils/http\"\r\n\r\n/**\r\n * 店铺列表\r\n * @param {object} params\r\n */\r\nexport function shopList(params) {\r\n    return http({\r\n        url: \"/api/shop/page\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 是否关注店铺\r\n * @param {object} params\r\n */\r\nexport function shopIsSubscribe(params) {\r\n    return http({\r\n        url: \"/api/shopmember/issubscribe\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n\r\n/**\r\n * 关注店铺\r\n * @param {object} params\r\n */\r\nexport function addShopSubscribe(params) {\r\n    return http({\r\n        url: \"/api/shopmember/add\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n\r\n/**\r\n * 取消关注店铺\r\n * @param {object} params\r\n */\r\nexport function deleteShopSubscribe(params) {\r\n    return http({\r\n        url: \"/api/shopmember/delete\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.msTime.show)?_c('p',[(_vm.msTime.day>0)?_c('span',[_c('span',[_vm._v(_vm._s(_vm.msTime.day))]),_c('i',[_vm._v(_vm._s(_vm.dayTxt))])]):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.msTime.hour))]),_c('i',[_vm._v(_vm._s(_vm.hourTxt))]),_c('span',[_vm._v(_vm._s(_vm.msTime.minutes))]),_c('i',[_vm._v(_vm._s(_vm.minutesTxt))]),_c('span',[_vm._v(_vm._s(_vm.msTime.seconds))]),_c('i',[_vm._v(_vm._s(_vm.secondsTxt))])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p v-if=\"msTime.show\">\n      <!--<span v-if=\"tipShow\">{{tipText}}:</span>-->\n      <!--<span v-if=\"!tipShow\">{{tipTextEnd}}:</span>-->\n      <span v-if=\"msTime.day>0\"><span>{{msTime.day}}</span><i>{{dayTxt}}</i></span>\n      <span>{{msTime.hour}}</span><i>{{hourTxt}}</i>\n      <span>{{msTime.minutes}}</span><i>{{minutesTxt}}</i>\n      <span>{{msTime.seconds}}</span><i>{{secondsTxt}}</i>\n    </p>\n    <!--<p v-if=\"!msTime.show\">{{endText}}</p>-->\n  </div>\n</template>\n<script>\n  export default {\n    replace: true,\n    data () {\n      return {\n        tipShow: true,\n        msTime: {\t\t\t//倒计时数值\n          show: false,\t\t//倒计时状态\n          day: '',\t\t\t//天\n          hour: '',\t\t//小时\n          minutes: '',\t\t//分钟\n          seconds: ''\t\t//秒\n        },\n        star: '',\t\t\t//活动开始时间\n        end: '',\t\t\t\t//活动结束时间\n        current: '',         //当前时间\n      }\n    },\n    watch: {\n      currentTime: function (val, oldval) {\n        this.gogogo();\n      }\n    },\n    props: {\n      //距离开始提示文字\n      tipText: {\n        type: String,\n        default: '距离开始'\n      },\n      //距离结束提示文字\n      tipTextEnd: {\n        type: String,\n        default: '距离结束'\n      },\n      //时间控件ID\n      id: {\n        type: String,\n        default: '1'\n      },\n      //当前时间\n      currentTime: {\n        type: Number\n      },\n      // 活动开始时间\n      startTime: {\n        type: Number\n      },\n      // 活动结束时间\n      endTime: {\n        type: Number\n      },\n      // 倒计时结束显示文本\n      endText: {\n        type: String,\n        default: '已结束'\n      },\n      //自定义显示文字:天\n      dayTxt: {\n        type: String,\n        default: ':'\n      },\n      //自定义显示文字:时\n      hourTxt: {\n        type: String,\n        default: ':'\n      },\n      //自定义显示文字:分\n      minutesTxt: {\n        type: String,\n        default: ':'\n      },\n      secondsTxt: {\n        type: String,\n        default: ':'\n      },\n      //是否开启秒表倒计，未完成\n      secondsFixed: {\n        type: Boolean,\n        default: false\n      },\n    },\n    mounted () {\n      console.log(this)\n      this.gogogo();\n    },\n    methods: {\n      gogogo: function () {\n        //判断是秒还是毫秒\n        this.startTime.toString().length == 10 ? this.star = this.startTime * 1000 : this.star = this.startTime;\n        this.endTime.toString().length == 10 ? this.end = this.endTime * 1000 : this.end = this.endTime;\n        if (this.currentTime) {\n          this.currentTime.toString().length == 10 ? this.current = this.currentTime * 1000 : this.current = this.currentTime;\n        } else {\n          this.current = ( new Date() ).getTime();\n        }\n\n        if (this.end < this.current) {\n          /**\n           * 结束时间小于当前时间 活动已结束\n           */\n          this.msTime.show = false;\n          this.end_message();\n        }\n        else if (this.current < this.star) {\n          /**\n           * 当前时间小于开始时间 活动尚未开始\n           */\n          this.$set(this, 'tipShow', true);\n          setTimeout(() => {\n            this.runTime(this.star, this.current, this.start_message);\n          }, 1);\n        }\n        else if (this.end > this.current && this.star < this.current || this.star == this.current) {\n          /**\n           * 结束时间大于当前并且开始时间小于当前时间，执行活动开始倒计时\n           */\n          this.$set(this, 'tipShow', false);\n          this.msTime.show = true;\n          this.$emit('start_callback', this.msTime.show);\n          setTimeout(() => {\n            this.runTime(this.end, this.star, this.end_message, true)\n          }, 1);\n        }\n      },\n      runTime (startTime, endTime, callFun, type) {\n        let msTime = this.msTime;\n        let timeDistance = startTime - endTime;\n        if (timeDistance > 0) {\n          this.msTime.show = true;\n          msTime.day = Math.floor(timeDistance / 86400000);\n          timeDistance -= msTime.day * 86400000;\n          msTime.hour = Math.floor(timeDistance / 3600000);\n          timeDistance -= msTime.hour * 3600000;\n          msTime.minutes = Math.floor(timeDistance / 60000);\n          timeDistance -= msTime.minutes * 60000;\n          //是否开启秒表倒计,未完成\n//                    this.secondsFixed ? msTime.seconds = new Number(timeDistance / 1000).toFixed(2) : msTime.seconds = Math.floor( timeDistance / 1000 ).toFixed(0);\n          msTime.seconds = Math.floor(timeDistance / 1000).toFixed(0);\n          timeDistance -= msTime.seconds * 1000;\n\n          if (msTime.hour < 10) {\n            msTime.hour = \"0\" + msTime.hour;\n          }\n          if (msTime.minutes < 10) {\n            msTime.minutes = \"0\" + msTime.minutes;\n          }\n          if (msTime.seconds < 10) {\n            msTime.seconds = \"0\" + msTime.seconds;\n          }\n          let _s = Date.now();\n          let _e = Date.now();\n          let diffPerFunc = _e - _s;\n          setTimeout(() => {\n            if (type) {\n              this.runTime(this.end, endTime += 1000, callFun, true);\n            } else {\n              this.runTime(this.star, endTime += 1000, callFun);\n            }\n          }, 1000 - diffPerFunc)\n        }\n        else {\n          callFun();\n        }\n      },\n      start_message () {\n        this.$set(this, 'tipShow', false);\n        this.$emit('start_callback', this.msTime.show);\n        setTimeout(() => {\n          this.runTime(this.end, this.star, this.end_message, true)\n        }, 1);\n      },\n      end_message(){\n        this.msTime.show = false;\n        if (this.currentTime <= 0) {\n          return;\n        }\n        this.$emit('end_callback', this.msTime.show);\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../cache-loader/dist/cjs.js??ref--13-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./vue2-countdown.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../cache-loader/dist/cjs.js??ref--13-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./vue2-countdown.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./vue2-countdown.vue?vue&type=template&id=5c858bb0\"\nimport script from \"./vue2-countdown.vue?vue&type=script&lang=js\"\nexport * from \"./vue2-countdown.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}