(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a9566e7"],{"03c8":function(e,t,i){},"121f":function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return c})),i.d(t,"e",(function(){return o}));var a=i("751a");function r(e){return Object(a["a"])({url:"/api/verify/checkisverifier",data:e,forceLogin:!0})}function n(e){return Object(a["a"])({url:"/api/verify/verifyInfo",data:e,forceLogin:!0})}function s(e){return Object(a["a"])({url:"/api/verify/verify",data:e,forceLogin:!0})}function c(e){return Object(a["a"])({url:"/api/verify/getVerifyType",data:e})}function o(e){return Object(a["a"])({url:"/api/verify/lists",data:e,forceLogin:!0})}},"85d2":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.yes,expression:"yes"}],staticClass:"null-page"}),t("el-card",{staticClass:"box-card order-list"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("核销记录")])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.orderType,callback:function(t){e.orderType=t},expression:"orderType"}},e._l(e.typeList,(function(e,i){return t("el-tab-pane",{key:i,attrs:{label:e.name,name:e.type}})})),1),t("div",[t("nav",[t("li",[e._v("商品信息")]),t("li",[e._v("单价")]),t("li",[e._v("数量")])]),e.verifyList.length>0?t("div",{staticClass:"list"},e._l(e.verifyList,(function(i,a){return t("div",{key:a,staticClass:"item"},[t("div",{staticClass:"head"},[t("span",{staticClass:"create-time"},[e._v(e._s(e.$util.timeStampTurnTime(i.create_time)))]),t("router-link",{attrs:{to:"/shop-"+i.site_id,target:"_blank"}},[e._v(e._s(i.site_name))]),t("span",{staticClass:"order-type"},[e._v(e._s(i.order_type_name))]),t("span",{staticClass:"order-type"},[e._v("核销员："+e._s(i.verifier_name))])],1),e._l(i.item_array,(function(r,n){return t("ul",{key:n},[t("li",[t("div",{staticClass:"img-wrap",on:{click:function(t){return e.toVerifyDetail(i.verify_code)}}},[t("img",{attrs:{src:e.$img(r.img)},on:{error:function(t){return e.imageError(a,n)}}})]),t("div",{staticClass:"info-wrap"},[t("h5",{on:{click:function(t){return e.toVerifyDetail(i.verify_code)}}},[e._v(e._s(r.name))])])]),t("li",[t("span",[e._v("￥"+e._s(r.price))])]),t("li",[t("span",[e._v(e._s(r.num))])])])}))],2)})),0):e.loading||0!=e.verifyList.length?e._e():t("div",{staticClass:"empty-wrap"},[e._v("暂无相关订单")])])],1),t("div",{staticClass:"pager"},[t("el-pagination",{attrs:{background:"","pager-count":5,total:e.total,"prev-text":"上一页","next-text":"下一页","current-page":e.currentPage,"page-size":e.pageSize,"hide-on-single-page":""},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handlePageSizeChange,"current-change":e.handleCurrentPageChange}})],1)])],1)},r=[],n=(i("14d9"),i("2f62")),s=i("121f"),c={name:"verification_list",components:{},data:()=>({orderType:"",loading:!0,typeList:[],verifyList:[],currentPage:1,pageSize:10,total:0,yes:!0}),created(){this.getVerifyType()},computed:{...Object(n["b"])(["defaultGoodsImage"])},mounted(){let e=this;setTimeout((function(){e.yes=!1}),300)},methods:{handlePageSizeChange(e){this.pageSize=e,this.refresh()},handleCurrentPageChange(e){this.currentPage=e,this.refresh()},refresh(){this.loading=!0,this.getVerifyType()},handleClick(e,t){this.refresh()},getVerifyType(){Object(s["b"])().then(e=>{if(e.code>=0){if(this.typeList=[],this.verifyList=[],Object.keys(e.data).forEach(t=>{this.typeList.push({type:t,name:e.data[t].name})}),0==this.orderType)for(let e=0;e<this.typeList.length;e++)0==e&&(this.orderType=this.typeList[e].type);this.getVerifyList(this.orderType)}}).catch(e=>{})},getVerifyList(e){Object(s["e"])({verify_type:e,page:this.currentPage,page_size:this.pageSize}).then(e=>{this.verifyList=e.data.list,this.total=e.data.count,this.loading=!1}).catch(e=>{this.$message.error(e.message),this.loading=!1})},imageError(e,t){this.verifyList[e].item_array[t].img=this.defaultGoodsImage},toVerifyDetail(e){this.$router.push({path:"/member/verification_detail",query:{code:e}})}}},o=c,l=(i("da54"),i("2877")),u=Object(l["a"])(o,a,r,!1,null,"85ebd492",null);t["default"]=u.exports},da54:function(e,t,i){"use strict";i("03c8")}}]);
//# sourceMappingURL=chunk-1a9566e7.9983e752.js.map