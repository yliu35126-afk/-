{"version":3,"sources":["webpack:///./src/views/member/address_edit.vue","webpack:///src/views/member/address_edit.vue","webpack:///./src/views/member/address_edit.vue?e6d5","webpack:///./src/views/member/address_edit.vue?cb01","webpack:///./src/views/member/address_edit.vue?8f17"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","yes","expression","attrs","slot","_v","loading","ref","formData","rules","model","callback","$$v","$set","mobile","telephone","trim","on","$event","changeProvice","province_id","_l","province","option","key","id","_s","changeCity","city_id","city","changeDistrict","district_id","district","address","is_default","saveAddress","staticRenderFns","components","data","self","isMobile","rule","Error","reg","test","fullAddress","community_id","full_address","latitude","longitude","addressValue","flag","defaultRegions","required","message","trigger","validator","pickerValueArray","multiIndex","isInitMultiArray","isLoadDefaultAreas","created","$route","query","getAddressDetail","getDefaultAreas","level","mounted","setTimeout","watch","handler","arr","oldArr","length","join","handleDefaultRegions","immediate","computed","pickedArr","methods","getAreas","obj","find","item","addressInfo","then","res","catch","err","pid","getArea","code","forEach","index","push","selected","undefined","time","setInterval","i","j","k","u","handleValueChange","detail","clearInterval","e","index0","index1","index2","arr0","arr1","arr2","formName","$refs","validate","valid","url","$router","path","$message","type","error","component"],"mappings":"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","file":"assets/js/chunk-593af713.0535a33b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"编辑收货地址\")])]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"ns-member-address-list\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"ns-len-input\",attrs:{\"placeholder\":\"收货人姓名\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{staticClass:\"ns-len-input\",attrs:{\"autocomplete\":\"off\",\"placeholder\":\"收货人手机号\"},model:{value:(_vm.formData.mobile),callback:function ($$v) {_vm.$set(_vm.formData, \"mobile\", $$v)},expression:\"formData.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\"}},[_c('el-input',{staticClass:\"ns-len-input\",attrs:{\"autocomplete\":\"off\",\"placeholder\":\"收货人固定电话（选填）\"},model:{value:(_vm.formData.telephone),callback:function ($$v) {_vm.$set(_vm.formData, \"telephone\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formData.telephone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"地址\",\"prop\":\"full_address\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择省\"},on:{\"change\":function($event){return _vm.changeProvice(_vm.formData.province_id)}},model:{value:(_vm.formData.province_id),callback:function ($$v) {_vm.$set(_vm.formData, \"province_id\", $$v)},expression:\"formData.province_id\"}},_vm._l((_vm.province),function(option){return _c('el-option',{key:option.id,attrs:{\"label\":option.name,\"value\":option.id}},[_vm._v(_vm._s(option.name))])}),1),_c('el-select',{attrs:{\"placeholder\":\"请选择市\"},on:{\"change\":function($event){return _vm.changeCity(_vm.formData.city_id)}},model:{value:(_vm.formData.city_id),callback:function ($$v) {_vm.$set(_vm.formData, \"city_id\", $$v)},expression:\"formData.city_id\"}},_vm._l((_vm.city),function(option){return _c('el-option',{key:option.id,attrs:{\"label\":option.name,\"value\":option.id}},[_vm._v(_vm._s(option.name))])}),1),_c('el-select',{attrs:{\"placeholder\":\"请选择区/县\"},on:{\"change\":function($event){return _vm.changeDistrict(_vm.formData.district_id)}},model:{value:(_vm.formData.district_id),callback:function ($$v) {_vm.$set(_vm.formData, \"district_id\", $$v)},expression:\"formData.district_id\"}},_vm._l((_vm.district),function(option){return _c('el-option',{key:option.id,attrs:{\"label\":option.name,\"value\":option.id}},[_vm._v(_vm._s(option.name))])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"详细地址\",\"prop\":\"address\"}},[_c('el-input',{staticClass:\"ns-len-input\",attrs:{\"autocomplete\":\"off\",\"placeholder\":\"定位到小区、街道、写字楼\"},model:{value:(_vm.formData.address),callback:function ($$v) {_vm.$set(_vm.formData, \"address\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formData.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否默认\"}},[_c('el-radio-group',{model:{value:(_vm.formData.is_default),callback:function ($$v) {_vm.$set(_vm.formData, \"is_default\", $$v)},expression:\"formData.is_default\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.saveAddress('ruleForm')}}},[_vm._v(\"保存\")])],1)],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\t\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<span>编辑收货地址</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-loading=\"loading\" class=\"ns-member-address-list\">\r\n\t\t\t\t<el-form :model=\"formData\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"80px\">\r\n\t\t\t\t\t<el-form-item label=\"姓名\" prop=\"name\">\r\n\t\t\t\t\t\t<el-input v-model=\"formData.name\" placeholder=\"收货人姓名\" class=\"ns-len-input\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t<el-form-item label=\"手机\" prop=\"mobile\">\r\n\t\t\t\t\t\t<el-input v-model=\"formData.mobile\" autocomplete=\"off\" placeholder=\"收货人手机号\" class=\"ns-len-input\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t<el-form-item label=\"电话\">\r\n\t\t\t\t\t\t<el-input v-model.trim=\"formData.telephone\" autocomplete=\"off\" placeholder=\"收货人固定电话（选填）\" class=\"ns-len-input\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t<el-form-item label=\"地址\" prop=\"full_address\">\r\n\t\t\t\t\t\t<el-select v-model=\"formData.province_id\" placeholder=\"请选择省\" @change=\"changeProvice(formData.province_id)\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"option in province\" :key=\"option.id\" :label=\"option.name\" :value=\"option.id\">{{ option.name }}</el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t<el-select v-model=\"formData.city_id\" placeholder=\"请选择市\" @change=\"changeCity(formData.city_id)\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"option in city\" :key=\"option.id\" :label=\"option.name\" :value=\"option.id\">{{ option.name }}</el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t\t<el-select v-model=\"formData.district_id\" placeholder=\"请选择区/县\" @change=\"changeDistrict(formData.district_id)\">\r\n\t\t\t\t\t\t\t<el-option v-for=\"option in district\" :key=\"option.id\" :label=\"option.name\" :value=\"option.id\">{{ option.name }}</el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t<el-form-item label=\"详细地址\" prop=\"address\">\r\n\t\t\t\t\t\t<el-input v-model.trim=\"formData.address\" autocomplete=\"off\" placeholder=\"定位到小区、街道、写字楼\" class=\"ns-len-input\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t<el-form-item label=\"是否默认\">\r\n\t\t\t\t\t\t<el-radio-group v-model=\"formData.is_default\">\r\n\t\t\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\r\n\t\t\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\r\n\t\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"medium\" @click=\"saveAddress('ruleForm')\">保存</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n    import { addressInfo, saveAddress } from \"@/api/member/member\"\r\n    import { getArea } from \"@/api/address\"\r\n\r\n    export default {\r\n        name: \"address_edit\",\r\n        components: {},\r\n        data() {\r\n            let self = this\r\n            var isMobile = (rule, value, callback) => {\r\n                if (!value) {\r\n                    return callback(new Error(\"手机号不能为空\"))\r\n                } else {\r\n                    const reg = /^1[3|4|5|6|7|8|9][0-9]{9}$/\r\n\r\n                    if (reg.test(value)) {\r\n                        callback()\r\n                    } else {\r\n                        callback(new Error(\"请输入正确的手机号\"))\r\n                    }\r\n                }\r\n            }\r\n\r\n            var fullAddress = (rule, value, callback) => {\r\n                if (self.formData.province_id) {\r\n                    if (self.formData.city_id) {\r\n                        if (self.formData.district_id) {\r\n                            return callback()\r\n                        } else {\r\n                            return callback(new Error(\"请选择区/县\"))\r\n                        }\r\n                    } else {\r\n                        return callback(new Error(\"请选择市\"))\r\n                    }\r\n                } else {\r\n                    return callback(new Error(\"请选择省\"))\r\n                }\r\n            }\r\n\r\n            return {\r\n                formData: {\r\n                    id: 0,\r\n                    name: \"\",\r\n                    mobile: \"\",\r\n                    telephone: \"\",\r\n                    province_id: \"\",\r\n                    city_id: \"\",\r\n                    district_id: \"\",\r\n                    community_id: \"\",\r\n                    address: \"\",\r\n                    full_address: \"\",\r\n                    latitude: 0,\r\n                    longitude: 0,\r\n                    is_default: 1\r\n                },\r\n                addressValue: \"\",\r\n                flag: false, //防重复标识\r\n                defaultRegions: [],\r\n                rules: {\r\n                    name: [{ required: true, message: \"请输入收货人姓名\", trigger: \"blur\" }],\r\n                    mobile: [{ required: true, validator: isMobile, trigger: \"blur\" }],\r\n                    address: [{ required: true, message: \"请输入详细地址\", trigger: \"blur\" }],\r\n                    full_address: [{ required: true, validator: fullAddress, trigger: \"blur\" }]\r\n                },\r\n                province: [],\r\n                city: [],\r\n                district: [],\r\n                pickerValueArray: [],\r\n                multiIndex: [0, 0, 0],\r\n                isInitMultiArray: false,\r\n                // 是否加载完默认地区\r\n                isLoadDefaultAreas: false,\r\n                loading: true,\r\n\t\t\t\tyes: true\r\n            }\r\n        },\r\n        created() {\r\n            this.formData.id = this.$route.query.id\r\n            this.getAddressDetail()\r\n            this.getDefaultAreas(0, {\r\n                level: 0\r\n            })\r\n        },\r\n\t\tmounted() {\r\n\t\t\tlet self = this;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.yes = false\r\n\t\t\t}, 300)\r\n\t\t},\r\n        watch: {\r\n            defaultRegions: {\r\n                handler(arr, oldArr = []) {\r\n                    // 避免传的是字面量的时候重复触发\r\n                    if (arr.length !== 3 || arr.join(\"\") === oldArr.join(\"\")) return\r\n                    this.handleDefaultRegions()\r\n                },\r\n                immediate: true\r\n            }\r\n        },\r\n        computed: {\r\n            pickedArr() {\r\n                // 进行初始化\r\n                if (this.isInitMultiArray) {\r\n                    return [this.pickerValueArray[0], this.pickerValueArray[1], this.pickerValueArray[2]]\r\n                }\r\n                return [this.pickerValueArray[0], this.city, this.district]\r\n            }\r\n        },\r\n        methods: {\r\n            /**\r\n             * 改变省\r\n             */\r\n            changeProvice(id) {\r\n                this.getAreas(id, data => (this.city = data))\r\n                let obj = {}\r\n                obj = this.province.find(item => {\r\n                    //这里的province就是上面遍历的数据源\r\n                    return item.id === id //筛选出匹配数据\r\n                })\r\n                this.formData.city_id = \"\"\r\n                this.formData.district_id = \"\"\r\n                this.formData.full_address = obj.name // 设置选中的地址\r\n            },\r\n            /**\r\n             * 改变市\r\n             */\r\n            changeCity(id) {\r\n                this.getAreas(id, data => (this.district = data))\r\n                let obj = {}\r\n                obj = this.city.find(item => {\r\n                    //这里的province就是上面遍历的数据源\r\n                    return item.id === id //筛选出匹配数据\r\n                })\r\n                this.formData.district_id = \"\"\r\n                this.formData.full_address = this.formData.full_address + \"-\" + obj.name\r\n            },\r\n            /**\r\n             * 改变区\r\n             */\r\n            changeDistrict(id) {\r\n                let obj = {}\r\n                obj = this.district.find(item => {\r\n                    //这里的province就是上面遍历的数据源\r\n                    return item.id === id //筛选出匹配数据\r\n                })\r\n                this.formData.full_address = this.formData.full_address + \"-\" + obj.name\r\n            },\r\n            /**\r\n             * 获取地址信息\r\n             */\r\n            getAddressDetail() {\r\n                addressInfo({\r\n                    id: this.formData.id\r\n                })\r\n                    .then(res => {\r\n                        let data = res.data\r\n                        if (data != null) {\r\n                            this.formData.name = data.name\r\n                            this.formData.mobile = data.mobile\r\n                            this.formData.telephone = data.telephone\r\n                            this.formData.address = data.address\r\n                            this.formData.full_address = data.full_address\r\n                            this.formData.latitude = data.latitude\r\n                            this.formData.longitude = data.longitude\r\n                            this.formData.is_default = data.is_default\r\n                            this.formData.province_id = data.province_id\r\n                            this.formData.city_id = data.city_id\r\n                            this.formData.district_id = data.district_id\r\n                            this.defaultRegions = [data.province_id, data.city_id, data.district_id]\r\n                        }\r\n                    })\r\n                    .catch(err => {})\r\n            },\r\n            // 异步获取地区\r\n            getAreas(pid, callback) {\r\n                getArea({\r\n                    pid: pid\r\n                })\r\n                    .then(res => {\r\n                        if (res.code == 0) {\r\n                            var data = []\r\n                            res.data.forEach((item, index) => {\r\n                                data.push(item)\r\n                            })\r\n                            if (callback) callback(data)\r\n                        }\r\n                    })\r\n                    .catch(err => {})\r\n            },\r\n\r\n            /**\r\n             * 获取省市区列表\r\n             */\r\n            getDefaultAreas(pid, obj) {\r\n                getArea({\r\n                    pid: pid\r\n                })\r\n                    .then(res => {\r\n                        if (res.code == 0) {\r\n                            var data = []\r\n                            var selected = undefined\r\n                            res.data.forEach((item, index) => {\r\n                                if (obj != undefined) {\r\n                                    if (obj.level == 0 && obj.province_id != undefined) {\r\n                                        selected = obj.province_id\r\n                                    } else if (obj.level == 1 && obj.city_id != undefined) {\r\n                                        selected = obj.city_id\r\n                                    } else if (obj.level == 2 && obj.district_id != undefined) {\r\n                                        selected = obj.district_id\r\n                                    }\r\n                                }\r\n\r\n                                if (selected == undefined && index == 0) {\r\n                                    selected = item.id\r\n                                }\r\n                                data.push(item)\r\n                            })\r\n\r\n                            this.pickerValueArray[obj.level] = data\r\n                            if (obj.level + 1 < 3) {\r\n                                obj.level++\r\n                                this.getDefaultAreas(selected, obj)\r\n                            } else {\r\n                                this.isInitMultiArray = true\r\n                                this.isLoadDefaultAreas = true\r\n                            }\r\n\r\n                            this.province = this.pickerValueArray[0]\r\n                        }\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.loading = false\r\n                    })\r\n            },\r\n\r\n            /**\r\n             * 渲染默认值\r\n             */\r\n            handleDefaultRegions() {\r\n                var time = setInterval(() => {\r\n                    if (!this.isLoadDefaultAreas) return\r\n                    this.isInitMultiArray = false\r\n\r\n                    for (let i = 0; i < this.defaultRegions.length; i++) {\r\n                        for (let j = 0; j < this.pickerValueArray[i].length; j++) {\r\n                            this.province = this.pickerValueArray[0]\r\n\r\n                            // 匹配省\r\n                            if (this.defaultRegions[i] == this.pickerValueArray[i][j].id) {\r\n                                // 设置选中省\r\n                                this.$set(this.multiIndex, i, j)\r\n                                // 查询市\r\n                                this.getAreas(this.pickerValueArray[i][j].id, data => {\r\n                                    this.city = data\r\n\r\n                                    for (let k = 0; k < this.city.length; k++) {\r\n                                        if (this.defaultRegions[1] == this.city[k].id) {\r\n                                            // 设置选中市\r\n                                            this.$set(this.multiIndex, 1, k)\r\n\r\n                                            // 查询区县\r\n                                            this.getAreas(this.city[k].id, data => {\r\n                                                this.district = data\r\n\r\n                                                // 设置选中区县\r\n                                                for (let u = 0; u < this.district.length; u++) {\r\n                                                    if (this.defaultRegions[2] == this.district[u].id) {\r\n                                                        this.$set(this.multiIndex, 2, u)\r\n                                                        this.handleValueChange({\r\n                                                            detail: {\r\n                                                                value: [j, k, u]\r\n                                                            }\r\n                                                        })\r\n                                                        break\r\n                                                    }\r\n                                                }\r\n                                            })\r\n\r\n                                            break\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                    if (this.isLoadDefaultAreas) clearInterval(time)\r\n                }, 100)\r\n            },\r\n            handleValueChange(e) {\r\n                // 结构赋值\r\n                let [index0, index1, index2] = e.detail.value\r\n                let [arr0, arr1, arr2] = this.pickedArr\r\n                let address = [arr0[index0], arr1[index1], arr2[index2]]\r\n\r\n                this.formData.full_address = \"\"\r\n                for (let i = 0; i < address.length; i++) {\r\n                    if (this.formData.full_address) {\r\n                        this.formData.full_address = this.formData.full_address + \"-\" + address[i].name\r\n                    } else {\r\n                        this.formData.full_address = this.formData.full_address + address[i].name\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 保存地址\r\n             */\r\n            saveAddress(formName) {\r\n                this.$refs[formName].validate(valid => {\r\n                    if (valid) {\r\n                        var data = {\r\n                            name: this.formData.name,\r\n                            mobile: this.formData.mobile,\r\n                            telephone: this.formData.telephone,\r\n                            province_id: this.formData.province_id,\r\n                            city_id: this.formData.city_id,\r\n                            district_id: this.formData.district_id,\r\n                            community_id: \"\",\r\n                            address: this.formData.address,\r\n                            full_address: this.formData.full_address,\r\n                            latitude: this.formData.latitude,\r\n                            longitude: this.formData.longitude,\r\n                            is_default: this.formData.is_default\r\n                        }\r\n\r\n                        data.url = \"add\"\r\n                        if (this.formData.id) {\r\n                            data.url = \"edit\"\r\n                            data.id = this.formData.id\r\n                        }\r\n                        if (this.flag) return\r\n                        this.flag = true\r\n\r\n                        saveAddress(data)\r\n                            .then(res => {\r\n                                if (res.code == 0) {\r\n                                    this.$router.push({ path: \"/member/delivery_address\" })\r\n                                } else {\r\n                                    this.flag = false\r\n                                    this.$message({ message: res.message, type: \"warning\" })\r\n                                }\r\n                            })\r\n                            .catch(err => {\r\n                                this.flag = false\r\n                                this.$message.error(err.message)\r\n                            })\r\n                    } else {\r\n                        return false\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.null-page {\r\n\t\twidth: 100%;\r\n\t\theight: 730px;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 9;\r\n\t}\r\n\t\r\n    .el-card.is-always-shadow,\r\n    .el-card.is-hover-shadow:focus,\r\n    .el-card.is-hover-shadow:hover {\r\n        box-shadow: unset;\r\n    }\r\n\r\n    .el-card {\r\n        border: 0;\r\n    }\r\n\r\n    .ns-len-input {\r\n        width: 350px;\r\n    }\r\n\r\n    .el-select {\r\n        margin-right: 10px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./address_edit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./address_edit.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./address_edit.vue?vue&type=template&id=2ac635e2&scoped=true\"\nimport script from \"./address_edit.vue?vue&type=script&lang=js\"\nexport * from \"./address_edit.vue?vue&type=script&lang=js\"\nimport style0 from \"./address_edit.vue?vue&type=style&index=0&id=2ac635e2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ac635e2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./address_edit.vue?vue&type=style&index=0&id=2ac635e2&prod&lang=scss&scoped=true\""],"sourceRoot":""}