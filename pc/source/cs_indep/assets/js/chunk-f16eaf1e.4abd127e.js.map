{"version":3,"sources":["webpack:///./src/views/member/coupon.vue?768e","webpack:///./src/views/member/coupon.vue?e366","webpack:///./src/views/member/coupon.vue","webpack:///src/views/member/coupon.vue","webpack:///./src/views/member/coupon.vue?beea","webpack:///./src/views/member/coupon.vue?8c46"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","yes","expression","attrs","slot","_v","on","handleClickSource","model","couponsource","callback","$$v","loading","handleClickStatus","couponstatus","_l","couponList","item","index","key","class","state","$event","useCoupon","discount","_s","money","coupon_name","platformcoupon_name","site_name","_e","at_least","validity_type","fixed_term","$timeStampTurnTime","end_time","length","text","total","currentPage","pageSize","handlePageSizeChange","handleCurrentPageChange","staticRenderFns","components","data","type","created","addonIsExit","coupon","$message","message","duration","onClose","$route","push","getListData","mounted","self","setTimeout","computed","mapGetters","watch","methods","tab","event","refresh","size","page","page_size","is_own","then","res","code","count","list","catch","err","error","goods_type","$router","path","query","site_id","couponId","coupon_type_id","use_scenario","platform_coupon_type","platformcoupon_type_id","component"],"mappings":"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","file":"assets/js/chunk-f16eaf1e.4abd127e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=style&index=0&id=5f35e283&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=style&index=1&id=5f35e283&prod&lang=scss\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('el-card',{staticClass:\"box-card member-coupon\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"我的优惠券\")])]),_c('div',[_c('el-tabs',{on:{\"tab-click\":_vm.handleClickSource},model:{value:(_vm.couponsource),callback:function ($$v) {_vm.couponsource=$$v},expression:\"couponsource\"}},[_c('el-tab-pane',{attrs:{\"label\":\"店铺优惠券\",\"name\":\"1\"}}),_c('el-tab-pane',{attrs:{\"label\":\"平台优惠券\",\"name\":\"2\"}})],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClickStatus},model:{value:(_vm.couponstatus),callback:function ($$v) {_vm.couponstatus=$$v},expression:\"couponstatus\"}},[_c('el-tab-pane',{attrs:{\"label\":\"未使用\",\"name\":\"1\"}}),_c('el-tab-pane',{attrs:{\"label\":\"已使用\",\"name\":\"2\"}}),_c('el-tab-pane',{attrs:{\"label\":\"已过期\",\"name\":\"3\"}})],1),_c('div',{staticClass:\"coupon-wrap\"},[_vm._l((_vm.couponList),function(item,index){return _c('div',{key:index,staticClass:\"text item\",class:_vm.state == '1' ? 'coupon-not-used' : _vm.state == '2' ? 'coupon-used' : 'coupon-expire',on:{\"click\":function($event){return _vm.useCoupon(item)}}},[[(item.discount == '0.00' || !item.discount)?_c('p',{staticClass:\"coupon-wrap-money\"},[_vm._v(\" ￥ \"),_c('span',[_vm._v(_vm._s(item.money))])]):_c('p',{staticClass:\"coupon-wrap-money\"},[_c('span',[_vm._v(_vm._s(item.discount))]),_vm._v(\" 折 \")])],_c('p',{staticClass:\"coupon-wrap-name\"},[_vm._v(_vm._s(_vm.couponsource == '1' ? item.coupon_name : item.platformcoupon_name))]),(_vm.couponsource == '1')?_c('p',{staticClass:\"coupon-wrap-site coupon-wrap-info\"},[_vm._v(\"使用店铺：\"+_vm._s(item.site_name))]):_vm._e(),[(item.at_least > 0)?_c('p',{staticClass:\"coupon-wrap-least coupon-wrap-info\"},[_vm._v(\"满\"+_vm._s(item.at_least)+\"元可用\")]):_c('p',{staticClass:\"coupon-wrap-least coupon-wrap-info\"},[_vm._v(\"无门槛优惠券\")])],[(item.validity_type)?_c('p',{staticClass:\"coupon-wrap-time coupon-wrap-info\"},[_vm._v(\"领取之日起\"+_vm._s(item.fixed_term)+\"日内有效\")]):_c('p',{staticClass:\"coupon-wrap-time coupon-wrap-info\"},[_vm._v(\"有效期至\"+_vm._s(_vm.$timeStampTurnTime(item.end_time)))])]],2)}),(_vm.couponList.length == 0)?_c('div',{staticClass:\"empty-text\"},[_vm._v(_vm._s(_vm.text))]):_vm._e()],2),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"pager-count\":5,\"total\":_vm.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"hide-on-single-page\":\"\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handlePageSizeChange,\"current-change\":_vm.handleCurrentPageChange}})],1)],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\t\r\n\t\t<el-card class=\"box-card member-coupon\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\"><span>我的优惠券</span></div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<el-tabs v-model=\"couponsource\" @tab-click=\"handleClickSource\">\r\n\t\t\t\t\t<el-tab-pane label=\"店铺优惠券\" name=\"1\"></el-tab-pane>\r\n\t\t\t\t\t<el-tab-pane label=\"平台优惠券\" name=\"2\"></el-tab-pane>\r\n\t\t\t\t</el-tabs>\r\n\r\n\t\t\t\t<div v-loading=\"loading\">\r\n\t\t\t\t\t<el-tabs v-model=\"couponstatus\" @tab-click=\"handleClickStatus\">\r\n\t\t\t\t\t\t<el-tab-pane label=\"未使用\" name=\"1\"></el-tab-pane>\r\n\t\t\t\t\t\t<el-tab-pane label=\"已使用\" name=\"2\"></el-tab-pane>\r\n\t\t\t\t\t\t<el-tab-pane label=\"已过期\" name=\"3\"></el-tab-pane>\r\n\t\t\t\t\t</el-tabs>\r\n\r\n\t\t\t\t\t<div class=\"coupon-wrap\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"text item\"\r\n\t\t\t\t\t\t\t:class=\"state == '1' ? 'coupon-not-used' : state == '2' ? 'coupon-used' : 'coupon-expire'\"\r\n\t\t\t\t\t\t\tv-for=\"(item, index) in couponList\"\r\n\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"useCoupon(item)\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-money\" v-if=\"item.discount == '0.00' || !item.discount\">\r\n\t\t\t\t\t\t\t\t\t￥\r\n\t\t\t\t\t\t\t\t\t<span>{{ item.money }}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-money\" v-else>\r\n\t\t\t\t\t\t\t\t\t<span>{{ item.discount }}</span>\r\n\t\t\t\t\t\t\t\t\t折\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<p class=\"coupon-wrap-name\">{{ couponsource == '1' ? item.coupon_name : item.platformcoupon_name }}</p>\r\n\t\t\t\t\t\t\t<p class=\"coupon-wrap-site coupon-wrap-info\" v-if=\"couponsource == '1'\">使用店铺：{{ item.site_name }}</p>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-least coupon-wrap-info\" v-if=\"item.at_least > 0\">满{{ item.at_least }}元可用</p>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-least coupon-wrap-info\" v-else>无门槛优惠券</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-time coupon-wrap-info\" v-if=\"item.validity_type\">领取之日起{{ item.fixed_term }}日内有效</p>\r\n\t\t\t\t\t\t\t\t<p class=\"coupon-wrap-time coupon-wrap-info\" v-else>有效期至{{ $timeStampTurnTime(item.end_time) }}</p>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"empty-text\" v-if=\"couponList.length == 0\">{{ text }}</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"pager\">\r\n\t\t\t\t\t\t<el-pagination \r\n\t\t\t\t\t\t\tbackground \r\n\t\t\t\t\t\t\t:pager-count=\"5\" \r\n\t\t\t\t\t\t\t:total=\"total\" \r\n\t\t\t\t\t\t\tprev-text=\"上一页\" \r\n\t\t\t\t\t\t\tnext-text=\"下一页\" \r\n\t\t\t\t\t\t\t:current-page.sync=\"currentPage\" \r\n\t\t\t\t\t\t\t:page-size.sync=\"pageSize\" \r\n\t\t\t\t\t\t\t@size-change=\"handlePageSizeChange\" \r\n\t\t\t\t\t\t\t@current-change=\"handleCurrentPageChange\" \r\n\t\t\t\t\t\t\thide-on-single-page\r\n\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\t\r\n</template>\r\n\r\n<script>\r\nimport { couponList } from '@/api/member/member';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n\tname: 'my_coupon',\r\n\tcomponents: {},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\ttotal: 0,\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpageSize: 9,\r\n\t\t\tcouponsource: '1',\r\n\t\t\tcouponstatus: '1',\r\n\t\t\tcouponList: [],\r\n\t\t\ttype: '',\r\n\t\t\tstate: 1,\r\n\t\t\ttext: '您还没有优惠券哦',\r\n\t\t\tloading: true,\r\n\t\t\tyes: true\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tif (this.addonIsExit && this.addonIsExit.coupon != 1) {\r\n\t\t\tthis.$message({\r\n\t\t\t\tmessage: '优惠券插件未安装',\r\n\t\t\t\ttype: 'warning',\r\n\t\t\t\tduration: 2000,\r\n\t\t\t\tonClose: () => {\r\n\t\t\t\t\tthis.$route.push('/member/index');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.getListData();\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tlet self = this;\r\n\t\tsetTimeout(function() {\r\n\t\t\tself.yes = false\r\n\t\t}, 300)\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['addonIsExit'])\r\n\t},\r\n\twatch: {\r\n\t\taddonIsExit() {\r\n\t\t\tif (this.addonIsExit.coupon != 1) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '优惠券插件未安装',\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\tthis.$route.push('/member/index');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 优惠券来源(店铺/平台)\r\n\t\t */\r\n\t\thandleClickSource(tab, event) {\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\t/**\r\n\t\t * 优惠券状态(未使用/已使用/已过期)\r\n\t\t */\r\n\t\thandleClickStatus(tab, event) {\r\n\t\t\tif (tab.name == '1') {\r\n\t\t\t\tthis.state = 1;\r\n\t\t\t\tthis.text = '您还没有优惠券哦';\r\n\t\t\t} else if (tab.name == '2') {\r\n\t\t\t\tthis.state = 2;\r\n\t\t\t\tthis.text = '您还没有使用过优惠券哦';\r\n\t\t\t} else {\r\n\t\t\t\tthis.state = 3;\r\n\t\t\t\tthis.text = '您还没有过期优惠券哦';\r\n\t\t\t}\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\thandlePageSizeChange(size) {\r\n\t\t\tthis.pageSize = size;\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\thandleCurrentPageChange(page) {\r\n\t\t\tthis.currentPage = page;\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\t\trefresh() {\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.getListData();\r\n\t\t},\r\n\t\t// 获取优惠券列表\r\n\t\tgetListData() {\r\n\t\t\tcouponList({\r\n\t\t\t\tpage: this.currentPage,\r\n\t\t\t\tpage_size: this.pageSize,\r\n\t\t\t\tstate: this.state,\r\n\t\t\t\tis_own: this.type,\r\n\t\t\t\tcouponsource: this.couponsource\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.total = res.data.count;\r\n\t\t\t\t\t\tthis.couponList = res.data.list;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tthis.$message.error(err.message);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t// 去使用优惠券\r\n\t\tuseCoupon(item) {\r\n\t\t\tif (item.state == 1) {\r\n\t\t\t\tif (this.couponsource == '1') {\r\n\t\t\t\t\tif (item.goods_type != 1) {\r\n\t\t\t\t\t\tthis.$router.push({ path: '/shop_list', query: { site_id: item.site_id, couponId: item.coupon_type_id } });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$router.push({ path: '/shop_list', query: { site_id: item.site_id } });\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (item.use_scenario != 1) {\r\n\t\t\t\t\t\tthis.$router.push({ path: '/list', query: { platform_coupon_type: item.platformcoupon_type_id } });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$router.push('/list');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n}\r\n\r\n.null-page {\r\n\twidth: 100%;\r\n\theight: 730px;\r\n\tbackground-color: #FFFFFF;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 9;\r\n}\r\n\r\n.el-card.is-always-shadow,\r\n.el-card.is-hover-shadow:focus,\r\n.el-card.is-hover-shadow:hover {\r\n\tbox-shadow: unset;\r\n}\r\n\r\n.el-card {\r\n\tborder: 0;\r\n}\r\n\r\n.coupon-wrap {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tflex-wrap: wrap;\r\n\r\n\t.text {\r\n\t\twidth: 32%;\r\n\t\theight: 140px;\r\n\t\tmargin-right: 2%;\r\n\t\tborder-radius: 5px;\r\n\t\tborder: 1px dashed #fff;\r\n\t\tmargin-bottom: 20px;\r\n\t\tpadding: 0 15px;\r\n\t\tbox-sizing: border-box;\r\n\t\tcolor: #ffffff;\r\n\r\n\t\t.coupon-wrap-money {\r\n\t\t\tspan {\r\n\t\t\t\tfont-size: 30px;\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.coupon-wrap-info {\r\n\t\t\tfont-size: 12px;\r\n\t\t\tline-height: 18px;\r\n\t\t}\r\n\t}\r\n\r\n\t.text:nth-child(3n) {\r\n\t\tmargin-right: 0;\r\n\t}\r\n\r\n\t.coupon-not-used {\r\n\t\tbackground-color: $base-color;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.coupon-used {\r\n\t\tbackground-color: hsl(360, 50%, 70%);\r\n\t}\r\n\r\n\t.coupon-expire {\r\n\t\tbackground-color: #d0d0d0;\r\n\t}\r\n\r\n\t.coupon-wrap-info {\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 20px;\r\n\t}\r\n\r\n\t.empty-text {\r\n\t\tmargin: 0 auto;\r\n\t}\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.member-coupon {\r\n\t.el-tabs__active-bar,\r\n\t.el-tabs__nav-wrap::after {\r\n\t\t/* 清除tab标签底部横线 */\r\n\t\theight: 0;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./coupon.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./coupon.vue?vue&type=template&id=5f35e283&scoped=true\"\nimport script from \"./coupon.vue?vue&type=script&lang=js\"\nexport * from \"./coupon.vue?vue&type=script&lang=js\"\nimport style0 from \"./coupon.vue?vue&type=style&index=0&id=5f35e283&prod&lang=scss&scoped=true\"\nimport style1 from \"./coupon.vue?vue&type=style&index=1&id=5f35e283&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f35e283\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}