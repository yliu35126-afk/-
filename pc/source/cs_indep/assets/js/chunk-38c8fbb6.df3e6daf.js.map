{"version":3,"sources":["webpack:///./src/api/order/verification.js","webpack:///./src/views/order/verification_detail.vue?6f29","webpack:///./src/views/order/verification_detail.vue","webpack:///src/views/order/verification_detail.vue","webpack:///./src/views/order/verification_detail.vue?4334","webpack:///./src/views/order/verification_detail.vue?026b"],"names":["checkisverifier","params","http","url","data","forceLogin","verifyInfo","verify","getVerifyType","verifyList","render","_vm","this","_c","_self","staticClass","attrs","slot","path","_v","directives","name","rawName","value","loading","expression","_s","site_name","_l","item_array","item","index","key","$img","img","on","$event","imageError","price","num","remark_array","title","verify_type_name","is_verify","verify_time","verifier_name","_e","$timeStampTurnTime","staticRenderFns","components","verify_code","isSub","created","$route","query","code","getVerifyInfo","computed","mapGetters","methods","then","res","$message","message","type","$router","push","catch","err","error","duration","onClose","defaultGoodsImage","component"],"mappings":"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","file":"assets/js/chunk-38c8fbb6.df3e6daf.js","sourcesContent":["import http from \"../../utils/http\"\r\n\r\n/**\r\n * 核销权限\r\n * @param {object} params\r\n */\r\nexport function checkisverifier(params) {\r\n    return http({\r\n        url: \"/api/verify/checkisverifier\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n\r\n/**\r\n * 核销\r\n * @param {object} params\r\n */\r\nexport function verifyInfo(params) {\r\n    return http({\r\n        url: \"/api/verify/verifyInfo\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n\r\n/**\r\n * 核销验证\r\n * @param {object} params\r\n */\r\nexport function verify(params) {\r\n    return http({\r\n        url: \"/api/verify/verify\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n\r\n/**\r\n * 核销类型\r\n * @param {object} params\r\n */\r\nexport function getVerifyType(params) {\r\n    return http({\r\n        url: \"/api/verify/getVerifyType\",\r\n        data: params\r\n    })\r\n}\r\n\r\n/**\r\n * 核销记录\r\n * @param {object} params\r\n */\r\nexport function verifyList(params) {\r\n    return http({\r\n        url: \"/api/verify/lists\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./verification_detail.vue?vue&type=style&index=0&id=52694480&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticClass:\"box-card order-list\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/member/verification_list' }}},[_vm._v(\"核销记录\")]),_c('el-breadcrumb-item',[_vm._v(\"核销验证\")])],1)],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"ns-verification\"},[_c('div',{staticClass:\"ns-verification-order\"},[_c('p',{staticClass:\"ns-site-name\"},[_vm._v(_vm._s(_vm.verifyInfo.site_name))]),_vm._l((_vm.verifyInfo.item_array),function(item,index){return _c('div',{key:index,staticClass:\"ns-goods-list\"},[_c('div',{staticClass:\"ns-goods-img\"},[_c('el-image',{attrs:{\"fit\":\"cover\",\"src\":_vm.$img(item.img)},on:{\"error\":function($event){return _vm.imageError(index)}}})],1),_c('div',{staticClass:\"ns-goods-info\"},[_c('p',[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"ns-goods-price ns-text-color\"},[_vm._v(\"￥\"+_vm._s(item.price))]),_c('p',[_vm._v(\"数量：\"+_vm._s(item.num))])])])}),_c('div',{staticClass:\"ns-order-info\"},[_vm._l((_vm.verifyInfo.remark_array),function(item,index){return _c('p',{key:index},[_vm._v(_vm._s(item.title)+\"：\"+_vm._s(item.value))])}),_c('p',[_vm._v(\"核销类型：\"+_vm._s(_vm.verifyInfo.verify_type_name))]),(_vm.verifyInfo.is_verify)?[_c('p',[_vm._v(\"核销状态：已核销\")]),(_vm.verifyInfo.verify_time)?_c('p',[_vm._v(\"核销人员：\"+_vm._s(_vm.verifyInfo.verifier_name))]):_vm._e(),(_vm.verifyInfo.verify_time)?_c('p',[_vm._v(\"核销时间：\"+_vm._s(_vm.$timeStampTurnTime(_vm.verifyInfo.verify_time)))]):_vm._e()]:_vm._e()],2),_c('div',{staticClass:\"ns-btn\"},[(_vm.verifyInfo.is_verify == 0)?_c('el-button',{on:{\"click\":_vm.verify}},[_vm._v(\"确认使用\")]):_vm._e()],1)],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<el-card class=\"box-card order-list\">\r\n\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item :to=\"{ path: '/member/verification_list' }\">核销记录</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>核销验证</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t<div class=\"ns-verification\" v-loading=\"loading\">\r\n\t\t\t<div class=\"ns-verification-order\">\r\n\t\t\t\t<p class=\"ns-site-name\">{{ verifyInfo.site_name }}</p>\r\n\t\t\t\t<div class=\"ns-goods-list\" v-for=\"(item, index) in verifyInfo.item_array\" :key=\"index\">\r\n\t\t\t\t\t<div class=\"ns-goods-img\"><el-image fit=\"cover\" :src=\"$img(item.img)\" @error=\"imageError(index)\"></el-image></div>\r\n\t\t\t\t\t<div class=\"ns-goods-info\">\r\n\t\t\t\t\t\t<p>{{ item.name }}</p>\r\n\t\t\t\t\t\t<p class=\"ns-goods-price ns-text-color\">￥{{ item.price }}</p>\r\n\t\t\t\t\t\t<p>数量：{{ item.num }}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"ns-order-info\">\r\n\t\t\t\t\t<p v-for=\"(item, index) in verifyInfo.remark_array\" :key=\"index\">{{ item.title }}：{{ item.value }}</p>\r\n\t\t\t\t\t<p>核销类型：{{ verifyInfo.verify_type_name }}</p>\r\n\r\n\t\t\t\t\t<template v-if=\"verifyInfo.is_verify\">\r\n\t\t\t\t\t\t<p>核销状态：已核销</p>\r\n\t\t\t\t\t\t<p v-if=\"verifyInfo.verify_time\">核销人员：{{ verifyInfo.verifier_name }}</p>\r\n\t\t\t\t\t\t<p v-if=\"verifyInfo.verify_time\">核销时间：{{ $timeStampTurnTime(verifyInfo.verify_time) }}</p>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"ns-btn\"><el-button @click=\"verify\" v-if=\"verifyInfo.is_verify == 0\">确认使用</el-button></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</el-card>\r\n</template>\r\n\r\n<script>\r\nimport { checkisverifier, verifyInfo, verify } from '@/api/order/verification';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n\tname: 'verification_detail',\r\n\tcomponents: {},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tverify_code: '',\r\n\t\t\tverifyInfo: {},\r\n\t\t\tisSub: false,\r\n\t\t\tloading: true\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthis.verify_code = this.$route.query.code;\r\n\t\tthis.getVerifyInfo();\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['defaultGoodsImage'])\r\n\t},\r\n\tmethods: {\r\n\t\tgetVerifyInfo() {\r\n\t\t\tverifyInfo({\r\n\t\t\t\tverify_code: this.verify_code\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.verifyInfo = res.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({ message: res.message, type: 'warning' });\r\n\t\t\t\t\t\tthis.$router.push('/member/index');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.$message.error(err.message);\r\n\t\t\t\t\tthis.$router.push('/member/index');\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tverify() {\r\n\t\t\tif (this.isSub) return;\r\n\t\t\tthis.isSub = true;\r\n\t\t\tverify({\r\n\t\t\t\tverify_code: this.verify_code\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t\tthis.$router.push('/member/verification_list');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({ message: res.message, type: 'warning' });\r\n\t\t\t\t\t\tthis.isSub = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.$message.error(err.message);\r\n\t\t\t\t\tthis.isSub = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t/**\r\n\t\t * 图片加载失败\r\n\t\t */\r\n\t\timageError(index) {\r\n\t\t\tthis.verifyInfo.item_array[index].img = this.defaultGoodsImage;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.ns-verification {\r\n\t.ns-verification-order {\r\n\t\t.ns-goods-list {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin: 10px 0;\r\n\t\t\t.el-image {\r\n\t\t\t\twidth: 80px;\r\n\t\t\t\theight: 80px;\r\n\t\t\t\tline-height: 80px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t}\r\n\t\t\t.ns-goods-price span:first-child {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.ns-order-info {\r\n\t\t\tborder-top: 1px solid #eeeeee;\r\n\t\t\tpadding-top: 20px;\r\n\t\t\tcolor: $base-color-info;\r\n\t\t\tline-height: 30px;\r\n\t\t}\r\n\t\t.ns-btn {\r\n\t\t\ttext-align: right;\r\n\t\t\t.el-button {\r\n\t\t\t\tbackground: $base-color;\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./verification_detail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./verification_detail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./verification_detail.vue?vue&type=template&id=52694480&scoped=true\"\nimport script from \"./verification_detail.vue?vue&type=script&lang=js\"\nexport * from \"./verification_detail.vue?vue&type=script&lang=js\"\nimport style0 from \"./verification_detail.vue?vue&type=style&index=0&id=52694480&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52694480\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}