{"version":3,"sources":["webpack:///./src/views/member/collection.vue?d3a9","webpack:///./src/views/member/collection.vue","webpack:///src/views/member/collection.vue","webpack:///./src/views/member/collection.vue?87dd","webpack:///./src/views/member/collection.vue?0b3a","webpack:///./src/api/member/collection.js"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","yes","expression","loading","on","handleClick","model","activeName","callback","$$v","attrs","goodsList","length","_l","item","index","key","goods_id","$event","$router","pushToTab","path","sku_id","$img","sku_image","size","imageError","stopPropagation","deleteGoods","_v","_s","sku_name","sku_price","goodsInfo","page","page_size","goodsTotal","handleSizeChange","handleCurrentChange","_e","shopList","site_id","deleteShop","logo","imageErrorShop","site_name","is_own","shop_desccredit","shop_servicecredit","shop_deliverycredit","telephone","shopInfo","shopTotal","sizeChange","currentChange","staticRenderFns","components","data","created","getGoodsCollect","computed","mapGetters","mounted","self","setTimeout","methods","goodsCollect","then","res","count","list","catch","err","$message","error","message","getShopCollect","shopCollect","id","code","type","tab","event","defaultGoodsImage","defaultShopImage","component","params","http","url","forceLogin"],"mappings":"yIAAA,W,2CCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOR,EAAIS,IAAKC,WAAW,QAAQN,YAAY,cAAcF,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOR,EAAIW,QAASD,WAAW,YAAYN,YAAY,cAAc,CAACF,EAAG,UAAU,CAACU,GAAG,CAAC,YAAYZ,EAAIa,aAAaC,MAAM,CAACN,MAAOR,EAAIe,WAAYC,SAAS,SAAUC,GAAMjB,EAAIe,WAAWE,GAAKP,WAAW,eAAe,CAACR,EAAG,cAAc,CAACgB,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAAElB,EAAImB,UAAUC,OAAQlB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,SAASJ,EAAIqB,GAAIrB,EAAImB,WAAW,SAASG,EAAKC,GAAO,OAAOrB,EAAG,MAAM,CAACsB,IAAIF,EAAKG,SAASrB,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,MAAMQ,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO1B,EAAI2B,QAAQC,UAAU,CAAEC,KAAM,QAAUP,EAAKQ,YAAa,CAAC5B,EAAG,MAAM,CAACgB,MAAM,CAAC,IAAMlB,EAAI+B,KAAKT,EAAKU,UAAW,CAAEC,KAAM,SAAUrB,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO1B,EAAIkC,WAAWX,OAAWrB,EAAG,IAAI,CAACE,YAAY,qBAAqBQ,GAAG,CAAC,MAAQ,SAASc,GAAiC,OAAzBA,EAAOS,kBAAyBnC,EAAIoC,YAAYd,EAAKG,gBAAgBvB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACJ,EAAIqC,GAAGrC,EAAIsC,GAAGhB,EAAKiB,aAAarC,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIqC,GAAG,IAAIrC,EAAIsC,GAAGhB,EAAKkB,qBAAoB,GAAGtC,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,gBAAgB,CAACgB,MAAM,CAAC,eAAelB,EAAIyC,UAAUC,KAAK,YAAY1C,EAAIyC,UAAUE,UAAU,WAAa,GAAG,cAAc,EAAE,YAAY,MAAM,YAAY,MAAM,sBAAsB,GAAG,MAAQ3C,EAAI4C,YAAYhC,GAAG,CAAC,cAAcZ,EAAI6C,iBAAiB,iBAAiB7C,EAAI8C,wBAAwB,KAAO9C,EAAIW,SAAYX,EAAImB,UAAUC,OAA8DpB,EAAI+C,KAA1D7C,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIqC,GAAG,iBAA0BnC,EAAG,cAAc,CAACgB,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAAElB,EAAIgD,SAAS5B,OAAQlB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,QAAQJ,EAAIqB,GAAIrB,EAAIgD,UAAU,SAAS1B,EAAKC,GAAO,OAAOrB,EAAG,MAAM,CAACsB,IAAIF,EAAK2B,QAAQ7C,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYQ,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO1B,EAAI2B,QAAQC,UAAU,CAAEC,KAAM,SAAWP,EAAK2B,aAAc,CAAC/C,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBQ,GAAG,CAAC,MAAQ,SAASc,GAAiC,OAAzBA,EAAOS,kBAAyBnC,EAAIkD,WAAW5B,EAAK2B,aAAa/C,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8Bc,MAAM,CAAC,IAAMlB,EAAI+B,KAAKT,EAAK6B,OAAOvC,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO1B,EAAIoD,eAAe7B,SAAarB,EAAG,KAAK,CAACA,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACJ,EAAIqC,GAAGrC,EAAIsC,GAAGhB,EAAK+B,cAA8B,GAAf/B,EAAKgC,OAAapD,EAAG,SAAS,CAACE,YAAY,MAAMc,MAAM,CAAC,KAAO,UAAU,CAAClB,EAAIqC,GAAG,QAAQrC,EAAI+C,MAAM,KAAK7C,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIqC,GAAG,QAAQrC,EAAIsC,GAAGhB,EAAKiC,iBAAiB,OAAOrD,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIqC,GAAG,QAAQrC,EAAIsC,GAAGhB,EAAKkC,oBAAoB,OAAOtD,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIqC,GAAG,QAAQrC,EAAIsC,GAAGhB,EAAKmC,qBAAqB,OAAQnC,EAAKoC,UAAWxD,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIqC,GAAG,QAAQrC,EAAIsC,GAAGhB,EAAKoC,cAAc1D,EAAI+C,cAAa,GAAG7C,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,gBAAgB,CAACgB,MAAM,CAAC,eAAelB,EAAI2D,SAASjB,KAAK,YAAY1C,EAAI2D,SAAShB,UAAU,MAAQ3C,EAAI4D,UAAU,WAAa,GAAG,cAAc,EAAE,YAAY,MAAM,YAAY,MAAM,sBAAsB,IAAIhD,GAAG,CAAC,cAAcZ,EAAI6D,WAAW,iBAAiB7D,EAAI8D,kBAAkB,KAAO9D,EAAIW,SAAYX,EAAIgD,SAAS5B,OAA+DpB,EAAI+C,KAA3D7C,EAAG,MAAM,CAACE,YAAY,SAAS,CAACJ,EAAIqC,GAAG,mBAA4B,IAAI,MAEn5G0B,EAAkB,G,yBCoFtB,GACAzD,KAAA,aACA0D,WAAA,GACAC,UACA,CACAxB,UAAA,CACAC,KAAA,EACAC,UAAA,IAEAgB,SAAA,CACAjB,KAAA,EACAC,UAAA,IAEA5B,WAAA,QACA6B,WAAA,EACAgB,UAAA,EACAzC,UAAA,GACA6B,SAAA,GACArC,SAAA,EACAF,KAAA,IAGAyD,UACA,KAAAC,mBAEAC,SAAA,IACAC,eAAA,2CAEAC,UACA,IAAAC,EAAA,KACAC,YAAA,WACAD,EAAA9D,KAAA,IACA,MAEAgE,QAAA,CAEAN,kBACAO,eAAA,KAAAjC,WACAkC,KAAAC,IACA,KAAAhC,WAAAgC,EAAAX,KAAAY,MACA,KAAA1D,UAAAyD,EAAAX,KAAAa,KACA,KAAAnE,SAAA,IAEAoE,MAAAC,IACA,KAAArE,SAAA,EACA,KAAAsE,SAAAC,MAAAF,EAAAG,YAIAC,iBACAC,eAAA,KAAA1B,UACAgB,KAAAC,IACA,KAAAhB,UAAAgB,EAAAX,KAAAY,MACA,KAAA7B,SAAA4B,EAAAX,KAAAa,KACA,KAAAnE,SAAA,IAEAoE,MAAAC,IACA,KAAArE,SAAA,EACA,KAAAsE,SAAAC,MAAAF,EAAAG,YAIA/C,YAAAkD,GACAlD,eAAA,CAAAX,SAAA6D,IACAX,KAAAC,IACA,GAAAA,EAAAW,OACA,KAAAN,SAAA,CAAAE,QAAA,SAAAK,KAAA,YACA,KAAArB,qBAGAY,MAAAC,IACA,KAAAC,SAAAC,MAAAF,EAAAG,YAIAjC,WAAAoC,GACApC,eAAA,CAAAD,QAAAqC,IACAX,KAAAC,IACA,GAAAA,EAAAW,OACA,KAAAN,SAAA,CAAAE,QAAA,SAAAK,KAAA,YACA,KAAAJ,oBAGAL,MAAAC,IACA,KAAAC,SAAAC,MAAAF,EAAAG,YAGAtE,YAAA4E,EAAAC,GACA,KAAAD,EAAAlE,OACA,KAAAZ,SAAA,EACA,KAAAwD,oBAEA,KAAAxD,SAAA,EACA,KAAAyE,mBAGAvC,iBAAAZ,GACA,KAAAQ,UAAAE,UAAAV,EACA,KAAAtB,SAAA,EACA,KAAAwD,mBAEArB,oBAAAJ,GACA,KAAAD,UAAAC,OACA,KAAA/B,SAAA,EACA,KAAAwD,mBAEAN,WAAA5B,GACA,KAAA0B,SAAAhB,UAAAV,EACA,KAAAtB,SAAA,EACA,KAAAyE,kBAEAtB,cAAApB,GACA,KAAAiB,SAAAjB,OACA,KAAA/B,SAAA,EACA,KAAAyE,kBAEAlD,WAAAX,GACA,KAAAJ,UAAAI,GAAAS,UAAA,KAAA2D,mBAEAvC,eAAA7B,GACA,KAAAyB,SAAAzB,GAAA4B,KAAA,KAAAyC,oBC9MkW,I,wBCQ9VC,EAAY,eACd,EACA9F,EACAgE,GACA,EACA,KACA,WACA,MAIa,aAAA8B,E,4CCnBf,wJAIO,SAASR,EAAYS,GACxB,OAAOC,eAAK,CACRC,IAAK,kCACL/B,KAAM6B,EACNG,YAAY,IAMb,SAASvB,EAAaoB,GACzB,OAAOC,eAAK,CACRC,IAAK,yBACL/B,KAAM6B,EACNG,YAAY,IAMb,SAAS7D,EAAY0D,GACxB,OAAOC,eAAK,CACRC,IAAK,2BACL/B,KAAM6B,EACNG,YAAY,IAMb,SAAS/C,EAAW4C,GACvB,OAAOC,eAAK,CACRC,IAAK,yBACL/B,KAAM6B,EACNG,YAAY","file":"assets/js/chunk-9cdebd84.e73e4bec.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=style&index=0&id=378ab37e&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"collection\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"宝贝\",\"name\":\"goods\"}},[(_vm.goodsList.length)?_c('div',[_c('div',{staticClass:\"goods\"},_vm._l((_vm.goodsList),function(item,index){return _c('div',{key:item.goods_id,staticClass:\"goods-wrap\"},[_c('div',{staticClass:\"goods-item\"},[_c('div',{staticClass:\"img\",on:{\"click\":function($event){return _vm.$router.pushToTab({ path: '/sku-' + item.sku_id })}}},[_c('img',{attrs:{\"src\":_vm.$img(item.sku_image, { size: 'mid' })},on:{\"error\":function($event){return _vm.imageError(index)}}}),_c('i',{staticClass:\"del el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteGoods(item.goods_id)}}})]),_c('div',{staticClass:\"goods-name\"},[_vm._v(_vm._s(item.sku_name))]),_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.sku_price))])])])}),0),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.goodsInfo.page,\"page-size\":_vm.goodsInfo.page_size,\"background\":\"\",\"pager-count\":5,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"hide-on-single-page\":\"\",\"total\":_vm.goodsTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)]):(!_vm.loading && !_vm.goodsList.length)?_c('div',{staticClass:\"empty\"},[_vm._v(\"您还没有关注商品哦\")]):_vm._e()]),_c('el-tab-pane',{attrs:{\"label\":\"店铺\",\"name\":\"shop\"}},[(_vm.shopList.length)?_c('div',[_c('div',{staticClass:\"shop\"},_vm._l((_vm.shopList),function(item,index){return _c('div',{key:item.site_id,staticClass:\"shop-wrap\"},[_c('div',{staticClass:\"shop-item\",on:{\"click\":function($event){return _vm.$router.pushToTab({ path: '/shop-' + item.site_id })}}},[_c('div',{staticClass:\"head-wrap\"},[_c('i',{staticClass:\"del el-icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteShop(item.site_id)}}}),_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"img-responsive center-block\",attrs:{\"src\":_vm.$img(item.logo)},on:{\"error\":function($event){return _vm.imageErrorShop(index)}}})]),_c('h5',[_c('span',{staticClass:\"ns-text-color name\"},[_vm._v(_vm._s(item.site_name))]),(item.is_own == 1)?_c('el-tag',{staticClass:\"tag\",attrs:{\"size\":\"small\"}},[_vm._v(\"自营\")]):_vm._e()],1)]),_c('div',{staticClass:\"info-wrap\"},[_c('div',{staticClass:\"info-item\"},[_vm._v(\"商品描述：\"+_vm._s(item.shop_desccredit)+\"分\")]),_c('div',{staticClass:\"info-item\"},[_vm._v(\"卖家服务：\"+_vm._s(item.shop_servicecredit)+\"分\")]),_c('div',{staticClass:\"info-item\"},[_vm._v(\"发货速度：\"+_vm._s(item.shop_deliverycredit)+\"分\")]),(item.telephone)?_c('div',{staticClass:\"info-item\"},[_vm._v(\"联系电话：\"+_vm._s(item.telephone))]):_vm._e()])])])}),0),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.shopInfo.page,\"page-size\":_vm.shopInfo.page_size,\"total\":_vm.shopTotal,\"background\":\"\",\"pager-count\":5,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"hide-on-single-page\":\"\"},on:{\"size-change\":_vm.sizeChange,\"current-change\":_vm.currentChange}})],1)]):(!_vm.loading && !_vm.shopList.length)?_c('div',{staticClass:\"empty\"},[_vm._v(\"您还没有关注店铺哦！\")]):_vm._e()])],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\r\n\t\t<div class=\"collection\" v-loading=\"loading\">\r\n\t\t\t<el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n\t\t\t\t<el-tab-pane label=\"宝贝\" name=\"goods\">\r\n\t\t\t\t\t<div v-if=\"goodsList.length\">\r\n\t\t\t\t\t\t<div class=\"goods\">\r\n\t\t\t\t\t\t\t<div class=\"goods-wrap\" v-for=\"(item, index) in goodsList\" :key=\"item.goods_id\">\r\n\t\t\t\t\t\t\t\t<div class=\"goods-item\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"img\" @click=\"$router.pushToTab({ path: '/sku-' + item.sku_id })\">\r\n\t\t\t\t\t\t\t\t\t\t<img :src=\"$img(item.sku_image, { size: 'mid' })\" @error=\"imageError(index)\" />\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"del el-icon-delete\" @click.stop=\"deleteGoods(item.goods_id)\"></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"goods-name\">{{ item.sku_name }}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"price\">￥{{ item.sku_price }}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"pager\">\r\n\t\t\t\t\t\t\t<el-pagination \r\n\t\t\t\t\t\t\t\t@size-change=\"handleSizeChange\" \r\n\t\t\t\t\t\t\t\t@current-change=\"handleCurrentChange\" \r\n\t\t\t\t\t\t\t\t:current-page=\"goodsInfo.page\" \r\n\t\t\t\t\t\t\t\t:page-size=\"goodsInfo.page_size\" \r\n\t\t\t\t\t\t\t\tbackground \r\n\t\t\t\t\t\t\t\t:pager-count=\"5\" \r\n\t\t\t\t\t\t\t\tprev-text=\"上一页\" \r\n\t\t\t\t\t\t\t\tnext-text=\"下一页\" \r\n\t\t\t\t\t\t\t\thide-on-single-page \r\n\t\t\t\t\t\t\t\t:total=\"goodsTotal\"\r\n\t\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-else-if=\"!loading && !goodsList.length\" class=\"empty\">您还没有关注商品哦</div>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"店铺\" name=\"shop\">\r\n\t\t\t\t\t<div v-if=\"shopList.length\">\r\n\t\t\t\t\t\t<div class=\"shop\">\r\n\t\t\t\t\t\t\t<div class=\"shop-wrap\" v-for=\"(item, index) in shopList\" :key=\"item.site_id\">\r\n\t\t\t\t\t\t\t\t<div class=\"shop-item\" @click=\"$router.pushToTab({ path: '/shop-' + item.site_id })\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"head-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"del el-icon-delete\" @click.stop=\"deleteShop(item.site_id)\"></i>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"img-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img class=\"img-responsive center-block\" :src=\"$img(item.logo)\" @error=\"imageErrorShop(index)\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"ns-text-color name\">{{ item.site_name }}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<el-tag class=\"tag\" size=\"small\" v-if=\"item.is_own == 1\">自营</el-tag>\r\n\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"info-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"info-item\">商品描述：{{ item.shop_desccredit }}分</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"info-item\">卖家服务：{{ item.shop_servicecredit }}分</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"info-item\">发货速度：{{ item.shop_deliverycredit }}分</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"info-item\" v-if=\"item.telephone\">联系电话：{{ item.telephone }}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"pager\">\r\n\t\t\t\t\t\t\t<el-pagination \r\n\t\t\t\t\t\t\t\t@size-change=\"sizeChange\" \r\n\t\t\t\t\t\t\t\t@current-change=\"currentChange\" \r\n\t\t\t\t\t\t\t\t:current-page=\"shopInfo.page\" \r\n\t\t\t\t\t\t\t\t:page-size=\"shopInfo.page_size\"  \r\n\t\t\t\t\t\t\t\t:total=\"shopTotal\" \r\n\t\t\t\t\t\t\t\tbackground \r\n\t\t\t\t\t\t\t\t:pager-count=\"5\" \r\n\t\t\t\t\t\t\t\tprev-text=\"上一页\" \r\n\t\t\t\t\t\t\t\tnext-text=\"下一页\" \r\n\t\t\t\t\t\t\t\thide-on-single-page\r\n\t\t\t\t\t\t\t></el-pagination>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-else-if=\"!loading && !shopList.length\" class=\"empty\">您还没有关注店铺哦！</div>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t</el-tabs>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n    import { shopCollect, goodsCollect, deleteGoods, deleteShop } from \"@/api/member/collection\"\r\n    import { mapGetters } from \"vuex\"\r\n    export default {\r\n        name: \"collection\",\r\n        components: {},\r\n        data: () => {\r\n            return {\r\n                goodsInfo: {\r\n                    page: 1,\r\n                    page_size: 10\r\n                },\r\n                shopInfo: {\r\n                    page: 1,\r\n                    page_size: 10\r\n                },\r\n                activeName: \"goods\",\r\n                goodsTotal: 0,\r\n                shopTotal: 0,\r\n                goodsList: [],\r\n                shopList: [],\r\n                loading: true,\r\n\t\t\t\tyes: true\r\n            }\r\n        },\r\n        created() {\r\n            this.getGoodsCollect()\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"defaultGoodsImage\", \"defaultShopImage\"])\r\n        },\r\n\t\tmounted() {\r\n\t\t\tlet self = this;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.yes = false\r\n\t\t\t}, 300)\r\n\t\t},\r\n        methods: {\r\n            //获取关注商品\r\n            getGoodsCollect() {\r\n                goodsCollect(this.goodsInfo)\r\n                    .then(res => {\r\n                        this.goodsTotal = res.data.count\r\n                        this.goodsList = res.data.list\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.loading = false\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n            //获取关注店铺\r\n            getShopCollect() {\r\n                shopCollect(this.shopInfo)\r\n                    .then(res => {\r\n                        this.shopTotal = res.data.count\r\n                        this.shopList = res.data.list\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.loading = false\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n            //删除关注商品\r\n            deleteGoods(id) {\r\n                deleteGoods({ goods_id: id })\r\n                    .then(res => {\r\n                        if (res.code == 0) {\r\n                            this.$message({ message: \"取消关注成功\", type: \"success\" })\r\n                            this.getGoodsCollect()\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n            //删除关注店铺\r\n            deleteShop(id) {\r\n                deleteShop({ site_id: id })\r\n                    .then(res => {\r\n                        if (res.code == 0) {\r\n                            this.$message({ message: \"取消关注成功\", type: \"success\" })\r\n                            this.getShopCollect()\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n            handleClick(tab, event) {\r\n                if (tab.index == \"0\") {\r\n                    this.loading = true\r\n                    this.getGoodsCollect()\r\n                } else {\r\n                    this.loading = true\r\n                    this.getShopCollect()\r\n                }\r\n            },\r\n            handleSizeChange(size) {\r\n                this.goodsInfo.page_size = size\r\n\t\t\t\tthis.loading = true\r\n                this.getGoodsCollect()\r\n            },\r\n            handleCurrentChange(page) {\r\n                this.goodsInfo.page = page\r\n\t\t\t\tthis.loading = true\r\n                this.getGoodsCollect()\r\n            },\r\n            sizeChange(size) {\r\n                this.shopInfo.page_size = size\r\n\t\t\t\tthis.loading = true\r\n                this.getShopCollect()\r\n            },\r\n            currentChange(page) {\r\n                this.shopInfo.page = page\r\n\t\t\t\tthis.loading = true\r\n                this.getShopCollect()\r\n            },\r\n            imageError(index) {\r\n                this.goodsList[index].sku_image = this.defaultGoodsImage\r\n            },\r\n            imageErrorShop(index) {\r\n                this.shopList[index].logo = this.defaultShopImage\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.null-page {\r\n\t\twidth: 100%;\r\n\t\theight: 730px;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 9;\r\n\t}\r\n\t\r\n    .collection {\r\n        background: #ffffff;\r\n        padding: 10px 20px;\r\n        .goods {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            .goods-wrap {\r\n\t\t\t\twidth: 19%;\r\n                margin-right: 1.25%;\r\n\t\t\t\tmargin-bottom: 20px;\r\n\t\t\t\t\r\n                &:nth-child(5n) {\r\n                    margin-right: 0;\r\n                }\r\n                .goods-item {\r\n\t\t\t\t\tborder: 1px solid #f1f1f1;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tpadding: 10px;\r\n                    .img {\r\n                        width: 100%;\r\n                        height: 160px;\r\n                        cursor: pointer;\r\n                        position: relative;\r\n                        img {\r\n                            width: 100%;\r\n                            height: 100%;\r\n                        }\r\n                        .del {\r\n                            font-size: 20px;\r\n                            position: absolute;\r\n                            top: 2px;\r\n                            right: 2px;\r\n                            padding: 3px;\r\n                            background: rgba($color: #000000, $alpha: 0.3);\r\n                            display: none;\r\n                            color: #ffffff;\r\n                        }\r\n                        &:hover {\r\n                            .del {\r\n                                display: block;\r\n                            }\r\n                        }\r\n                    }\r\n                    .goods-name {\r\n                        width: 100%;\r\n\t\t\t\t\t\tmargin-top: 10px;\r\n                        overflow: hidden;\r\n                        display: -webkit-box;\r\n                        -webkit-line-clamp: 2;\r\n                        -webkit-box-orient: vertical;\r\n                        height: 55px;\r\n                    }\r\n                    .price {\r\n                        color: $base-color;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .shop {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            .shop-wrap {\r\n                margin: 0 15px 20px 0;\r\n                &:nth-child(5n) {\r\n                    margin-right: 0;\r\n                }\r\n                .shop-item {\r\n                    width: 156px;\r\n                    height: 227px;\r\n                    border: 1px solid #eeeeee;\r\n                    padding: 0 10px;\r\n                    cursor: pointer;\r\n                    .head-wrap {\r\n                        text-align: center;\r\n                        padding: 10px 0;\r\n                        border-bottom: 1px solid #eeeeee;\r\n                        position: relative;\r\n                        .del {\r\n                            font-size: 20px;\r\n                            position: absolute;\r\n                            top: 0px;\r\n                            right: 0px;\r\n                            padding: 3px;\r\n                            background: rgba($color: #000000, $alpha: 0.3);\r\n                            display: none;\r\n                            color: #ffffff;\r\n                            cursor: pointer;\r\n                        }\r\n                        &:hover {\r\n                            .del {\r\n                                display: block;\r\n                            }\r\n                        }\r\n                        .img-wrap {\r\n                            width: 60px;\r\n                            height: 60px;\r\n                            line-height: 60px;\r\n                            display: inline-block;\r\n                        }\r\n                        .name {\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t\twidth: 100%;\r\n                            height: 24px;\r\n                            line-height: 24px;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\twhite-space: nowrap;\r\n                        }\r\n                        .tag {\r\n                            margin-left: 5px;\r\n                        }\r\n                    }\r\n                    .info-wrap {\r\n                        padding: 10px 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .empty {\r\n            text-align: center;\r\n        }\r\n        .page {\r\n            text-align: center;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collection.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./collection.vue?vue&type=template&id=378ab37e&scoped=true\"\nimport script from \"./collection.vue?vue&type=script&lang=js\"\nexport * from \"./collection.vue?vue&type=script&lang=js\"\nimport style0 from \"./collection.vue?vue&type=style&index=0&id=378ab37e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"378ab37e\",\n  null\n  \n)\n\nexport default component.exports","import http from \"../../utils/http\"\r\n/**\r\n * 我的店铺收藏\r\n */\r\nexport function shopCollect(params) {\r\n    return http({\r\n        url: \"/api/shopmember/membershoppages\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n/**\r\n * 我的商品收藏\r\n */\r\nexport function goodsCollect(params) {\r\n    return http({\r\n        url: \"/api/goodscollect/page\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n/**\r\n * 取消商品收藏\r\n */\r\nexport function deleteGoods(params) {\r\n    return http({\r\n        url: \"/api/goodscollect/delete\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}\r\n/**\r\n * 取消店铺收藏\r\n */\r\nexport function deleteShop(params) {\r\n    return http({\r\n        url: \"/api/shopmember/delete\",\r\n        data: params,\r\n        forceLogin: true\r\n    })\r\n}"],"sourceRoot":""}