#############################################
# WebSocket 生产环境配置示例（复制为 .env 使用）
#############################################

# 基础环境
ENV_MODE=prod
WS_PORT=3001

# API地址（默认已内置线上主域，如需自定义请覆盖）
# 使用 index.php/api 统一入口，避免未配置重写时 404
API_BASE_URL=https://yiqilishi.com.cn/index.php/api

# CORS 允许来源（逗号分隔）
CORS_ORIGINS=https://yiqilishi.com.cn,https://3.yiqilishi.com.cn,https://servicewechat.com

# 数据库（仅在启用 Node 直连写库时使用）
DB_HOST=127.0.0.1
DB_USER=202510042239
DB_PASSWORD=202510042239
DB_NAME=202510042239

# 心跳与连接策略（生产建议保守设置）
PING_INTERVAL_MS=25000
PING_TIMEOUT_MS=120000
RECOVERY_MAX_MS=120000
HEARTBEAT_WRITE_INTERVAL=30
HEARTBEAT_OFFLINE_TIMEOUT=300
HEARTBEAT_SWEEP_INTERVAL=60
# 生产默认强制断开超时连接，如需关闭设为 false/0
HEARTBEAT_ENFORCE_DISCONNECT=1

# 是否启用 Node 直连数据库心跳写库（生产可按需）
ENABLE_NODE_HEARTBEAT_WRITE=1

# 新设备自动绑定（生产默认关闭，如需开启设为 true/1）
AUTO_BIND_NEW_DEVICE=0
# 默认绑定的分润配置ID（启用自动绑定时生效）
AUTO_BIND_CONFIG_ID=26

# 可选：追加一个临时联调来源（如内网IP）
#EXTRA_CORS_ORIGIN=http://192.168.1.2:8000