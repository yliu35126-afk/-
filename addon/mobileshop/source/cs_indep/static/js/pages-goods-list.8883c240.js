(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-list"],{"106c":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={nsEmpty:i("4e1a").default,loadingCover:i("58f4").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"search-wrap"},[i("v-uni-view",{staticClass:"search-input-inner"},[i("v-uni-text",{staticClass:"search-input-icon iconfont iconsousuo",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchGoods()}}}),i("v-uni-input",{staticClass:"search-input-text font-size-tag",attrs:{maxlength:"50",placeholder:"请输入商品名称"},model:{value:t.searchGoodsName,callback:function(e){t.searchGoodsName=e},expression:"searchGoodsName"}})],1),i("v-uni-view",{staticClass:"search-btn color-base-bg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.linkSkip("add")}}},[i("v-uni-text",[t._v("+")]),t._v("添加商品")],1)],1),i("v-uni-view",{staticClass:"tab-wrap"},[t._l(t.statusList,(function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"tab-item",class:e.id==t.status?"active color-base-text color-base-bg-before":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tabChange(e.id)}}},[t._v(t._s(e.name))])]}))],2),i("mescroll-uni",{staticClass:"list-wrap",attrs:{top:"210",refs:"mescroll",size:10},on:{getData:function(e){arguments[0]=e=t.$handleEvent(e),t.getListData.apply(void 0,arguments)}}},[i("template",{attrs:{slot:"list"},slot:"list"},[t._l(t.dataList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item-inner"},[i("v-uni-view",{staticClass:"item-wrap",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.linkSkip("edit",e)}}},[i("v-uni-image",{staticClass:"item-img",attrs:{src:""==e.goods_image?t.$util.img(t.$util.getDefaultImage().default_headimg):t.$util.img(e.goods_image),mode:""}}),i("v-uni-view",{staticClass:"item-desc"},[i("v-uni-view",{staticClass:"item-name uni-line-hide"},[t._v(t._s(e.goods_name))]),i("v-uni-view",{staticClass:"item-num-wrap"},[i("v-uni-text",[t._v("库存："+t._s(e.goods_stock))]),i("v-uni-text",[t._v("销量："+t._s(e.sale_num))])],1),i("v-uni-view",{staticClass:"item-operation"},[i("v-uni-text",{staticClass:"color-base-text item-price"},[t._v("￥"+t._s(e.price))]),i("v-uni-text",{staticClass:"iconshenglve iconfont",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),e.is_off=1}}})],1)],1)],1),e.is_off?i("v-uni-view",{staticClass:"operation",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),e.is_off=0}}},[i("v-uni-view",{staticClass:"operation-item"},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/shop_uniapp/goods/goods_list_01.png"),mode:""}}),i("v-uni-text",[t._v("编辑")])],1),1==e.verify_state&&1==e.goods_state?i("v-uni-view",{staticClass:"operation-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.offGoods(e)}}},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/shop_uniapp/goods/goods_list_02.png"),mode:""}}),i("v-uni-text",[t._v("下架")])],1):t._e(),1==e.verify_state&&0==e.goods_state?i("v-uni-view",{staticClass:"operation-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.onGoods(e)}}},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/shop_uniapp/goods/goods_list_06.png"),mode:""}}),i("v-uni-text",[t._v("上架")])],1):t._e(),i("v-uni-view",{staticClass:"operation-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.copyGoods(e)}}},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/shop_uniapp/goods/goods_list_03.png"),mode:""}}),i("v-uni-text",[t._v("复制")])],1),i("v-uni-view",{staticClass:"operation-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.deleteGoods(e)}}},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/shop_uniapp/goods/goods_list_04.png"),mode:""}}),i("v-uni-text",[t._v("删除")])],1),10==e.verify_state?i("v-uni-view",{staticClass:"operation-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.getVerifyStateRemark(e)}}},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/shop_uniapp/goods/goods_list_07.png"),mode:""}}),i("v-uni-text",[t._v("原因")])],1):t._e(),i("v-uni-view",{staticClass:"operation-item"},[i("v-uni-image",{attrs:{src:t.$util.img("/upload/uniapp/shop_uniapp/goods/goods_list_05.png"),mode:""}}),i("v-uni-text",[t._v("出入库")])],1)],1):t._e()],1)})),t.dataList.length?t._e():i("ns-empty",{attrs:{emptyBtn:{show:!1},fixed:!1}})],2)],2),i("loading-cover",{ref:"loadingCover"})],1)},o=[]},2845:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-line-hide[data-v-3a921cf7]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.search-wrap[data-v-3a921cf7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?30?% %?30?% 0;background-color:#fff}.search-wrap .search-input-inner[data-v-3a921cf7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?460?%;height:%?70?%;padding:0 %?30?%;color:#909399;background-color:#f8f8f8;border-radius:%?100?%;box-sizing:border-box}.search-wrap .search-input-inner .search-input-icon[data-v-3a921cf7]{margin-right:%?10?%}.search-wrap .search-btn[data-v-3a921cf7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?200?%;height:%?70?%;color:#fff;border-radius:%?100?%}.search-wrap .search-btn uni-text[data-v-3a921cf7]{margin-right:%?10?%}.tab-wrap[data-v-3a921cf7]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?24?% %?30?% 0;height:%?66?%;background-color:#fff}.tab-wrap .tab-item[data-v-3a921cf7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.tab-wrap .active[data-v-3a921cf7]{position:relative}.tab-wrap .active[data-v-3a921cf7]::after{content:"";position:absolute;bottom:0;height:%?4?%;width:100%}.item-inner[data-v-3a921cf7]{position:relative;margin:0 %?30?% %?20?%;background-color:#fff;border-radius:%?10?%}.item-inner .item-wrap[data-v-3a921cf7]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?30?%}.item-inner .item-wrap .item-img[data-v-3a921cf7]{margin-right:%?20?%;width:%?160?%;height:%?160?%;border-radius:%?10?%}.item-inner .item-wrap .item-desc[data-v-3a921cf7]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.item-inner .item-wrap .item-desc .item-name[data-v-3a921cf7]{line-height:1.6;color:#303133}.item-inner .item-wrap .item-desc .item-num-wrap[data-v-3a921cf7]{margin-top:3px;font-size:%?24?%;color:#909399}.item-inner .item-wrap .item-desc .item-num-wrap uni-text[data-v-3a921cf7]:first-of-type{margin-right:%?30?%}.item-inner .item-wrap .item-desc .item-operation[data-v-3a921cf7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;line-height:1}.item-inner .item-wrap .item-desc .item-operation .item-price[data-v-3a921cf7]{font-size:%?24?%}.item-inner .item-wrap .item-desc .item-operation .iconshenglve[data-v-3a921cf7]{font-size:24px;color:#ccc}.item-inner .operation[data-v-3a921cf7]{overflow:hidden;position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?10?%}.item-inner .operation .operation-item[data-v-3a921cf7]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.item-inner .operation .operation-item uni-image[data-v-3a921cf7]{width:%?64?%;height:%?64?%}.item-inner .operation .operation-item uni-text[data-v-3a921cf7]{margin-top:%?10?%;line-height:1;color:#fff}',""]),t.exports=e},6067:function(t,e,i){var a=i("2845");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("7be39c6a",a,!0,{sourceMap:!1,shadowMode:!1})},"912a":function(t,e,i){"use strict";i.r(e);var a=i("106c"),s=i("c333");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("f361");var n,c=i("f0c5"),r=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"3a921cf7",null,!1,a["a"],n);e["default"]=r.exports},c333:function(t,e,i){"use strict";i.r(e);var a=i("de6c"),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},de6c:function(t,e,i){"use strict";i("99af"),i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{statusList:[{id:0,name:"销售中",screenVal:1},{id:1,name:"仓库中",screenVal:0},{id:2,name:"待审核",screenVal:0},{id:3,name:"审核失败",screenVal:-2},{id:4,name:"违规下架",screenVal:10}],status:0,dataList:[],searchGoodsName:""}},methods:{tabChange:function(t){this.status=t,this.mescroll.resetUpScroll()},getListData:function(t){var e=this,i={page_size:t.size,page:t.num,search_text:this.searchGoodsName};this.status>1?i.verify_state=this.statusList[this.status].screenVal:i.goods_state=this.statusList[this.status].screenVal,this.mescroll=t,this.$api.sendRequest({url:"/shopapi/goods/lists",data:i,success:function(i){var a=[],s=i.message;0==i.code&&i.data?a=i.data.list:e.$util.showToast({title:s}),t.endSuccess(a.length),1==t.num&&(e.dataList=[]),a.forEach((function(t){t.is_off=0,t.end_time>i.timestamp?t.timeMachine=e.$util.countDown(t.end_time-i.timestamp):t.timeMachine=null})),e.dataList=e.dataList.concat(a),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(){t.endErr(),this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},deleteGoods:function(t){var e=this;uni.showModal({title:"删除",content:"删除后进入回收站，确定删除吗?",success:function(i){i.confirm&&e.$api.sendRequest({url:"/shopapi/goods/deleteGoods",data:{goods_ids:t.goods_id},success:function(t){0==t.code?(e.mescroll.resetUpScroll(),e.$util.showToast({title:"操作成功"})):e.$util.showToast({title:t.message})}}),t.is_off=0}})},offGoods:function(t){var e=this;this.$api.sendRequest({url:"/shopapi/goods/offGoods",data:{goods_state:0,goods_ids:t.goods_id},success:function(t){0==t.code?(e.mescroll.resetUpScroll(),e.$util.showToast({title:"操作成功"})):e.$util.showToast({title:t.message})}}),t.is_off=0},onGoods:function(t){var e=this;this.$api.sendRequest({url:"/shopapi/goods/onGoods",data:{goods_state:1,goods_ids:t.goods_id},success:function(t){0==t.code?(e.mescroll.resetUpScroll(),e.$util.showToast({title:"操作成功"})):e.$util.showToast({title:t.message})}}),t.is_off=0},copyGoods:function(t){var e=this;uni.showModal({title:"复制",content:"复制商品会存放在仓库中,确定复制吗",success:function(i){i.confirm&&e.$api.sendRequest({url:"/shopapi/goods/copyGoods",data:{goods_id:t.goods_id},success:function(t){0==t.code?(e.mescroll.resetUpScroll(),e.$util.showToast({title:"操作成功"})):e.$util.showToast({title:t.message})}}),t.is_off=0}})},getVerifyStateRemark:function(t){this.$api.sendRequest({url:"/shopapi/goods/getVerifyStateRemark",data:{goods_id:t.goods_id},success:function(e){if(0!=e.code&&!e.data)return!1;var i=e.data.verify_state_remark?e.data.verify_state_remark:"暂无违规信息";return uni.showModal({title:"违规原因",content:i,showCancel:!1,success:function(e){t.is_off=0}}),!1}})},searchGoods:function(){this.mescroll.resetUpScroll()},linkSkip:function(t,e){"add"==t?this.$util.redirectTo("/pages/goods/add"):"edit"==t&&this.$util.redirectTo("/pages/goods/edit",{sku_id:e.sku_id})}}};e.default=a},f361:function(t,e,i){"use strict";var a=i("6067"),s=i.n(a);s.a}}]);