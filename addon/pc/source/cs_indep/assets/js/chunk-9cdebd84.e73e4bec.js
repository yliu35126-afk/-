(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cdebd84"],{"1a6b":function(e,t,s){},2760:function(e,t,s){"use strict";s("1a6b")},"86b5":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.yes,expression:"yes"}],staticClass:"null-page"}),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"collection"},[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"宝贝",name:"goods"}},[e.goodsList.length?t("div",[t("div",{staticClass:"goods"},e._l(e.goodsList,(function(s,o){return t("div",{key:s.goods_id,staticClass:"goods-wrap"},[t("div",{staticClass:"goods-item"},[t("div",{staticClass:"img",on:{click:function(t){return e.$router.pushToTab({path:"/sku-"+s.sku_id})}}},[t("img",{attrs:{src:e.$img(s.sku_image,{size:"mid"})},on:{error:function(t){return e.imageError(o)}}}),t("i",{staticClass:"del el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.deleteGoods(s.goods_id)}}})]),t("div",{staticClass:"goods-name"},[e._v(e._s(s.sku_name))]),t("div",{staticClass:"price"},[e._v("￥"+e._s(s.sku_price))])])])})),0),t("div",{staticClass:"pager"},[t("el-pagination",{attrs:{"current-page":e.goodsInfo.page,"page-size":e.goodsInfo.page_size,background:"","pager-count":5,"prev-text":"上一页","next-text":"下一页","hide-on-single-page":"",total:e.goodsTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]):e.loading||e.goodsList.length?e._e():t("div",{staticClass:"empty"},[e._v("您还没有关注商品哦")])]),t("el-tab-pane",{attrs:{label:"店铺",name:"shop"}},[e.shopList.length?t("div",[t("div",{staticClass:"shop"},e._l(e.shopList,(function(s,o){return t("div",{key:s.site_id,staticClass:"shop-wrap"},[t("div",{staticClass:"shop-item",on:{click:function(t){return e.$router.pushToTab({path:"/shop-"+s.site_id})}}},[t("div",{staticClass:"head-wrap"},[t("i",{staticClass:"del el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.deleteShop(s.site_id)}}}),t("div",{staticClass:"img-wrap"},[t("img",{staticClass:"img-responsive center-block",attrs:{src:e.$img(s.logo)},on:{error:function(t){return e.imageErrorShop(o)}}})]),t("h5",[t("span",{staticClass:"ns-text-color name"},[e._v(e._s(s.site_name))]),1==s.is_own?t("el-tag",{staticClass:"tag",attrs:{size:"small"}},[e._v("自营")]):e._e()],1)]),t("div",{staticClass:"info-wrap"},[t("div",{staticClass:"info-item"},[e._v("商品描述："+e._s(s.shop_desccredit)+"分")]),t("div",{staticClass:"info-item"},[e._v("卖家服务："+e._s(s.shop_servicecredit)+"分")]),t("div",{staticClass:"info-item"},[e._v("发货速度："+e._s(s.shop_deliverycredit)+"分")]),s.telephone?t("div",{staticClass:"info-item"},[e._v("联系电话："+e._s(s.telephone))]):e._e()])])])})),0),t("div",{staticClass:"pager"},[t("el-pagination",{attrs:{"current-page":e.shopInfo.page,"page-size":e.shopInfo.page_size,total:e.shopTotal,background:"","pager-count":5,"prev-text":"上一页","next-text":"下一页","hide-on-single-page":""},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)]):e.loading||e.shopList.length?e._e():t("div",{staticClass:"empty"},[e._v("您还没有关注店铺哦！")])])],1)],1)])},i=[],a=s("df7cd"),n=s("2f62"),c={name:"collection",components:{},data:()=>({goodsInfo:{page:1,page_size:10},shopInfo:{page:1,page_size:10},activeName:"goods",goodsTotal:0,shopTotal:0,goodsList:[],shopList:[],loading:!0,yes:!0}),created(){this.getGoodsCollect()},computed:{...Object(n["b"])(["defaultGoodsImage","defaultShopImage"])},mounted(){let e=this;setTimeout((function(){e.yes=!1}),300)},methods:{getGoodsCollect(){Object(a["c"])(this.goodsInfo).then(e=>{this.goodsTotal=e.data.count,this.goodsList=e.data.list,this.loading=!1}).catch(e=>{this.loading=!1,this.$message.error(e.message)})},getShopCollect(){Object(a["d"])(this.shopInfo).then(e=>{this.shopTotal=e.data.count,this.shopList=e.data.list,this.loading=!1}).catch(e=>{this.loading=!1,this.$message.error(e.message)})},deleteGoods(e){Object(a["a"])({goods_id:e}).then(e=>{0==e.code&&(this.$message({message:"取消关注成功",type:"success"}),this.getGoodsCollect())}).catch(e=>{this.$message.error(e.message)})},deleteShop(e){Object(a["b"])({site_id:e}).then(e=>{0==e.code&&(this.$message({message:"取消关注成功",type:"success"}),this.getShopCollect())}).catch(e=>{this.$message.error(e.message)})},handleClick(e,t){"0"==e.index?(this.loading=!0,this.getGoodsCollect()):(this.loading=!0,this.getShopCollect())},handleSizeChange(e){this.goodsInfo.page_size=e,this.loading=!0,this.getGoodsCollect()},handleCurrentChange(e){this.goodsInfo.page=e,this.loading=!0,this.getGoodsCollect()},sizeChange(e){this.shopInfo.page_size=e,this.loading=!0,this.getShopCollect()},currentChange(e){this.shopInfo.page=e,this.loading=!0,this.getShopCollect()},imageError(e){this.goodsList[e].sku_image=this.defaultGoodsImage},imageErrorShop(e){this.shopList[e].logo=this.defaultShopImage}}},l=c,d=(s("2760"),s("2877")),r=Object(d["a"])(l,o,i,!1,null,"378ab37e",null);t["default"]=r.exports},df7cd:function(e,t,s){"use strict";s.d(t,"d",(function(){return i})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return c}));var o=s("751a");function i(e){return Object(o["a"])({url:"/api/shopmember/membershoppages",data:e,forceLogin:!0})}function a(e){return Object(o["a"])({url:"/api/goodscollect/page",data:e,forceLogin:!0})}function n(e){return Object(o["a"])({url:"/api/goodscollect/delete",data:e,forceLogin:!0})}function c(e){return Object(o["a"])({url:"/api/shopmember/delete",data:e,forceLogin:!0})}}}]);
//# sourceMappingURL=chunk-9cdebd84.e73e4bec.js.map