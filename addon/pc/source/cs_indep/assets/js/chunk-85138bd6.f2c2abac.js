(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85138bd6"],{"9ddd":function(e,t,a){},a17e:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"newCategory"},[t("div",{staticClass:"categoryLink"},[t("ul",{class:1==e.categoryFixed?"category-fixed":"",attrs:{id:"categoryUl"}},e._l(e.goodsCategory,(function(a,o){return t("li",{key:o,class:o==e.clickIndex?"selected":"",on:{click:function(t){return e.changeCate(o,"#category"+o)}}},[t("a",[t("span",[e._v(e._s(a.category_name))])])])})),0)]),t("div",{staticClass:"categoryCon"},e._l(e.goodsCategory,(function(a,o){return t("div",{key:o,ref:"category"+o,refInFor:!0,staticClass:"items",class:"items-"+o,attrs:{id:"category"+o}},[t("h2",[t("router-link",{attrs:{to:{path:"/list",query:{category_id:a.category_id,level:a.level}},target:"_blank"}},[e._v(e._s(a.category_name))])],1),e._l(a.child_list,(function(a,o){return t("dl",{key:o},[t("dt",[t("router-link",{attrs:{to:{path:"/list",query:{category_id:a.category_id,level:a.level}},target:"_blank"}},[e._v(" "+e._s(a.category_name)+" ")])],1),t("dd",e._l(a.child_list,(function(a,o){return t("router-link",{key:o,attrs:{to:{path:"/list",query:{category_id:a.category_id,level:a.level}},target:"_blank"}},[e._v(" "+e._s(a.category_name)+" ")])})),1)])}))],2)})),0),e.goodsCategory.length<=0?t("div",{staticClass:"empty-wrap"},[t("div",{staticClass:"ns-text-align"},[e._v("暂无商品分类")])]):e._e()])])},r=[],s=(a("14d9"),a("8894")),l={name:"category",components:{},data:()=>({goodsCategory:[],categoryFixed:!1,clickIndex:0,loading:!0}),created(){this.getGoodsCategory()},mounted(){window.addEventListener("scroll",this.handleScroll)},methods:{getGoodsCategory(){Object(s["d"])({level:3,template:2}).then(e=>{0==e.code&&(this.goodsCategory=e.data),this.loading=!1}).catch(e=>{this.$message.error(e.message),this.loading=!1})},handleScroll(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=document.querySelector(".newCategory").offsetTop;this.categoryFixed=e>t;var a=[];for(let s=0;s<this.goodsCategory.length;s++){var o=this.$refs["category"+s][0].offsetTop;a.push(o);var r=e-t;r<a[a.length-1]?r>=a[s]&&r<a[s+1]&&(this.clickIndex=s):this.clickIndex=a.length-1}},changeCate(e,t){this.clickIndex=e,document.querySelector(t).scrollIntoView(!0)}},destroyed(){window.removeEventListener("scroll",this.handleScroll)}},n=l,i=(a("a5e2"),a("2877")),c=Object(i["a"])(n,o,r,!1,null,"648b9aa8",null);t["default"]=c.exports},a5e2:function(e,t,a){"use strict";a("9ddd")}}]);
//# sourceMappingURL=chunk-85138bd6.f2c2abac.js.map