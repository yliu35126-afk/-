{"version":3,"sources":["webpack:///./src/views/member/delivery_address.vue?da5f","webpack:///./src/views/member/delivery_address.vue","webpack:///src/views/member/delivery_address.vue","webpack:///./src/views/member/delivery_address.vue?3a8b","webpack:///./src/views/member/delivery_address.vue?fe6d"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","staticClass","yes","attrs","slot","_v","on","$event","addAddress","_l","addressList","item","index","key","_s","is_default","_e","mobile","full_address","address","setDefault","id","delAddress","total","currentPage","pageSize","handlePageSizeChange","handleCurrentPageChange","staticRenderFns","components","data","created","getListData","mounted","self","setTimeout","methods","page","page_size","then","res","count","page_count","list","catch","err","$message","error","message","size","refresh","type","$router","push","path","query","$confirm","confirmButtonText","cancelButtonText","deleteAddress","component"],"mappings":"kHAAA,W,kECAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOP,EAAIQ,QAASC,WAAW,YAAYC,YAAY,OAAO,CAACR,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOP,EAAIW,IAAKF,WAAW,QAAQC,YAAY,cAAcR,EAAG,UAAU,CAACQ,YAAY,YAAY,CAACR,EAAG,MAAM,CAACQ,YAAY,WAAWE,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACX,EAAG,OAAO,CAACF,EAAIc,GAAG,YAAYZ,EAAG,MAAM,CAACA,EAAG,MAAM,CAACQ,YAAY,0BAA0B,CAACR,EAAG,MAAM,CAACQ,YAAY,2BAA2BK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,WAAW,UAAU,CAACf,EAAG,OAAO,CAACF,EAAIc,GAAG,gBAAgBd,EAAIkB,GAAIlB,EAAImB,aAAa,SAASC,EAAKC,GAAO,OAAOnB,EAAG,MAAM,CAACoB,IAAID,EAAMX,YAAY,aAAa,CAACR,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,OAAO,CAACF,EAAIc,GAAGd,EAAIuB,GAAGH,EAAKf,SAA6B,GAAnBe,EAAKI,WAAiBtB,EAAG,OAAO,CAACQ,YAAY,gBAAgB,CAACV,EAAIc,GAAG,QAAQd,EAAIyB,OAAOvB,EAAG,MAAM,CAACQ,YAAY,gBAAgB,CAACR,EAAG,IAAI,CAACF,EAAIc,GAAGd,EAAIuB,GAAGH,EAAKM,WAAWxB,EAAG,IAAI,CAACQ,YAAY,oBAAoBE,MAAM,CAAC,MAAQQ,EAAKO,aAAeP,EAAKQ,UAAU,CAAC5B,EAAIc,GAAGd,EAAIuB,GAAGH,EAAKO,cAAc3B,EAAIuB,GAAGH,EAAKQ,cAAc1B,EAAG,MAAM,CAACQ,YAAY,kBAAkB,CAAqB,GAAnBU,EAAKI,WAAiBtB,EAAG,OAAO,CAACa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAI6B,WAAWT,EAAKU,OAAO,CAAC9B,EAAIc,GAAG,UAAUd,EAAIyB,KAAKvB,EAAG,OAAO,CAACa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAIiB,WAAW,OAAQG,EAAKU,OAAO,CAAC9B,EAAIc,GAAG,QAA4B,GAAnBM,EAAKI,WAAiBtB,EAAG,OAAO,CAACa,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhB,EAAI+B,WAAWX,EAAKU,GAAIV,EAAKI,eAAe,CAACxB,EAAIc,GAAG,QAAQd,EAAIyB,aAAY,GAAGvB,EAAG,MAAM,CAACQ,YAAY,SAAS,CAACR,EAAG,gBAAgB,CAACU,MAAM,CAAC,WAAa,GAAG,cAAc,EAAE,MAAQZ,EAAIgC,MAAM,YAAY,MAAM,YAAY,MAAM,eAAehC,EAAIiC,YAAY,YAAYjC,EAAIkC,SAAS,sBAAsB,IAAInB,GAAG,CAAC,qBAAqB,SAASC,GAAQhB,EAAIiC,YAAYjB,GAAQ,sBAAsB,SAASA,GAAQhB,EAAIiC,YAAYjB,GAAQ,kBAAkB,SAASA,GAAQhB,EAAIkC,SAASlB,GAAQ,mBAAmB,SAASA,GAAQhB,EAAIkC,SAASlB,GAAQ,cAAchB,EAAImC,qBAAqB,iBAAiBnC,EAAIoC,4BAA4B,QAAQ,IAE9jEC,EAAkB,G,wBCsDtB,GACAhC,KAAA,mBACAiC,WAAA,GACAC,UACA,CACApB,YAAA,GACAa,MAAA,EACAC,YAAA,EACAC,SAAA,EACA1B,SAAA,EACAG,KAAA,IAGA6B,UACA,KAAAC,eAEAC,UACA,IAAAC,EAAA,KACAC,YAAA,WACAD,EAAAhC,KAAA,IACA,MAEAkC,QAAA,CACAJ,cACAtB,eAAA,CACA2B,KAAA,KAAAb,YACAc,UAAA,KAAAb,WAEAc,KAAAC,IACA,YAAAC,EAAA,WAAAC,EAAA,KAAAC,GAAAH,EAAAV,KACA,KAAAP,MAAAkB,EACA,KAAA/B,YAAAiC,EACA,KAAA5C,SAAA,IAEA6C,MAAAC,IACA,KAAA9C,SAAA,EACA,KAAA+C,SAAAC,MAAAF,EAAAG,YAGAtB,qBAAAuB,GACA,KAAAxB,SAAAwB,EACA,KAAAC,WAEAvB,wBAAAU,GACA,KAAAb,YAAAa,EACA,KAAAa,WAEAA,UACA,KAAAnD,SAAA,EACA,KAAAiC,eAKAZ,WAAAC,GACAD,eAAA,CACAC,OAEAkB,KAAAC,IACA,KAAAU,UACA,KAAAJ,SAAA,CACAE,QAAA,WACAG,KAAA,cAGAP,MAAAC,IACA,KAAAC,SAAAC,MAAAF,EAAAG,YAOAxC,WAAA2C,EAAA9B,GACA,QAAA8B,EACA,KAAAC,QAAAC,KAAA,CAAAC,KAAA,uBAAAC,MAAA,CAAAlC,QAEA,KAAA+B,QAAAC,KAAA,CAAAC,KAAA,0BAOAhC,WAAAD,EAAAN,GACA,KAAAyC,SAAA,mBACAC,kBAAA,KACAC,iBAAA,KACAP,KAAA,YACAZ,KAAA,KACA,GAAAxB,EAQA4C,eAAA,CACAtC,OAEAkB,KAAAC,IACA,KAAAU,UACA,KAAAJ,SAAA,CAAAE,QAAAR,EAAAQ,QAAAG,KAAA,cAEAP,MAAAC,IACA,KAAAC,SAAAC,MAAAF,EAAAG,WAfA,KAAAF,SAAA,CACAK,KAAA,UACAH,QAAA,oBCrJwW,I,wBCQpWY,EAAY,eACd,EACAtE,EACAsC,GACA,EACA,KACA,WACA,MAIa,aAAAgC,E","file":"assets/js/chunk-04b56a1d.e9b928c7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delivery_address.vue?vue&type=style&index=0&id=0a3c93e0&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.yes),expression:\"yes\"}],staticClass:\"null-page\"}),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"收货地址\")])]),_c('div',[_c('div',{staticClass:\"ns-member-address-list\"},[_c('div',{staticClass:\"text item ns-add-address\",on:{\"click\":function($event){return _vm.addAddress('add')}}},[_c('span',[_vm._v(\"+ 添加收货地址\")])]),_vm._l((_vm.addressList),function(item,index){return _c('div',{key:index,staticClass:\"text item\"},[_c('div',{staticClass:\"text-name\"},[_c('span',[_vm._v(_vm._s(item.name))]),(item.is_default == 1)?_c('span',{staticClass:\"text-default\"},[_vm._v(\"默认\")]):_vm._e()]),_c('div',{staticClass:\"text-content\"},[_c('p',[_vm._v(_vm._s(item.mobile))]),_c('p',{staticClass:\"ns-address-detail\",attrs:{\"title\":item.full_address + item.address}},[_vm._v(_vm._s(item.full_address)+_vm._s(item.address))])]),_c('div',{staticClass:\"text-operation\"},[(item.is_default != 1)?_c('span',{on:{\"click\":function($event){return _vm.setDefault(item.id)}}},[_vm._v(\"设为默认\")]):_vm._e(),_c('span',{on:{\"click\":function($event){return _vm.addAddress('edit', item.id)}}},[_vm._v(\"编辑\")]),(item.is_default != 1)?_c('span',{on:{\"click\":function($event){return _vm.delAddress(item.id, item.is_default)}}},[_vm._v(\"删除\")]):_vm._e()])])})],2),_c('div',{staticClass:\"pager\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"pager-count\":5,\"total\":_vm.total,\"prev-text\":\"上一页\",\"next-text\":\"下一页\",\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"hide-on-single-page\":\"\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handlePageSizeChange,\"current-change\":_vm.handleCurrentPageChange}})],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"box\" v-loading=\"loading\">\r\n\t\t<div class=\"null-page\" v-show=\"yes\"></div>\r\n\t\t\r\n\t\t<el-card class=\"box-card\">\r\n\t\t\t<div slot=\"header\" class=\"clearfix\">\r\n\t\t\t\t<span>收货地址</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<div class=\"ns-member-address-list\">\r\n\t\t\t\t\t<div class=\"text item ns-add-address\" @click=\"addAddress('add')\">\r\n\t\t\t\t\t\t<span>+ 添加收货地址</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"text item\" v-for=\"(item, index) in addressList\" :key=\"index\">\r\n\t\t\t\t\t\t<div class=\"text-name\">\r\n\t\t\t\t\t\t\t<span>{{ item.name }}</span>\r\n\t\t\t\t\t\t\t<span v-if=\"item.is_default == 1\" class=\"text-default\">默认</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"text-content\">\r\n\t\t\t\t\t\t\t<p>{{ item.mobile }}</p>\r\n\t\t\t\t\t\t\t<p :title=\"item.full_address + item.address\" class=\"ns-address-detail\">{{ item.full_address }}{{ item.address }}</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"text-operation\">\r\n\t\t\t\t\t\t\t<span v-if=\"item.is_default != 1\" @click=\"setDefault(item.id)\">设为默认</span>\r\n\t\t\t\t\t\t\t<span @click=\"addAddress('edit', item.id)\">编辑</span>\r\n\t\t\t\t\t\t\t<span v-if=\"item.is_default != 1\" @click=\"delAddress(item.id, item.is_default)\">删除</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"pager\">\r\n\t\t\t\t\t<el-pagination \r\n\t\t\t\t\t\tbackground \r\n\t\t\t\t\t\t:pager-count=\"5\" \r\n\t\t\t\t\t\t:total=\"total\" \r\n\t\t\t\t\t\tprev-text=\"上一页\" \r\n\t\t\t\t\t\tnext-text=\"下一页\" \r\n\t\t\t\t\t\t:current-page.sync=\"currentPage\" \r\n\t\t\t\t\t\t:page-size.sync=\"pageSize\" \r\n\t\t\t\t\t\t@size-change=\"handlePageSizeChange\" \r\n\t\t\t\t\t\t@current-change=\"handleCurrentPageChange\" \r\n\t\t\t\t\t\thide-on-single-page\r\n\t\t\t\t\t></el-pagination>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n    import { addressList, setDefault, deleteAddress } from \"@/api/member/member\"\r\n\r\n    export default {\r\n        name: \"delivery_address\",\r\n        components: {},\r\n        data: () => {\r\n            return {\r\n                addressList: [],\r\n                total: 0,\r\n                currentPage: 1,\r\n                pageSize: 8,\r\n                loading: true,\r\n\t\t\t\tyes: true\r\n            }\r\n        },\r\n        created() {\r\n            this.getListData()\r\n        },\r\n\t\tmounted() {\r\n\t\t\tlet self = this;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.yes = false\r\n\t\t\t}, 300)\r\n\t\t},\r\n        methods: {\r\n            getListData() {\r\n                addressList({\r\n                    page: this.currentPage,\r\n                    page_size: this.pageSize\r\n                })\r\n                    .then(res => {\r\n                        const { count, page_count, list } = res.data\r\n                        this.total = count\r\n                        this.addressList = list\r\n                        this.loading = false\r\n                    })\r\n                    .catch(err => {\r\n                        this.loading = false\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n            handlePageSizeChange(size) {\r\n                this.pageSize = size\r\n                this.refresh()\r\n            },\r\n            handleCurrentPageChange(page) {\r\n                this.currentPage = page\r\n                this.refresh()\r\n            },\r\n            refresh() {\r\n                this.loading = true\r\n                this.getListData()\r\n            },\r\n            /**\r\n             * 设为默认\r\n             */\r\n            setDefault(id) {\r\n                setDefault({\r\n                    id: id\r\n                })\r\n                    .then(res => {\r\n                        this.refresh()\r\n                        this.$message({\r\n                            message: \"修改默认地址成功\",\r\n                            type: \"success\"\r\n                        })\r\n                    })\r\n                    .catch(err => {\r\n                        this.$message.error(err.message)\r\n                    })\r\n            },\r\n\r\n            /**\r\n             * 添加/编辑地址\r\n             */\r\n            addAddress(type, id) {\r\n                if (type == \"edit\") {\r\n                    this.$router.push({ path: \"/member/address_edit\", query: { id: id } })\r\n                } else {\r\n                    this.$router.push({ path: \"/member/address_edit\" })\r\n                }\r\n            },\r\n\r\n            /**\r\n             * 删除地址\r\n             */\r\n            delAddress(id, is_default) {\r\n                this.$confirm(\"确定要删除该地址吗?\", \"提示\", {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    type: \"warning\"\r\n                }).then(() => {\r\n                    if (is_default == 1) {\r\n                        this.$message({\r\n                            type: \"warning\",\r\n                            message: \"默认地址，不能删除!\"\r\n                        })\r\n                        return\r\n                    }\r\n\r\n                    deleteAddress({\r\n                        id: id\r\n                    })\r\n                        .then(res => {\r\n                            this.refresh()\r\n                            this.$message({ message: res.message, type: \"success\" })\r\n                        })\r\n                        .catch(err => {\r\n                            this.$message.error(err.message)\r\n                        })\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.null-page {\r\n\t\twidth: 100%;\r\n\t\theight: 730px;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 9;\r\n\t}\r\n\t\r\n    .el-card.is-always-shadow,\r\n    .el-card.is-hover-shadow:focus,\r\n    .el-card.is-hover-shadow:hover {\r\n        box-shadow: unset;\r\n    }\r\n\r\n    .el-card {\r\n        border: 0;\r\n    }\r\n\r\n    .ns-member-address-list {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n\r\n        .text {\r\n            width: 32%;\r\n            height: 140px;\r\n            margin-right: 2%;\r\n            border-radius: 5px;\r\n            border: 1px solid #d8d8d8;\r\n            margin-bottom: 20px;\r\n            padding: 0 15px;\r\n            box-sizing: border-box;\r\n\r\n            .text-name {\r\n                height: 37px;\r\n                line-height: 40px;\r\n                padding: 0 10px;\r\n                border-bottom: 1px solid #eeeeee;\r\n            }\r\n\r\n            .text-default {\r\n                display: inline-block;\r\n                margin-left: 10px;\r\n                background: $base-color;\r\n                color: #ffffff;\r\n                width: 35px;\r\n                height: 20px;\r\n                line-height: 20px;\r\n                text-align: center;\r\n                border-radius: 3px;\r\n            }\r\n\r\n            .text-content {\r\n                padding: 10px;\r\n            }\r\n\r\n            .ns-address-detail {\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                white-space: nowrap;\r\n            }\r\n\r\n            .text-operation {\r\n                // 操作\r\n                text-align: right;\r\n\r\n                span {\r\n                    margin: 0 5px;\r\n                    color: #999999;\r\n                    cursor: pointer;\r\n                }\r\n\r\n                span:hover {\r\n                    color: $base-color;\r\n                }\r\n            }\r\n        }\r\n\r\n        .text:nth-child(3n) {\r\n            margin-right: 0;\r\n        }\r\n\r\n        .ns-add-address {\r\n            border: 1px dashed #d8d8d8;\r\n            text-align: center;\r\n            color: #999999;\r\n            line-height: 140px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        .ns-add-address:hover {\r\n            border-color: $base-color;\r\n            color: $base-color;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delivery_address.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./delivery_address.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./delivery_address.vue?vue&type=template&id=0a3c93e0&scoped=true\"\nimport script from \"./delivery_address.vue?vue&type=script&lang=js\"\nexport * from \"./delivery_address.vue?vue&type=script&lang=js\"\nimport style0 from \"./delivery_address.vue?vue&type=style&index=0&id=0a3c93e0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a3c93e0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}