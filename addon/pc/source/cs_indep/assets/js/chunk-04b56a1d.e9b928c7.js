(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04b56a1d"],{"13f7":function(e,s,t){"use strict";t("7fef")},"7fef":function(e,s,t){},fa4b:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e._self._c;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.yes,expression:"yes"}],staticClass:"null-page"}),s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("收货地址")])]),s("div",[s("div",{staticClass:"ns-member-address-list"},[s("div",{staticClass:"text item ns-add-address",on:{click:function(s){return e.addAddress("add")}}},[s("span",[e._v("+ 添加收货地址")])]),e._l(e.addressList,(function(t,a){return s("div",{key:a,staticClass:"text item"},[s("div",{staticClass:"text-name"},[s("span",[e._v(e._s(t.name))]),1==t.is_default?s("span",{staticClass:"text-default"},[e._v("默认")]):e._e()]),s("div",{staticClass:"text-content"},[s("p",[e._v(e._s(t.mobile))]),s("p",{staticClass:"ns-address-detail",attrs:{title:t.full_address+t.address}},[e._v(e._s(t.full_address)+e._s(t.address))])]),s("div",{staticClass:"text-operation"},[1!=t.is_default?s("span",{on:{click:function(s){return e.setDefault(t.id)}}},[e._v("设为默认")]):e._e(),s("span",{on:{click:function(s){return e.addAddress("edit",t.id)}}},[e._v("编辑")]),1!=t.is_default?s("span",{on:{click:function(s){return e.delAddress(t.id,t.is_default)}}},[e._v("删除")]):e._e()])])}))],2),s("div",{staticClass:"pager"},[s("el-pagination",{attrs:{background:"","pager-count":5,total:e.total,"prev-text":"上一页","next-text":"下一页","current-page":e.currentPage,"page-size":e.pageSize,"hide-on-single-page":""},on:{"update:currentPage":function(s){e.currentPage=s},"update:current-page":function(s){e.currentPage=s},"update:pageSize":function(s){e.pageSize=s},"update:page-size":function(s){e.pageSize=s},"size-change":e.handlePageSizeChange,"current-change":e.handleCurrentPageChange}})],1)])])],1)},i=[],n=(t("14d9"),t("69f9")),r={name:"delivery_address",components:{},data:()=>({addressList:[],total:0,currentPage:1,pageSize:8,loading:!0,yes:!0}),created(){this.getListData()},mounted(){let e=this;setTimeout((function(){e.yes=!1}),300)},methods:{getListData(){Object(n["e"])({page:this.currentPage,page_size:this.pageSize}).then(e=>{const{count:s,page_count:t,list:a}=e.data;this.total=s,this.addressList=a,this.loading=!1}).catch(e=>{this.loading=!1,this.$message.error(e.message)})},handlePageSizeChange(e){this.pageSize=e,this.refresh()},handleCurrentPageChange(e){this.currentPage=e,this.refresh()},refresh(){this.loading=!0,this.getListData()},setDefault(e){Object(n["n"])({id:e}).then(e=>{this.refresh(),this.$message({message:"修改默认地址成功",type:"success"})}).catch(e=>{this.$message.error(e.message)})},addAddress(e,s){"edit"==e?this.$router.push({path:"/member/address_edit",query:{id:s}}):this.$router.push({path:"/member/address_edit"})},delAddress(e,s){this.$confirm("确定要删除该地址吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{1!=s?Object(n["i"])({id:e}).then(e=>{this.refresh(),this.$message({message:e.message,type:"success"})}).catch(e=>{this.$message.error(e.message)}):this.$message({type:"warning",message:"默认地址，不能删除!"})})}}},d=r,c=(t("13f7"),t("2877")),l=Object(c["a"])(d,a,i,!1,null,"0a3c93e0",null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-04b56a1d.e9b928c7.js.map