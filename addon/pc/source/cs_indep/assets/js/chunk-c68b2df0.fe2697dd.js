(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c68b2df0"],{"30bc":function(e,t,r){},"764f":function(e,t,r){"use strict";r("30bc")},c984:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.yes,expression:"yes"}],staticClass:"null-page"}),t("el-card",{staticClass:"box-card order-list"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("退款/售后")])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("nav",[t("li",[e._v("商品信息")]),t("li",[e._v("退款金额")]),t("li",[e._v("退款类型")]),t("li",[e._v("退款状态")]),t("li",[e._v("操作")])]),e.refundList.length>0?t("div",{staticClass:"list"},e._l(e.refundList,(function(r,n){return t("div",{key:n,staticClass:"item"},[t("div",{staticClass:"head"},[t("span",{staticClass:"create-time"},[e._v(e._s(e.$util.timeStampTurnTime(r.refund_action_time)))]),t("span",{staticClass:"order-no"},[e._v("退款编号："+e._s(r.refund_no))]),t("router-link",{attrs:{to:"/shop-"+r.site_id,target:"_blank"}},[e._v(e._s(r.site_name))]),t("span",{staticClass:"order-type"},[e._v(e._s(3==r.refund_status?"退款成功":"退款中"))])],1),t("ul",[t("li",[t("div",{staticClass:"img-wrap",on:{click:function(t){return e.$router.pushToTab("/sku-"+r.sku_id)}}},[t("img",{attrs:{src:e.$img(r.sku_image,{size:"mid"})},on:{error:function(t){return e.imageError(n)}}})]),t("div",{staticClass:"info-wrap"},[t("h5",{on:{click:function(t){return e.$router.pushToTab("/sku-"+r.sku_id)}}},[e._v(e._s(r.sku_name))])])]),t("li",[t("span",[e._v("￥"+e._s(r.refund_apply_money))])]),t("li",[t("span",[e._v(e._s(1==r.refund_type?"退款":"退货"))])]),t("li",[t("span",{staticClass:"ns-text-color"},[e._v(e._s(r.refund_status_name))]),t("el-link",{attrs:{underline:!1},on:{click:function(t){return e.orderDetail(r)}}},[e._v("退款详情")])],1),t("li",[r.refund_action.length>0?e._l(r.refund_action,(function(n,a){return t("el-button",{key:a,attrs:{type:"primary",size:"mini",plain:!0},on:{click:function(t){return e.operation(n.event,r)}}},[e._v(" "+e._s(n.title)+" ")])})):e._e()],2)])])})),0):e.loading||0!=e.refundList.length?e._e():t("div",{staticClass:"empty-wrap"},[e._v("暂无相关订单")])]),t("div",{staticClass:"pager"},[t("el-pagination",{attrs:{background:"","pager-count":5,total:e.total,"prev-text":"上一页","next-text":"下一页","current-page":e.currentPage,"page-size":e.pageSize,"hide-on-single-page":""},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handlePageSizeChange,"current-change":e.handleCurrentPageChange}})],1)])],1)},a=[],i=(r("14d9"),r("2f62")),s=r("e585"),o={name:"activist",components:{},data:()=>({orderStatus:"all",loading:!0,refundList:[],currentPage:1,pageSize:10,total:0,yes:!0}),created(){this.orderStatus=this.$route.query.status||"all",this.getrefundList()},computed:{...Object(i["b"])(["defaultGoodsImage"])},mounted(){let e=this;setTimeout((function(){e.yes=!1}),300)},methods:{handleClick(e,t){this.currentPage=1,this.orderStatus=e.name,this.refresh()},getrefundList(){Object(s["i"])({page:this.currentPage,page_size:this.pageSize}).then(e=>{let t=[];0==e.code&&e.data&&(t=e.data.list,this.total=e.data.count),this.refundList=t,this.loading=!1}).catch(e=>{this.loading=!1})},handlePageSizeChange(e){this.pageSize=e,this.refresh()},handleCurrentPageChange(e){this.currentPage=e,this.refresh()},refresh(){this.loading=!0,this.getrefundList()},operation(e,t){switch(e){case"orderRefundCancel":this.cancleRefund(t.order_goods_id);break;case"orderRefundDelivery":this.$router.push({path:"/member/refund_detail",query:{order_goods_id:t.order_goods_id,action:"returngoods"}});break;case"orderRefundAsk":this.$router.push({path:"/member/refund?order_goods_id="+t.order_goods_id});break}},orderDetail(e){this.$router.push({path:"/member/refund_detail",query:{order_goods_id:e.order_goods_id}})},imageError(e){this.refundList[e].sku_image=this.defaultGoodsImage},cancleRefund(e){this.$confirm("撤销之后本次申请将会关闭,如后续仍有问题可再次发起申请","提示",{confirmButtonText:"确认撤销",cancelButtonText:"暂不撤销",type:"warning"}).then(()=>{this.isSub||(this.isSub=!0,Object(s["a"])({order_goods_id:e}).then(e=>{const{code:t,message:r,data:n}=e;t>=0?(this.$message({message:"撤销成功",type:"success"}),this.getrefundList()):this.$message({message:r,type:"warning"})}).catch(e=>{this.$message.error(e.message)}))}).catch(()=>{})}}},u=o,d=(r("764f"),r("2877")),c=Object(d["a"])(u,n,a,!1,null,"26b6ff2f",null);t["default"]=c.exports},e585:function(e,t,r){"use strict";r.d(t,"h",(function(){return a})),r.d(t,"g",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"i",(function(){return f}));var n=r("751a");function a(e){return Object(n["a"])({url:"/api/orderrefund/refundData",data:e,forceLogin:!0})}function i(e){return Object(n["a"])({url:"/api/orderrefund/refund",data:e,forceLogin:!0})}function s(e){return Object(n["a"])({url:"/api/orderrefund/detail",data:e,forceLogin:!0})}function o(e){return Object(n["a"])({url:"/api/orderrefund/delivery",data:e,forceLogin:!0})}function u(e){return Object(n["a"])({url:"/api/orderrefund/cancel",data:e,forceLogin:!0})}function d(e){return Object(n["a"])({url:"/api/ordercomplain/detail",data:e,forceLogin:!0})}function c(e){return Object(n["a"])({url:"/api/ordercomplain/complain",data:e,forceLogin:!0})}function l(e){return Object(n["a"])({url:"/api/ordercomplain/cancel",data:e,forceLogin:!0})}function f(e){return Object(n["a"])({url:"/api/orderrefund/lists",data:e,forceLogin:!0})}}}]);
//# sourceMappingURL=chunk-c68b2df0.fe2697dd.js.map