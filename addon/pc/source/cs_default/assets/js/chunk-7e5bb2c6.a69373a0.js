(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e5bb2c6"],{"08fb":function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a._self._c;return t("div",{staticClass:"box"},[t("div",{directives:[{name:"show",rawName:"v-show",value:a.yes,expression:"yes"}],staticClass:"null-page"}),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[a._v("编辑账户")])]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}]},[t("el-form",{ref:"ruleForm",attrs:{model:a.formData,rules:a.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"姓名",prop:"realname"}},[t("el-input",{staticClass:"ns-len-input",attrs:{placeholder:"请输入真实姓名"},model:{value:a.formData.realname,callback:function(t){a.$set(a.formData,"realname",t)},expression:"formData.realname"}})],1),t("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[t("el-input",{staticClass:"ns-len-input",attrs:{autocomplete:"off",placeholder:"请输入手机号",maxlength:"11"},model:{value:a.formData.mobile,callback:function(t){a.$set(a.formData,"mobile",t)},expression:"formData.mobile"}})],1),t("el-form-item",{attrs:{label:"账号类型",prop:"withdraw_type"}},[t("el-select",{attrs:{placeholder:"请选择账号类型"},model:{value:a.formData.withdraw_type,callback:function(t){a.$set(a.formData,"withdraw_type",t)},expression:"formData.withdraw_type"}},a._l(a.transferType,(function(a,e){return t("el-option",{key:e,attrs:{label:a,value:e,disabled:"wechatpay"==e}})})),1)],1),"bank"==a.formData.withdraw_type?t("el-form-item",{attrs:{label:"银行名称",prop:"branch_bank_name"}},[t("el-input",{staticClass:"ns-len-input",attrs:{autocomplete:"off",placeholder:"请输入银行名称",maxlength:"50"},model:{value:a.formData.branch_bank_name,callback:function(t){a.$set(a.formData,"branch_bank_name",t)},expression:"formData.branch_bank_name"}})],1):a._e(),"wechatpay"!=a.formData.withdraw_type&&a.formData.withdraw_type?t("el-form-item",{attrs:{label:"提现账号",prop:"bank_account"}},[t("el-input",{staticClass:"ns-len-input",attrs:{autocomplete:"off",placeholder:"请输入提现账号",maxlength:"30"},model:{value:a.formData.bank_account,callback:function(t){a.$set(a.formData,"bank_account",t)},expression:"formData.bank_account"}})],1):a._e(),t("el-form-item",[t("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return a.saveAccount("ruleForm")}}},[a._v("保存")])],1)],1)],1)])],1)},n=[],i=(e("d9e2"),e("14d9"),e("69f9")),s={name:"account_edit",components:{},data(){var a=(a,t,e)=>{if(!t)return e(new Error("手机号不能为空"));{const a=/^1[3|4|5|6|7|8|9][0-9]{9}$/;a.test(t)?e():e(new Error("请输入正确的手机号"))}};return{formData:{id:"",realname:"",mobile:"",withdraw_type:"",bank_account:"",branch_bank_name:""},flag:!1,payList:[],loading:!0,index:0,transferType:[],rules:{realname:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],mobile:[{required:!0,validator:a,trigger:"blur"}],withdraw_type:[{required:!0,message:"请选择账号类型",trigger:"change"}],branch_bank_name:[{required:!0,message:"请输入银行名称",trigger:"blur"}],bank_account:[{required:!0,message:"请输入提现账号",trigger:"blur"}]},yes:!0}},created(){this.formData.id=this.$route.query.id,this.getTransferType(),this.formData.id&&this.getAccountDetail(this.formData.id)},mounted(){let a=this;setTimeout((function(){a.yes=!1}),300)},methods:{getTransferType(){Object(i["o"])().then(a=>{this.transferType=a.data,this.formData.id||(this.loading=!1)}).catch(a=>{this.formData.id||(this.loading=!1)})},getAccountDetail(a){Object(i["b"])({id:this.formData.id}).then(a=>{0==a.code&&a.data&&(this.formData.realname=a.data.realname,this.formData.mobile=a.data.mobile,this.formData.bank_account=a.data.bank_account,this.formData.branch_bank_name=a.data.branch_bank_name,this.formData.withdraw_type=a.data.withdraw_type),this.loading=!1}).catch(a=>{this.loading=!1})},saveAccount(a){this.$refs[a].validate(a=>{if(!a)return!1;var t={id:this.formData.id,realname:this.formData.realname,mobile:this.formData.mobile,withdraw_type:this.formData.withdraw_type,bank_account:this.formData.bank_account,branch_bank_name:this.formData.branch_bank_name,url:"add"};this.formData.id&&(t.url="edit"),this.flag||(this.flag=!0,Object(i["l"])(t).then(a=>{0==a.code?this.$router.push({path:"/member/account_list"}):(this.flag=!1,this.$message({message:a.message,type:"warning"}))}).catch(a=>{this.flag=!1,this.$message.error(a.message)}))})}}},o=s,l=(e("5a36"),e("2877")),m=Object(l["a"])(o,r,n,!1,null,"4cf6f3ba",null);t["default"]=m.exports},"5a36":function(a,t,e){"use strict";e("62d8")},"62d8":function(a,t,e){}}]);
//# sourceMappingURL=chunk-7e5bb2c6.a69373a0.js.map