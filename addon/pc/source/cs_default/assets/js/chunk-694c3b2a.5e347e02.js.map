{"version":3,"sources":["webpack:///./src/views/goods/cart/index.vue","webpack:///./src/views/goods/cart/cart.js","webpack:///src/views/goods/cart/index.vue","webpack:///./src/views/goods/cart/index.vue?902c","webpack:///./src/views/goods/cart/index.vue?20fd","webpack:///./src/views/goods/cart/index.vue?6e16"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","staticClass","cartList","length","invalidGoods","on","allElection","model","checkAll","callback","$$v","_v","_l","siteItem","siteIndex","key","$event","siteAllElection","checked","$set","attrs","_s","siteName","is_own","_e","item","cartIndex","singleElection","$router","pushToTab","path","sku_id","$img","sku_image","size","imageError","sku_name","sku_spec_format","x","i","spec_name","spec_value_name","discount_price","modifyNum","stock","cartNumChange","num","toFixed","deleteCart","goodsItem","goodsIndex","imageErrorInvalid","deleteCartSelected","clearInvalidGoods","totalCount","totalPrice","settlement","staticRenderFns","data","created","getCartList","computed","mapGetters","methods","then","res","code","handleCartList","catch","temp","forEach","index","goods_state","verify_state","undefined","site_id","push","siteId","site_name","v","JSON","parse","console","log","Object","keys","calculationTotalPrice","k","siteAllElectionCount","siteGoodsCount","$confirm","confirmButtonText","cancelButtonText","type","$store","dispatch","cart_id","toString","splice","$message","message","err","error","cartIds","selectedItem","cartId","params","cart_ids","defaultGoodsImage","mixins","cart","component"],"mappings":"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","file":"assets/js/chunk-694c3b2a.5e347e02.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"cart\"},[(_vm.cartList.length || _vm.invalidGoods.length)?[_c('nav',[_c('li',[_c('el-checkbox',{on:{\"change\":_vm.allElection},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}})],1),_c('li',[_vm._v(\"商品信息\")]),_c('li',[_vm._v(\"价格\")]),_c('li',[_vm._v(\"数量\")]),_c('li',[_vm._v(\"小计\")]),_c('li',[_vm._v(\"操作\")])]),_vm._l((_vm.cartList),function(siteItem,siteIndex){return _c('div',{key:siteIndex,staticClass:\"list\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"head\"},[_c('el-checkbox',{on:{\"change\":function($event){return _vm.siteAllElection(siteIndex)}},model:{value:(siteItem.checked),callback:function ($$v) {_vm.$set(siteItem, \"checked\", $$v)},expression:\"siteItem.checked\"}}),_c('router-link',{attrs:{\"to\":\"/shop\",\"target\":\"_blank\"}},[_vm._v(_vm._s(siteItem.siteName))]),(siteItem.cartList[0].is_own == 1)?_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(\"自营\")]):_vm._e()],1),_vm._l((siteItem.cartList),function(item,cartIndex){return _c('ul',{key:cartIndex},[_c('li',[_c('el-checkbox',{on:{\"change\":function($event){return _vm.singleElection(siteIndex, cartIndex)}},model:{value:(item.checked),callback:function ($$v) {_vm.$set(item, \"checked\", $$v)},expression:\"item.checked\"}})],1),_c('li',{staticClass:\"goods-info-wrap\",on:{\"click\":function($event){return _vm.$router.pushToTab({ path: '/sku-' + item.sku_id })}}},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.$img(item.sku_image, { size: 'mid' })},on:{\"error\":function($event){return _vm.imageError(siteIndex, cartIndex)}}})]),_c('div',{staticClass:\"info-wrap\"},[_c('h5',[_vm._v(_vm._s(item.sku_name))]),(item.sku_spec_format)?_vm._l((item.sku_spec_format),function(x,i){return _c('span',{key:i},[_vm._v(\" \"+_vm._s(x.spec_name)+\"：\"+_vm._s(x.spec_value_name)+\" \"+_vm._s(i < item.sku_spec_format.length - 1 ? '；' : '')+\" \")])}):_vm._e()],2)]),_c('li',[_c('span',[_vm._v(\"￥\"+_vm._s(item.discount_price))])]),_c('li',[_c('el-input-number',{attrs:{\"step\":_vm.modifyNum,\"size\":\"mini\",\"min\":1,\"max\":item.stock},on:{\"change\":function($event){return _vm.cartNumChange($event, { siteIndex, cartIndex })}},model:{value:(item.num),callback:function ($$v) {_vm.$set(item, \"num\", $$v)},expression:\"item.num\"}})],1),_c('li',[(item.discount_price * item.num)?_c('strong',{staticClass:\"subtotal ns-text-color\"},[_vm._v(\"￥\"+_vm._s((item.discount_price * item.num).toFixed(2)))]):_c('strong',{staticClass:\"subtotal ns-text-color\"},[_vm._v(\"￥0\")])]),_c('li',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteCart(siteIndex, cartIndex)}}},[_vm._v(\"删除\")])],1)])})],2)])}),(_vm.invalidGoods.length)?_c('div',{staticClass:\"lose-list\"},[_c('div',{staticClass:\"head\"},[_vm._v(\" 失效商品 \"),_c('span',{staticClass:\"ns-text-color\"},[_vm._v(_vm._s(_vm.invalidGoods.length))]),_vm._v(\" 件 \")]),_vm._l((_vm.invalidGoods),function(goodsItem,goodsIndex){return _c('ul',{key:goodsIndex},[_c('li',[_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\"失效\")])],1),_c('li',{staticClass:\"goods-info-wrap\"},[_c('div',{staticClass:\"img-wrap\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.$img(goodsItem.sku_image, { size: 'mid' })},on:{\"error\":function($event){return _vm.imageErrorInvalid(goodsIndex)}}})]),_c('div',{staticClass:\"info-wrap\"},[_c('h5',[_vm._v(_vm._s(goodsItem.sku_name))]),(goodsItem.sku_spec_format)?_vm._l((goodsItem.sku_spec_format),function(x,i){return _c('span',{key:i},[_vm._v(\" \"+_vm._s(x.spec_name)+\"：\"+_vm._s(x.spec_value_name)+\" \"+_vm._s(i < goodsItem.sku_spec_format.length - 1 ? '；' : '')+\" \")])}):_vm._e()],2)]),_c('li',[_c('span',[_vm._v(\"￥\"+_vm._s(goodsItem.discount_price))])]),_c('li',[_vm._v(_vm._s(goodsItem.num))]),_c('li',[_c('strong',{staticClass:\"subtotal\"},[_vm._v(\"￥\"+_vm._s(goodsItem.discount_price * goodsItem.num))])])])})],2):_vm._e(),_c('footer',[_c('el-checkbox',{on:{\"change\":_vm.allElection},model:{value:(_vm.checkAll),callback:function ($$v) {_vm.checkAll=$$v},expression:\"checkAll\"}},[_vm._v(\"全选\")]),_c('ul',{staticClass:\"operation\"},[_c('li',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.deleteCartSelected}},[_vm._v(\"删除\")])],1),_c('li',[(_vm.invalidGoods.length!=0)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.clearInvalidGoods}},[_vm._v(\"清除失效宝贝\")]):_vm._e()],1)]),_c('div',{staticClass:\"sum-wrap\"},[_c('div',{staticClass:\"selected-sum\"},[_c('span',[_vm._v(\"已选商品\")]),_c('em',{staticClass:\"total-count\"},[_vm._v(_vm._s(_vm.totalCount))]),_c('span',[_vm._v(\"件\")])]),_c('div',{staticClass:\"price-wrap\"},[_c('span',[_vm._v(\"合计（不含运费）：\")]),_c('strong',{staticClass:\"ns-text-color\"},[_vm._v(\"￥\"+_vm._s(_vm.totalPrice))])]),(_vm.totalCount != 0)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.settlement}},[_vm._v(\"结算\")]):_c('el-button',{attrs:{\"type\":\"info\",\"disabled\":\"\"},on:{\"click\":_vm.settlement}},[_vm._v(\"结算\")])],1)],1)]:(!_vm.loading && (!_vm.cartList.length || !_vm.invalidGoods.length))?_c('div',{staticClass:\"empty-wrap\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"您的购物车是空的，赶快去逛逛，挑选商品吧！\")])],1):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\r\n\tmapGetters\r\n} from \"vuex\"\r\nimport {\r\n\tcartList\r\n} from \"@/api/goods/cart\"\r\nexport default {\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tcartList: [], // 购物车\r\n\t\t\tcheckAll: false,\r\n\t\t\ttotalPrice: \"0.00\",\r\n\t\t\ttotalCount: 0,\r\n\t\t\tinvalidGoods: [], // 失效商品集合\r\n\t\t\tloading: true,\r\n\t\t\tmodifyNum: 1, // 防止数量跳动\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.getCartList()\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\"defaultGoodsImage\"])\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取购物车数据\r\n\t\tgetCartList() {\r\n\t\t\tcartList({})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0 && res.data.length) {\r\n\t\t\t\t\t\tthis.handleCartList(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t\t\t.catch(res => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t// 处理购物车数据结构\r\n\t\thandleCartList(data) {\r\n\t\t\tthis.invalidGoods = []\r\n\t\t\tthis.cartList = []\r\n\t\t\tvar temp = {}\r\n\t\t\tdata.forEach((item, index) => {\r\n\t\t\t\tif (item.goods_state == 1 && item.verify_state == 1) {\r\n\t\t\t\t\titem.checked = true\r\n\t\t\t\t\tif (temp[\"site_\" + item.site_id] != undefined) {\r\n\t\t\t\t\t\ttemp[\"site_\" + item.site_id].cartList.push(item)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttemp[\"site_\" + item.site_id] = {\r\n\t\t\t\t\t\t\tsiteId: item.site_id,\r\n\t\t\t\t\t\t\tsiteName: item.site_name,\r\n\t\t\t\t\t\t\tchecked: true,\r\n\t\t\t\t\t\t\tcartList: [item]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.invalidGoods.push(item)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t\r\n\t\t\tthis.invalidGoods.forEach(v => {\r\n\t\t\t\tif (v.sku_spec_format) {\r\n\t\t\t\t\tv.sku_spec_format = JSON.parse(v.sku_spec_format)\r\n\t\t\t\t\tconsole.log(v.sku_spec_format)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tv.sku_spec_format = []\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tObject.keys(temp).forEach(key => {\r\n\t\t\t\tthis.cartList.push(temp[key])\r\n\t\t\t})\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t\tthis.cartList.forEach(v => {\r\n\t\t\t\tv.cartList.forEach(k => {\r\n\t\t\t\t\tif (k.sku_spec_format) {\r\n\t\t\t\t\t\tk.sku_spec_format = JSON.parse(k.sku_spec_format)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tk.sku_spec_format = []\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 单选\r\n\t\tsingleElection(siteIndex, index) {\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t},\r\n\t\t// 店铺全选\r\n\t\tsiteAllElection(index) {\r\n\t\t\tthis.cartList[index].cartList.forEach(item => {\r\n\t\t\t\titem.checked = this.cartList[index].checked\r\n\t\t\t})\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t},\r\n\t\t// 全选\r\n\t\tallElection() {\r\n\t\t\tif (this.cartList.length) {\r\n\t\t\t\tthis.cartList.forEach(siteItem => {\r\n\t\t\t\t\tsiteItem.checked = this.checkAll\r\n\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\titem.checked = this.checkAll\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.calculationTotalPrice()\r\n\t\t},\r\n\t\t// 计算购物车总价\r\n\t\tcalculationTotalPrice() {\r\n\t\t\tif (this.cartList.length) {\r\n\t\t\t\tlet totalPrice = 0,\r\n\t\t\t\t\ttotalCount = 0,\r\n\t\t\t\t\tsiteAllElectionCount = 0\r\n\r\n\t\t\t\tthis.cartList.forEach(siteItem => {\r\n\t\t\t\t\tlet siteGoodsCount = 0\r\n\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\tsiteGoodsCount += 1\r\n\t\t\t\t\t\t\ttotalCount += 1\r\n\t\t\t\t\t\t\ttotalPrice += item.discount_price * item.num\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (siteItem.cartList.length == siteGoodsCount) {\r\n\t\t\t\t\t\tsiteItem.checked = true\r\n\t\t\t\t\t\tsiteAllElectionCount += 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsiteItem.checked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.totalPrice = totalPrice.toFixed(2)\r\n\t\t\t\tthis.totalCount = totalCount\r\n\t\t\t\tthis.checkAll = this.cartList.length == siteAllElectionCount\r\n\t\t\t} else {\r\n\t\t\t\tthis.totalPrice = \"0.00\"\r\n\t\t\t\tthis.totalCount = 0\r\n\t\t\t}\r\n\t\t\tthis.modifyNum = 1;\r\n\t\t},\r\n\t\t// 删除单个\r\n\t\tdeleteCart(siteIndex, cartIndex) {\r\n\t\t\tthis.$confirm(\"确定要删除该商品吗？\", \"提示信息\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$store\r\n\t\t\t\t\t.dispatch(\"cart/delete_cart\", {\r\n\t\t\t\t\t\tcart_id: this.cartList[siteIndex].cartList[cartIndex].cart_id.toString()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\tthis.cartList[siteIndex].cartList.splice(cartIndex, 1)\r\n\t\t\t\t\t\t\tif (this.cartList[siteIndex].cartList.length == 0) this.cartList.splice(siteIndex, 1)\r\n\t\t\t\t\t\t\tthis.calculationTotalPrice()\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tmessage: \"删除成功\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.$message.error(err.message)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 删除选择的购物车\r\n\t\tdeleteCartSelected() {\r\n\t\t\tvar cartIds = []\r\n\t\t\tvar selectedItem = []\r\n\t\t\tthis.cartList.forEach((siteItem, siteIndex) => {\r\n\t\t\t\tsiteItem.cartList.forEach((item, cartIndex) => {\r\n\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\tcartIds.push(item.cart_id)\r\n\t\t\t\t\t\tselectedItem.push({\r\n\t\t\t\t\t\t\tsiteIndex: siteIndex,\r\n\t\t\t\t\t\t\tcartIndex: cartIndex,\r\n\t\t\t\t\t\t\tsiteId: siteItem.siteId,\r\n\t\t\t\t\t\t\tcartId: item.cart_id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tif (cartIds.length == 0) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: \"请选择要删除的商品\",\r\n\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.$confirm(\"确定要删除选择的商品吗？\", \"提示信息\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t}).then(() => {\r\n\t\t\t\tthis.$store\r\n\t\t\t\t\t.dispatch(\"cart/delete_cart\", {\r\n\t\t\t\t\t\tcart_id: cartIds.toString()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\tselectedItem.forEach(selectedItem => {\r\n\t\t\t\t\t\t\t\tthis.cartList.forEach((siteItem, siteIndex) => {\r\n\t\t\t\t\t\t\t\t\tsiteItem.cartList.forEach((item, cartIndex) => {\r\n\t\t\t\t\t\t\t\t\t\tif (selectedItem.cartId == item.cart_id) {\r\n\t\t\t\t\t\t\t\t\t\t\tsiteItem.cartList.splice(cartIndex, 1)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif (siteItem.cartList.length == 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.cartList.splice(siteIndex, 1)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.calculationTotalPrice()\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\tmessage: \"删除成功\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.$message.error(err.message)\r\n\t\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 清空失效商品\r\n\t\tclearInvalidGoods() {\r\n\t\t\tthis.$confirm(\"确认要清空这些商品吗？\", \"提示信息\", {\r\n\t\t\t\tconfirmButtonText: \"确定\",\r\n\t\t\t\tcancelButtonText: \"取消\",\r\n\t\t\t\ttype: \"warning\"\r\n\t\t\t}).then(() => {\r\n\t\t\t\tvar cartIds = []\r\n\t\t\t\tthis.invalidGoods.forEach(goodsItem => {\r\n\t\t\t\t\tcartIds.push(goodsItem.cart_id)\r\n\t\t\t\t})\r\n\t\t\t\tif (cartIds.length) {\r\n\t\t\t\t\tthis.$store\r\n\t\t\t\t\t\t.dispatch(\"cart/delete_cart\", {\r\n\t\t\t\t\t\t\tcart_id: cartIds.toString()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\t\t\tthis.invalidGoods = []\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: \"success\",\r\n\t\t\t\t\t\t\t\t\tmessage: \"删除成功\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\tthis.$message.error(err.message)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 变更购物车数量\r\n\t\tcartNumChange(num, params) {\r\n\t\t\tconsole.log(num)\r\n\t\t\tconsole.log(params)\r\n\t\t\tif (num < 1 || !num) num = 1;\r\n\t\t\t// 防止数量跳动\r\n\t\t\tthis.modifyNum = 0;\r\n\t\t\tthis.$store\r\n\t\t\t\t.dispatch(\"cart/edit_cart_num\", {\r\n\t\t\t\t\tnum,\r\n\t\t\t\t\tcart_id: this.cartList[params.siteIndex].cartList[params.cartIndex].cart_id\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.cartList[params.siteIndex].cartList[params.cartIndex].num = num;\r\n\t\t\t\t\t\tthis.calculationTotalPrice();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: res.message,\r\n\t\t\t\t\t\t\ttype: \"warning\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.modifyNum = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.$message.error(err.message);\r\n\t\t\t\t\tthis.modifyNum = 1;\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t// 结算\r\n\t\tsettlement() {\r\n\t\t\tif (this.totalCount > 0) {\r\n\t\t\t\tlet cart_ids = []\r\n\t\t\t\tthis.cartList.forEach(siteItem => {\r\n\t\t\t\t\tsiteItem.cartList.forEach(item => {\r\n\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\tcart_ids.push(item.cart_id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tcart_ids: cart_ids.toString()\r\n\t\t\t\t}\r\n\t\t\t\tthis.$store.dispatch(\"order/setOrderCreateData\", data)\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: \"/payment\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\timageError(siteIndex, cartIndex) {\r\n\t\t\tthis.cartList[siteIndex].cartList[cartIndex].sku_image = this.defaultGoodsImage\r\n\t\t},\r\n\t\timageErrorInvalid(index) {\r\n\t\t\tthis.invalidGoods[index].sku_image = this.defaultGoodsImage\r\n\t\t}\r\n\t}\r\n}\r\n","<template>\r\n\t<div class=\"cart\" v-loading=\"loading\">\r\n\t\t<template v-if=\"cartList.length || invalidGoods.length\">\r\n\t\t\t<nav>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<el-checkbox v-model=\"checkAll\" @change=\"allElection\"></el-checkbox>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>商品信息</li>\r\n\t\t\t\t<li>价格</li>\r\n\t\t\t\t<li>数量</li>\r\n\t\t\t\t<li>小计</li>\r\n\t\t\t\t<li>操作</li>\r\n\t\t\t</nav>\r\n\t\t\t<div class=\"list\" v-for=\"(siteItem, siteIndex) in cartList\" :key=\"siteIndex\">\r\n\t\t\t\t<div class=\"item\">\r\n\t\t\t\t\t<div class=\"head\">\r\n\t\t\t\t\t\t<el-checkbox v-model=\"siteItem.checked\" @change=\"siteAllElection(siteIndex)\"></el-checkbox>\r\n\t\t\t\t\t\t<router-link to=\"/shop\" target=\"_blank\">{{ siteItem.siteName }}</router-link>\r\n\t\t\t\t\t\t<el-tag size=\"small\" v-if=\"siteItem.cartList[0].is_own == 1\">自营</el-tag>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul v-for=\"(item, cartIndex) in siteItem.cartList\" :key=\"cartIndex\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<el-checkbox v-model=\"item.checked\" @change=\"singleElection(siteIndex, cartIndex)\"></el-checkbox>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li class=\"goods-info-wrap\" @click=\"$router.pushToTab({ path: '/sku-' + item.sku_id })\">\r\n\t\t\t\t\t\t\t<div class=\"img-wrap\"><img class=\"img-thumbnail\" :src=\"$img(item.sku_image, { size: 'mid' })\" @error=\"imageError(siteIndex, cartIndex)\" /></div>\r\n\t\t\t\t\t\t\t<div class=\"info-wrap\">\r\n\t\t\t\t\t\t\t\t<h5>{{ item.sku_name }}</h5>\r\n\t\t\t\t\t\t\t\t<template v-if=\"item.sku_spec_format\">\r\n\t\t\t\t\t\t\t\t\t<span v-for=\"(x, i) in item.sku_spec_format\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t\t\t{{ x.spec_name }}：{{ x.spec_value_name }} {{ i < item.sku_spec_format.length - 1 ? '；' : '' }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<span>￥{{ item.discount_price }}</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<el-input-number v-model=\"item.num\" :step=\"modifyNum\" size=\"mini\" :min=\"1\" :max=\"item.stock\" @change=\"cartNumChange($event, { siteIndex, cartIndex })\"></el-input-number>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<strong class=\"subtotal ns-text-color\" v-if=\"item.discount_price * item.num\">￥{{(item.discount_price * item.num).toFixed(2)  }}</strong>\r\n\t\t\t\t\t\t\t<strong class=\"subtotal ns-text-color\" v-else>￥0</strong>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<el-button type=\"text\" @click=\"deleteCart(siteIndex, cartIndex)\">删除</el-button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"lose-list\" v-if=\"invalidGoods.length\">\r\n\t\t\t\t<div class=\"head\">\r\n\t\t\t\t\t失效商品\r\n\t\t\t\t\t<span class=\"ns-text-color\">{{ invalidGoods.length }}</span>\r\n\t\t\t\t\t件\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul v-for=\"(goodsItem, goodsIndex) in invalidGoods\" :key=\"goodsIndex\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<el-tag size=\"small\" type=\"info\">失效</el-tag>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"goods-info-wrap\">\r\n\t\t\t\t\t\t<div class=\"img-wrap\"><img class=\"img-thumbnail\" :src=\"$img(goodsItem.sku_image, { size: 'mid' })\" @error=\"imageErrorInvalid(goodsIndex)\" /></div>\r\n\t\t\t\t\t\t<div class=\"info-wrap\">\r\n\t\t\t\t\t\t\t<h5>{{ goodsItem.sku_name }}</h5>\r\n\t\t\t\t\t\t\t<template v-if=\"goodsItem.sku_spec_format\">\r\n\t\t\t\t\t\t\t\t<span v-for=\"(x, i) in goodsItem.sku_spec_format\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t\t{{ x.spec_name }}：{{ x.spec_value_name }} {{ i < goodsItem.sku_spec_format.length - 1 ? '；' : '' }}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<span>￥{{ goodsItem.discount_price }}</span>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>{{ goodsItem.num }}</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<strong class=\"subtotal\">￥{{ goodsItem.discount_price * goodsItem.num }}</strong>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t\t<footer>\r\n\t\t\t\t<el-checkbox v-model=\"checkAll\" @change=\"allElection\">全选</el-checkbox>\r\n\t\t\t\t<ul class=\"operation\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<el-button type=\"text\" @click=\"deleteCartSelected\">删除</el-button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<el-button type=\"text\" @click=\"clearInvalidGoods\" v-if=\"invalidGoods.length!=0\">清除失效宝贝</el-button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<div class=\"sum-wrap\">\r\n\t\t\t\t\t<div class=\"selected-sum\">\r\n\t\t\t\t\t\t<span>已选商品</span>\r\n\t\t\t\t\t\t<em class=\"total-count\">{{ totalCount }}</em>\r\n\t\t\t\t\t\t<span>件</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"price-wrap\">\r\n\t\t\t\t\t\t<span>合计（不含运费）：</span>\r\n\t\t\t\t\t\t<strong class=\"ns-text-color\">￥{{ totalPrice }}</strong>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<el-button type=\"primary\" v-if=\"totalCount != 0\" @click=\"settlement\">结算</el-button>\r\n\t\t\t\t\t<el-button type=\"info\" v-else disabled @click=\"settlement\">结算</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t</footer>\r\n\t\t</template>\r\n\t\t<div class=\"empty-wrap\" v-else-if=\"!loading && (!cartList.length || !invalidGoods.length)\">\r\n\t\t\t<router-link to=\"/\">您的购物车是空的，赶快去逛逛，挑选商品吧！</router-link>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport cart from './cart';\r\n\texport default {\r\n\t\tname: 'cart',\r\n\t\tmixins: [cart]\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t@import './cart.scss';\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5505dd14&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5505dd14&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5505dd14\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--9-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5505dd14&prod&lang=scss&scoped=true\""],"sourceRoot":""}