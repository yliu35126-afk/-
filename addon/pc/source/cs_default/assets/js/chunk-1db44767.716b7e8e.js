(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1db44767"],{5868:function(e,t,r){},6554:function(e,t,r){"use strict";r("14d9");var i=r("dea0");t["a"]={methods:{orderPay(e){0==e.adjust_money?Object(i["e"])({order_ids:e.order_id}).then(e=>{e.code>=0?this.$router.push({path:"/pay",query:{code:e.data}}):this.$message({message:e.message,type:"warning"})}):this.$confirm("商家已将支付金额调整为"+e.pay_money+"元，是否继续支付？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(i["e"])({order_ids:e.order_id}).then(e=>{e.code>=0?this.$router.push({path:"/pay",query:{code:e.data}}):this.$message({message:e.message,type:"warning"})})})},orderClose(e,t){this.$confirm("您确定要关闭该订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(i["a"])({order_id:e}).then(e=>{this.$message({message:"订单关闭成功",type:"success"}),"function"==typeof t&&t()})})},orderDelivery(e,t){this.$confirm("您确定已经收到货物了吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(i["f"])({order_id:e}).then(e=>{this.$message({message:"订单收货成功",type:"success"}),"function"==typeof t&&t()})})},orderExtendDelivery(e,t){this.$confirm("您确定延长收货时间吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(i["g"])({order_id:e.order_id}).then(e=>{e.code>=0?this.$message({message:"订单延长收货成功",type:"success"}):this.$message({message:e.message,type:"warning"}),"function"==typeof t&&t()})})}}}},"9dd3":function(e,t,r){"use strict";r.r(t);r("14d9");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.yes,expression:"yes"}],staticClass:"null-page"}),t("el-card",{staticClass:"box-card order-detail"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/member/order_list"}}},[e._v("订单列表")]),t("el-breadcrumb-item",[e._v("订单详情")])],1)],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.orderDetail?[t("div",{staticClass:"order-status"},[t("h4",[e._v(" 订单状态： "),t("span",{staticClass:"ns-text-color"},[e._v(e._s(e.orderDetail.order_status_name))])]),0==e.orderDetail.order_status?t("div",{staticClass:"go-pay"},[t("p",[e._v(" 需付款： "),t("span",[e._v("￥"+e._s(e.orderDetail.pay_money))])])]):e._e(),e.orderDetail.action.length>0?t("div",{staticClass:"operation"},[1==e.orderDetail.is_evaluate?t("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return e.operation("memberOrderEvaluation")}}},[0==e.orderDetail.evaluate_status?[e._v(" 评价 ")]:1==e.orderDetail.evaluate_status?[e._v(" 追评 ")]:e._e()],2):e._e(),e._l(e.orderDetail.action,(function(r,i){return t("el-button",{key:i,attrs:{type:"primary",size:"mini",plain:"orderPay"!=r.action},on:{click:function(t){return e.operation(r.action)}}},[e._v(" "+e._s(r.title)+" ")])}))],2):0==e.orderDetail.action.length&&1==e.orderDetail.is_evaluate?t("div",{staticClass:"operation"},[1==e.orderDetail.is_evaluate?t("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return e.operation("memberOrderEvaluation")}}},[0==e.orderDetail.evaluate_status?[e._v(" 评价 ")]:1==e.orderDetail.evaluate_status?[e._v(" 追评 ")]:e._e()],2):e._e()],1):e._e()]),t("div",{staticClass:"order-info"},[t("h4",[e._v("订单信息")]),t("ul",[t("li",[t("i",{staticClass:"iconfont iconmendian"}),e._v(" 店铺： "),t("router-link",{attrs:{to:"/shop-"+e.orderDetail.site_id,target:"_blank"}},[e._v(e._s(e.orderDetail.site_name))])],1),t("li",[e._v("订单类型："+e._s(e.orderDetail.order_type_name))]),t("li",[e._v("订单编号："+e._s(e.orderDetail.order_no))]),t("li",[e._v("订单交易号："+e._s(e.orderDetail.out_trade_no))]),t("li",[e._v("配送方式："+e._s(e.orderDetail.delivery_type_name))]),t("li",[e._v("创建时间："+e._s(e.$util.timeStampTurnTime(e.orderDetail.create_time)))]),e.orderDetail.close_time>0?t("li",[e._v("关闭时间："+e._s(e.$util.timeStampTurnTime(e.orderDetail.close_time)))]):e._e(),e.orderDetail.pay_status>0?[t("li",[e._v("支付方式："+e._s(e.orderDetail.pay_type_name))]),t("li",[e._v("支付时间："+e._s(e.$util.timeStampTurnTime(e.orderDetail.pay_time)))])]:e._e(),""!=e.orderDetail.promotion_type_name?t("li",[e._v("店铺活动："+e._s(e.orderDetail.promotion_type_name))]):e._e(),""!=e.orderDetail.buyer_message?t("li",[e._v("买家留言："+e._s(e.orderDetail.buyer_message))]):e._e()],2)]),t("div",{staticClass:"take-delivery-info"},[t("h4",[e._v("收货信息")]),t("ul",[t("li",[e._v("收货人："+e._s(e.orderDetail.name))]),t("li",[e._v("手机号码："+e._s(e.orderDetail.mobile))]),t("li",[e._v("收货地址："+e._s(e.orderDetail.full_address)+" "+e._s(e.orderDetail.address))])])]),1==e.orderDetail.is_invoice?t("div",{staticClass:"take-delivery-info"},[t("h4",[e._v("发票信息")]),t("ul",[t("li",[e._v("发票类型："+e._s(1==e.orderDetail.invoice_type?"纸质发票":"电子发票"))]),t("li",[e._v("发票抬头类型："+e._s(1==e.orderDetail.invoice_title_type?"个人":"企业"))]),t("li",[e._v("发票抬头："+e._s(e.orderDetail.invoice_title))]),t("li",[e._v("发票内容："+e._s(e.orderDetail.invoice_content))]),1==e.orderDetail.invoice_type?t("li",[e._v("发票邮寄地址地址："+e._s(e.orderDetail.invoice_full_address))]):t("li",[e._v("发票接收邮箱："+e._s(e.orderDetail.invoice_email))])])]):e._e(),t("nav",[t("li",{class:{"no-operation":!e.orderDetail.is_enable_refund}},[e._v("商品信息")]),t("li",[e._v("单价")]),t("li",[e._v("数量")]),t("li",[e._v("小计")]),e.orderDetail.is_enable_refund?t("li",[e._v("操作")]):e._e()]),t("div",{staticClass:"list"},e._l(e.orderDetail.order_goods,(function(r,i){return t("ul",{key:i,staticClass:"item"},[t("li",{class:{"no-operation":!e.orderDetail.is_enable_refund}},[t("div",{staticClass:"img-wrap",on:{click:function(t){return e.$router.pushToTab("/sku-"+r.sku_id)}}},[t("img",{attrs:{src:e.$img(r.sku_image,{size:"mid"})},on:{error:function(t){return e.imageError(i)}}})]),t("div",{staticClass:"info-wrap"},[t("h5",{on:{click:function(t){return e.$router.pushToTab("/sku-"+r.sku_id)}}},[e._v(e._s(r.sku_name))])])]),t("li",[t("span",[e._v("￥"+e._s(r.price))])]),t("li",[t("span",[e._v(e._s(r.num))])]),t("li",[t("span",[e._v("￥"+e._s((r.price*r.num).toFixed(2)))])]),e.orderDetail.is_enable_refund?t("li",[0==r.refund_status?t("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.$router.push({path:"/member/refund",query:{order_goods_id:r.order_goods_id,order_id:e.orderId}})}}},[e._v(" 退款 ")]):t("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.$router.push({path:"/member/refund_detail",query:{order_goods_id:r.order_goods_id}})}}},[e._v(" 查看退款 ")])],1):e._e()])})),0),t("ul",{staticClass:"total"},[t("li",[t("label",[e._v("商品金额：")]),t("span",[e._v("￥"+e._s(e.orderDetail.goods_money))])]),t("li",[t("label",[e._v("运费：")]),t("span",[e._v("￥"+e._s(e.orderDetail.delivery_money))])]),e.orderDetail.invoice_money>0?t("li",[t("label",[e._v("税费：")]),t("span",[e._v("￥"+e._s(e.orderDetail.invoice_money))])]):e._e(),0!=e.orderDetail.adjust_money?t("li",[t("label",[e._v("订单调整：")]),t("span",[e.orderDetail.adjust_money<0?[e._v(" - ")]:[e._v(" + ")],e._v(" ￥"+e._s(e._f("abs")(e.orderDetail.adjust_money))+" ")],2)]):e._e(),e.orderDetail.promotion_money>0?t("li",[t("label",[e._v("优惠：")]),t("span",[e._v("￥"+e._s(e.orderDetail.promotion_money))])]):e._e(),e.orderDetail.coupon_money>0?t("li",[t("label",[e._v("优惠券金额：")]),t("span",[e._v("￥"+e._s(e.orderDetail.coupon_money))])]):e._e(),e.orderDetail.platform_coupon_total_money>0?t("li",[t("label",[e._v("平台优惠券金额：")]),t("span",[e._v("￥"+e._s(e.orderDetail.platform_coupon_total_money))])]):e._e(),e.orderDetail.balance_money>0?t("li",[t("label",[e._v("使用余额：")]),t("span",[e._v("￥"+e._s(e.orderDetail.balance_money))])]):e._e(),t("li",{staticClass:"pay-money"},[t("label",[e._v("实付款：")]),t("span",[e._v("￥"+e._s(e.orderDetail.pay_money))])])])]:e._e()],2)])],1)},a=[],o=r("dea0"),s=r("6554"),l=r("2f62"),n={name:"order_detail",components:{},mixins:[s["a"]],data:()=>({orderId:0,orderDetail:null,loading:!0,yes:!0}),created(){this.orderId=this.$route.query.order_id,this.getOrderDetail()},mounted(){let e=this;setTimeout((function(){e.yes=!1}),300)},computed:{...Object(l["b"])(["defaultGoodsImage"])},methods:{getOrderDetail(){Object(o["b"])({order_id:this.orderId}).then(e=>{e.code>=0?(console.log(e,"apiOrderDetail"),this.orderDetail=e.data,this.loading=!1):this.$message({message:"未获取到订单信息",type:"warning",duration:2e3,onClose:()=>{this.$router.push({path:"/member/order_list"})}})}).catch(e=>{this.loading=!1,this.$message.error({message:e.message,duration:2e3,onClose:()=>{this.$router.push({path:"/member/order_list"})}})})},operation(e){switch(e){case"orderPay":this.orderPay(this.orderDetail);break;case"orderClose":this.orderClose(this.orderDetail.order_id,()=>{this.getOrderDetail()});break;case"memberTakeDelivery":this.orderDelivery(this.orderDetail.order_id,()=>{this.getOrderDetail()});break;case"trace":this.$router.push({path:"/member/logistics",query:{order_id:this.orderDetail.order_id}});break;case"memberOrderEvaluation":this.$router.pushToTab({path:"/evaluate",query:{order_id:this.orderDetail.order_id}});break}},imageError(e){this.orderDetail.order_goods[e].sku_image=this.defaultGoodsImage}},filters:{abs(e){return Math.abs(parseFloat(e)).toFixed(2)}}},d=n,_=(r("ff6f"),r("2877")),u=Object(_["a"])(d,i,a,!1,null,"403f3fde",null);t["default"]=u.exports},ff6f:function(e,t,r){"use strict";r("5868")}}]);
//# sourceMappingURL=chunk-1db44767.716b7e8e.js.map