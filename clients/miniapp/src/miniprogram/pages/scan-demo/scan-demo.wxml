<!--pages/scan-demo/scan-demo.wxml-->
<navigation-bar title="扫码示例" back="{{true}}" color="black" background="white"></navigation-bar>
<view class="container">
  <view class="header">
    <text class="title">扫码参数示例页面</text>
  </view>

  <!-- 扫码参数显示 -->
  <view class="params-section">
    <view class="section-title">扫码参数</view>
    <view wx:if="{{hasParams}}" class="params-list">
      <view wx:for="{{paramsList}}" wx:key="key" class="param-item">
        <text class="param-key">{{item.key}}:</text>
        <text class="param-value">{{item.value}}</text>
      </view>
    </view>
    <view wx:else class="no-params">
      <text>未检测到扫码参数</text>
    </view>
  </view>

  <!-- 场景值信息 -->
  <view class="scene-section">
    <view class="section-title">进入场景</view>
    <view class="scene-info">
      <text>场景值: {{sceneValue}}</text>
      <text>场景描述: {{sceneDesc}}</text>
    </view>
  </view>

  <!-- 业务处理示例 -->
  <view class="business-section">
    <view class="section-title">业务处理</view>
    
    <!-- 商品详情 -->
    <view wx:if="{{businessType === 'product'}}" class="business-card">
      <view class="card-title">🛍️ 商品信息</view>
      <view class="card-content">
        <text>商品ID: {{productId}}</text>
        <text>商品类型: {{productType}}</text>
        <button class="action-btn" bindtap="viewProduct">查看商品详情</button>
      </view>
    </view>

    <!-- 用户信息 -->
    <view wx:elif="{{businessType === 'user'}}" class="business-card">
      <view class="card-title">👤 用户信息</view>
      <view class="card-content">
        <text>用户ID: {{userId}}</text>
        <text>操作类型: {{userAction}}</text>
        <button class="action-btn" bindtap="viewUserProfile">查看用户资料</button>
      </view>
    </view>

    <!-- 活动信息 -->
    <view wx:elif="{{businessType === 'event'}}" class="business-card">
      <view class="card-title">🎉 活动信息</view>
      <view class="card-content">
        <text>活动ID: {{eventId}}</text>
        <text>活动类型: {{eventType}}</text>
        <button class="action-btn" bindtap="joinEvent">参与活动</button>
      </view>
    </view>

    <!-- 默认情况 -->
    <view wx:else class="business-card">
      <view class="card-title">📋 通用处理</view>
      <view class="card-content">
        <text>检测到扫码进入，但未识别具体业务类型</text>
        <button class="action-btn" bindtap="handleDefault">查看详情</button>
      </view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="actions">
    <button class="btn primary" bindtap="refreshParams">刷新参数</button>
    <button class="btn secondary" bindtap="goHome">返回首页</button>
  </view>
</view>
