<!--pages/verification/index.wxml-->
<navigation-bar title="хХЖхо╢ца╕щФА" back="{{true}}" color="black" background="white"></navigation-bar>
<view class="verification-container">
  <view class="header">
    <text class="title">хХЖхо╢/ф╛Ых║ФхХЖца╕щФАф╕нх┐Г</text>
    <text class="subtitle">цФпцМБцЙлчаБцИЦцЙЛхКиш╛УхЕеца╕щФАчаБ</text>
    <text class="subtitle">х╜УхЙНш║лф╗╜я╝Ъ{{roleText || 'цЬкчЩ╗х╜Х'}}</text>
  </view>

  <!-- цЙлчаБца╕щФА -->
  <view class="section">
    <view class="section-title">цЙлчаБца╕щФА</view>
    <view class="scan-card">
      <view class="scan-icon">ЁЯУ▒</view>
      <text class="scan-desc">цЙлцППщб╛ховхЗ║чд║чЪДца╕щФАф║Мч╗┤чаБ</text>
      <button class="scan-btn" bindtap="scanCode">х╝АхзЛцЙлчаБ</button>
    </view>
  </view>

  <!-- цЙЛхКица╕щФА -->
  <view class="section">
    <view class="section-title">цЙЛхКиш╛УхЕеца╕щФАчаБ</view>
    <view class="manual-card">
      <input class="code-input" placeholder="шп╖ш╛УхЕе8ф╜Нца╕щФАчаБ" value="{{manualCode}}" bindinput="onCodeInput" maxlength="12" />
      <view wx:if="{{requiresPin}}" style="margin-top: 8px;">
        <input class="code-input" placeholder="шп╖ш╛УхЕех║ЧхСШPIN" password="true" value="{{pin}}" bindinput="onPinInput" maxlength="6" />
      </view>
      <button class="verify-btn" bindtap="verifyManual" disabled="{{!manualCode}}">чбошодца╕щФА</button>
    </view>
  </view>

  <!-- ца╕щФАч╗УцЮЬцПРчд║ -->
  <view wx:if="{{resultMsg}}" class="result-tip">{{resultMsg}}</view>
</view>