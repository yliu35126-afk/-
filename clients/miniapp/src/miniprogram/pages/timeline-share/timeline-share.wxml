<!--pages/timeline-share/timeline-share.wxml-->
<view class="timeline-share-container">
  
  <!-- 加载中 -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 分享内容 -->
  <view wx:else class="share-content">
    
    <!-- 媒体内容区域 -->
    <view class="media-container">
      
      <!-- 视频内容 -->
      <video 
        wx:if="{{mediaType === 'video' && mediaUrl}}"
        id="shareVideo"
        class="share-video"
        src="{{mediaUrl}}"
        autoplay="{{true}}"
        loop="{{true}}"
        muted="{{false}}"
        controls="{{true}}"
        show-center-play-btn="{{true}}"
        show-play-btn="{{true}}"
        bindplay="onVideoPlay"
        bindpause="onVideoPause"
        bindended="onVideoEnded"
        binderror="onVideoError">
      </video>

      <!-- 图片内容 -->
      <image 
        wx:elif="{{mediaType === 'image' && mediaUrl}}"
        class="share-image"
        src="{{mediaUrl}}"
        mode="aspectFit"
        lazy-load="{{true}}">
      </image>

      <!-- 默认图片 -->
      <image 
        wx:else
        class="share-image"
        src="/images/success.svg"
        mode="aspectFit">
      </image>

    </view>

    <!-- 文字内容区域 -->
    <view class="text-content">
      
      <!-- 标题 -->
      <view class="title-section">
        <text class="share-title">{{shareTitle}}</text>
      </view>

      <!-- 描述文本 -->
      <view class="desc-section">
        <text class="share-desc">{{shareText}}</text>
      </view>

      <!-- 标签 -->
      <view class="tags-section">
        <view class="tag">🎮 智能娱乐</view>
        <view class="tag">🎁 抽奖活动</view>
        <view class="tag">💰 现金奖励</view>
      </view>

    </view>

    <!-- 行动按钮 -->
    <view class="action-section">
      <button class="enter-btn" bindtap="goToMiniProgram">
        <text class="btn-text">🚀 立即体验</text>
      </button>
      
      <view class="tips">
        <text class="tips-text">点击进入小程序，开始您的抽奖之旅！</text>
      </view>
    </view>

  </view>

</view>