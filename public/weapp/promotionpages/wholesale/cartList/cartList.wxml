<view class="{{['allPage','data-v-3a702f1e',(hasData)?'bottom':'']}}" data-theme="{{themeStyle}}"><scroll-view class="container data-v-3a702f1e" scroll-x="{{true}}" show-scrollbar="{{false}}"><block wx:if="{{hasData}}"><block class="data-v-3a702f1e"><block wx:for="{{$root.l2}}" wx:for-item="siteItem" wx:for-index="siteIndex" wx:key="siteIndex"><view class="cart-wrap data-v-3a702f1e"><view class="cart-header data-v-3a702f1e"><view data-event-opts="{{[['tap',[['siteAllElection',[!siteItem.$orig.checked,siteIndex]]]]]}}" class="{{['iconfont','data-v-3a702f1e',siteItem.$orig.checked?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}" bindtap="__e"></view><view class="iconfont icondianpu data-v-3a702f1e"></view><view class="shop-info data-v-3a702f1e"><text class="data-v-3a702f1e">{{siteItem.$orig.siteName}}</text></view><view class="num-wrap font-size-tag data-v-3a702f1e">共<text class="color-base-text data-v-3a702f1e">{{siteItem.g0}}</text>件商品</view><view data-event-opts="{{[['tap',[['changeAction',['$event']]]]]}}" class="cart-action data-v-3a702f1e" bindtap="__e">{{isAction?siteItem.m0:siteItem.m1}}</view></view><block wx:for="{{siteItem.l1}}" wx:for-item="item" wx:for-index="cartIndex" wx:key="cartIndex"><block class="data-v-3a702f1e"><view data-event-opts="{{[['touchstart',[['touchS',['$event']]]],['touchend',[['touchE',['$event','$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="cart-goods data-v-3a702f1e" bindtouchstart="__e" bindtouchend="__e"><view class="{{['goods-wrap','data-v-3a702f1e',(item.$orig.edit)?'edit':'']}}"><view data-event-opts="{{[['tap',[['singleElection',[siteIndex,cartIndex]]]]]}}" class="{{['iconfont','data-v-3a702f1e',item.$orig.checked?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}" bindtap="__e"></view><view data-event-opts="{{[['tap',[['toGoodsDetail',['$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="goods-img data-v-3a702f1e" bindtap="__e"><image src="{{item.g1}}" mode="aspectFill" data-event-opts="{{[['error',[['imgError',[siteIndex,cartIndex]]]]]}}" binderror="__e" class="data-v-3a702f1e"></image></view><view class="goods-info data-v-3a702f1e"><view data-event-opts="{{[['tap',[['toGoodsDetail',['$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="goods-name data-v-3a702f1e" bindtap="__e">{{item.$orig.goods_name}}</view><block wx:if="{{item.$orig.sku_spec_format}}"><view class="sku data-v-3a702f1e"><view class="goods-spec data-v-3a702f1e"><block wx:for="{{item.l0}}" wx:for-item="x" wx:for-index="i" wx:key="i"><block class="data-v-3a702f1e">{{''+x.$orig.spec_value_name+" "+(i<x.g2-1?';':'')+''}}</block></block></view></view></block><view class="goods-sub-section data-v-3a702f1e"><block wx:if="{{item.$orig.promotion_type==1}}"><block class="data-v-3a702f1e"><view class="goods-price color-base-text data-v-3a702f1e"><view class="bottom-price color-base-text data-v-3a702f1e"><text class="unit data-v-3a702f1e">{{item.m2}}</text>{{''+item.$orig.discount_price+''}}<image src="{{item.g3}}" class="data-v-3a702f1e"></image></view></view></block></block><block wx:else><block class="data-v-3a702f1e"><view class="goods-price color-base-text data-v-3a702f1e"><view class="bottom-price color-base-text data-v-3a702f1e"><text class="unit data-v-3a702f1e">{{item.m3}}</text>{{''+item.$orig.price+''}}</view></view></block></block><uni-number-box vue-id="{{'2885b328-1-'+siteIndex+'-'+cartIndex}}" min="{{item.$orig.min_num>1?item.$orig.min_num:1}}" max="{{item.$orig.max_buy>0&&item.$orig.max_buy<item.$orig.stock?item.$orig.max_buy:item.$orig.stock}}" value="{{item.m4}}" size="small" modifyFlag="{{modifyFlag}}" data-event-opts="{{[['^change',[['cartNumChange',['$event',['o',['siteIndex',siteIndex],['cartIndex',cartIndex]]]]]],['^limit',[['goodsLimit',['$event',siteIndex,cartIndex]]]]]}}" bind:change="__e" bind:limit="__e" class="data-v-3a702f1e" bind:__l="__l"></uni-number-box></view></view></view><view data-event-opts="{{[['tap',[['deleteCart',['single',siteIndex,cartIndex]]]]]}}" class="{{['item-del','color-base-bg','data-v-3a702f1e',(item.$orig.edit)?'show':'']}}" bindtap="__e">{{siteItem.m5}}</view></view></block></block></view></block><block wx:if="{{$root.g4}}"><view class="cart-wrap invalid data-v-3a702f1e"><view class="cart-header data-v-3a702f1e"><view class="num-wrap data-v-3a702f1e"><text class="font-size-base data-v-3a702f1e">{{"失效商品"+$root.g5+"件"}}</text></view><view data-event-opts="{{[['tap',[['clearInvalidGoods',['$event']]]]]}}" class="cart-action color-base-text font-size-goods-tag data-v-3a702f1e" bindtap="__e">清空</view></view><block wx:for="{{$root.l4}}" wx:for-item="goodsItem" wx:for-index="goodsIndex" wx:key="goodsIndex"><block class="data-v-3a702f1e"><view class="cart-goods invalid-goods data-v-3a702f1e"><view class="goods-wrap data-v-3a702f1e"><view class="iconfont iconyuan_checked color-tip data-v-3a702f1e"></view><view class="goods-img data-v-3a702f1e"><image src="{{goodsItem.g6}}" mode="aspectFill" class="data-v-3a702f1e"></image></view><view class="goods-info data-v-3a702f1e"><view class="goods-name data-v-3a702f1e">{{goodsItem.$orig.sku_name}}</view><block wx:if="{{goodsItem.$orig.sku_spec_format}}"><view class="sku data-v-3a702f1e"><view class="goods-spec data-v-3a702f1e"><block wx:for="{{goodsItem.l3}}" wx:for-item="x" wx:for-index="i" wx:key="i"><block class="data-v-3a702f1e">{{''+x.$orig.spec_value_name+" "+(i<x.g7-1?'; ':'')+''}}</block></block></view></view></block><view class="goods-sub-section data-v-3a702f1e"><text class="goods-price color-base-text data-v-3a702f1e"><text class="unit data-v-3a702f1e">{{goodsItem.m6}}</text>{{''+goodsItem.$orig.discount_price+''}}</text><text class="invalid-mark data-v-3a702f1e">已失效</text></view></view></view></view></block></block></view></block></block></block><block wx:else><block class="data-v-3a702f1e"><view class="cart-empty data-v-3a702f1e"><image src="{{$root.g8}}" mode="aspectFit" class="data-v-3a702f1e"></image><view class="color-tip margin-top margin-bottom data-v-3a702f1e">{{$root.m7}}</view><block wx:if="{{token!=''}}"><button class="button data-v-3a702f1e" type="primary" size="mini" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e">去逛逛</button></block><block wx:else><button class="button data-v-3a702f1e" type="primary" size="mini" data-event-opts="{{[['tap',[['toLogin',['$event']]]]]}}" bindtap="__e">去登录</button></block></view></block></block></scroll-view><block wx:if="{{hasData}}"><view class="{{['cart-bottom','data-v-3a702f1e',(isIphoneX)?'active':'']}}" style="{{'bottom:'+(cartBottom)+';'}}"><view data-event-opts="{{[['tap',[['allElection',['$event']]]]]}}" class="all-election data-v-3a702f1e" bindtap="__e"><view class="{{['iconfont','data-v-3a702f1e',checkAll?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}"></view><text class="data-v-3a702f1e">{{$root.m8}}</text></view><view class="settlement-info data-v-3a702f1e" style="{{'visibility:'+(isAction?'hidden':'visible')+';'}}">{{''+$root.m9+'：'}}<text class="color-base-text font-size-toolbar data-v-3a702f1e">{{$root.m10+" "+totalPrice}}</text></view><block wx:if="{{isAction}}"><view class="action-btn data-v-3a702f1e"><button class="delete data-v-3a702f1e" type="primary" size="mini" plain="{{true}}" data-event-opts="{{[['tap',[['deleteCart',['all']]]]]}}" bindtap="__e">{{$root.m11}}</button></view></block><block wx:else><view class="action-btn data-v-3a702f1e"><block wx:if="{{totalCount!=0}}"><button type="primary" size="mini" data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" bindtap="__e" class="data-v-3a702f1e">{{$root.m12+"("+totalCount+")"}}</button></block><block wx:else><button type="primary" size="mini" disabled="{{true}}" data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" bindtap="__e" class="data-v-3a702f1e">{{$root.m13+"("+totalCount+")"}}</button></block></view></block></view></block><loading-cover vue-id="2885b328-2" data-ref="loadingCover" class="data-v-3a702f1e vue-ref" bind:__l="__l"></loading-cover><block wx:if="{{showTop}}"><to-top bind:toTop="__e" vue-id="2885b328-3" data-event-opts="{{[['^toTop',[['scrollToTopNative']]]]}}" class="data-v-3a702f1e" bind:__l="__l"></to-top></block><ns-login vue-id="2885b328-4" data-ref="login" class="data-v-3a702f1e vue-ref" bind:__l="__l"></ns-login></view>