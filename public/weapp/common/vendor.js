(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/vendor"],{"003e":function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("16e3")),c=(i("77ef"),{data:function(){return{groupbuy_id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:{},showKefu:0,goodsCircle:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.groupbuy_id=t.groupbuy_id||0,this.skuId=t.sku_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("groupbuy_id")&&(i.groupbuy_id=t.split("-")[1]),-1!=t.indexOf("sku_id")&&(i.skuId=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$langConfig.refresh(),t.$store.dispatch("getAddonIsexit").then(function(){var i=(0,a.default)(s.default.mark((function i(o){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o.groupbuy){i.next=5;break}t.$util.showToast({title:"团购未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3),i.next=12;break;case 5:return e.getStorageSync("token")&&(t.getCartCount(),t.getMemberId()),t.canGoConnect(),t.getKekuConfig(),i.next=10,t.getGoodsSkuDetail();case 10:t.modifyGoodsInfo(),t.getEvaluateConfig();case 12:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})))()},methods:{canGoConnect:function(){var e=this;this.$api.sendRequest({url:"/api/addon/addonisexit",success:function(t){0==t.code&&t.data&&(e.showKefu=t.data.servicer)}})},goConnect:function(){if(e.getStorageSync("token")){var t={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id,type:"groupbuy",type_id:this.goodsSkuDetail.groupbuy_id};return this.$util.redirectTo("/otherpages/chat/room/room",t),!1}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var t=this;return(0,a.default)(s.default.mark((function i(){var o,r,a,c,d;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.sendRequest({url:"/groupbuy/api/goods/detail",async:!1,data:{groupbuy_id:t.groupbuy_id}});case 2:if(o=i.sent,r=o.data,null!=r.goods_sku_detail){if(t.goodsSkuDetail=r.goods_sku_detail,t.shopInfo=r.shop_info,t.skuId=t.goodsSkuDetail.sku_id,t.goodsSkuDetail.goods_service=[],1==t.shopInfo.shop_baozh&&t.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==t.shopInfo.shop_qtian&&t.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==t.shopInfo.shop_zhping&&t.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==t.shopInfo.shop_erxiaoshi&&t.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==t.shopInfo.shop_tuihuo&&t.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==t.shopInfo.shop_shiyong&&t.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==t.shopInfo.shop_shiti&&t.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==t.shopInfo.shop_xiaoxie&&t.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),t.goodsSkuDetail.end_time-o.timestamp>0?t.goodsSkuDetail.timeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-o.timestamp):(t.$util.showToast({title:"活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.goodsSkuDetail.end_time-o.timestamp>0?t.goodsSkuDetail.timeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-o.timestamp):(t.$util.showToast({title:"活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.goodsSkuDetail.video_url&&(t.switchMedia="video"),t.goodsSkuDetail.sku_images?t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","):t.goodsSkuDetail.sku_images=[],t.goodsSkuDetail.goods_spec_format&&t.goodsSkuDetail.goods_image&&(t.goodsSkuDetail.goods_image=t.goodsSkuDetail.goods_image.split(","),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.concat(t.goodsSkuDetail.goods_image)),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.show_price=t.goodsSkuDetail.groupbuy_price,t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.show_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.show_price).toFixed(2):0,t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(t.goodsSkuDetail.goods_attr_format),t.goodsSkuDetail.goods_attr_format=t.$util.unique(a,"attr_id"),c=0;c<t.goodsSkuDetail.goods_attr_format.length;c++)for(d=0;d<a.length;d++)t.goodsSkuDetail.goods_attr_format[c].attr_id==a[d].attr_id&&t.goodsSkuDetail.goods_attr_format[c].attr_value_id!=a[d].attr_value_id&&(t.goodsSkuDetail.goods_attr_format[c].attr_value_name+="、"+a[d].attr_value_name);t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.$langConfig.title(t.goodsSkuDetail.goods_name),t.goodsSkuDetail.goods_content&&(t.goodsSkuDetail.goods_content=(0,n.default)(t.goodsSkuDetail.goods_content)),t.contactData={title:t.goodsSkuDetail.sku_name,path:"/promotionpages/groupbuy/detail/detail?groupbuy_id="+t.groupbuy_id,img:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})},e.getStorageSync("token")&&t.getWhetherCollection(),t.setWechatShare(),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.getService(),t.getGoodScircleConfig()}else t.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return i.stop()}}),i)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},groupbuy:function(){e.getStorageSync("token")?this.$refs.goodsSku.show("groupbuy",(function(){})):this.$refs.login.open("/promotionpages/groupbuy/detail/detail?groupbuy_id="+this.groupbuy_id+"&sku_id="+this.skuId)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/groupbuy/detail/detail?groupbuy_id="+this.groupbuy_id+"&sku_id="+this.skuId)},getCartCount:function(){var e=this;this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId,site_id:this.goodsSkuDetail.site_id},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(i){var o=i.width,r=parseFloat((740/o).toFixed(2));e.getStorageSync("token")?t.posterHeight=parseInt(1240/r):t.posterHeight=parseInt(1100/r)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={groupbuy_id:this.groupbuy_id};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/groupbuy/api/goods/poster",data:{page:"/promotionpages/groupbuy/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImgError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",data:{site_id:this.goodsSkuDetail.site_id},success:function(t){0==t.code&&t.data&&(e.service=t.data)}})},setWechatShare:function(){},getGoodScircleConfig:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/config/info",success:function(t){0==t.code&&t.data.is_use&&e.goodsSyncToGoodsCircle()}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/groupbuy/detail/detail?groupbuy_id="+this.groupbuy_id;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data)}})},toEvaluateDetail:function(e){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:e})},navigate:function(e,t){this.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e)})},openVideo:function(e,t){this.$util.redirectTo("/otherpages/goods/preview-video",{video_url:e,video_img:t})},errorShopLogo:function(){this.shopInfo.avatar=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()}}});t.default=c}).call(this,i("543d")["default"],i("bc2e")["default"])},"0062":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的积分"}},"0092":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"积分兑换",emptyTips:"暂无更多数据了"}},"00ee":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={strDiscode:function(e){return e=function(e){return e=e.replace(/&forall;/g,"∀"),e=e.replace(/&part;/g,"∂"),e=e.replace(/&exist;/g,"∃"),e=e.replace(/&empty;/g,"∅"),e=e.replace(/&nabla;/g,"∇"),e=e.replace(/&isin;/g,"∈"),e=e.replace(/&notin;/g,"∉"),e=e.replace(/&ni;/g,"∋"),e=e.replace(/&prod;/g,"∏"),e=e.replace(/&sum;/g,"∑"),e=e.replace(/&minus;/g,"−"),e=e.replace(/&lowast;/g,"∗"),e=e.replace(/&radic;/g,"√"),e=e.replace(/&prop;/g,"∝"),e=e.replace(/&infin;/g,"∞"),e=e.replace(/&ang;/g,"∠"),e=e.replace(/&and;/g,"∧"),e=e.replace(/&or;/g,"∨"),e=e.replace(/&cap;/g,"∩"),e=e.replace(/&cup;/g,"∪"),e=e.replace(/&int;/g,"∫"),e=e.replace(/&there4;/g,"∴"),e=e.replace(/&sim;/g,"∼"),e=e.replace(/&cong;/g,"≅"),e=e.replace(/&asymp;/g,"≈"),e=e.replace(/&ne;/g,"≠"),e=e.replace(/&le;/g,"≤"),e=e.replace(/&ge;/g,"≥"),e=e.replace(/&sub;/g,"⊂"),e=e.replace(/&sup;/g,"⊃"),e=e.replace(/&nsub;/g,"⊄"),e=e.replace(/&sube;/g,"⊆"),e=e.replace(/&supe;/g,"⊇"),e=e.replace(/&oplus;/g,"⊕"),e=e.replace(/&otimes;/g,"⊗"),e=e.replace(/&perp;/g,"⊥"),e=e.replace(/&sdot;/g,"⋅"),e}(e),e=function(e){return e=e.replace(/&Alpha;/g,"Α"),e=e.replace(/&Beta;/g,"Β"),e=e.replace(/&Gamma;/g,"Γ"),e=e.replace(/&Delta;/g,"Δ"),e=e.replace(/&Epsilon;/g,"Ε"),e=e.replace(/&Zeta;/g,"Ζ"),e=e.replace(/&Eta;/g,"Η"),e=e.replace(/&Theta;/g,"Θ"),e=e.replace(/&Iota;/g,"Ι"),e=e.replace(/&Kappa;/g,"Κ"),e=e.replace(/&Lambda;/g,"Λ"),e=e.replace(/&Mu;/g,"Μ"),e=e.replace(/&Nu;/g,"Ν"),e=e.replace(/&Xi;/g,"Ν"),e=e.replace(/&Omicron;/g,"Ο"),e=e.replace(/&Pi;/g,"Π"),e=e.replace(/&Rho;/g,"Ρ"),e=e.replace(/&Sigma;/g,"Σ"),e=e.replace(/&Tau;/g,"Τ"),e=e.replace(/&Upsilon;/g,"Υ"),e=e.replace(/&Phi;/g,"Φ"),e=e.replace(/&Chi;/g,"Χ"),e=e.replace(/&Psi;/g,"Ψ"),e=e.replace(/&Omega;/g,"Ω"),e=e.replace(/&alpha;/g,"α"),e=e.replace(/&beta;/g,"β"),e=e.replace(/&gamma;/g,"γ"),e=e.replace(/&delta;/g,"δ"),e=e.replace(/&epsilon;/g,"ε"),e=e.replace(/&zeta;/g,"ζ"),e=e.replace(/&eta;/g,"η"),e=e.replace(/&theta;/g,"θ"),e=e.replace(/&iota;/g,"ι"),e=e.replace(/&kappa;/g,"κ"),e=e.replace(/&lambda;/g,"λ"),e=e.replace(/&mu;/g,"μ"),e=e.replace(/&nu;/g,"ν"),e=e.replace(/&xi;/g,"ξ"),e=e.replace(/&omicron;/g,"ο"),e=e.replace(/&pi;/g,"π"),e=e.replace(/&rho;/g,"ρ"),e=e.replace(/&sigmaf;/g,"ς"),e=e.replace(/&sigma;/g,"σ"),e=e.replace(/&tau;/g,"τ"),e=e.replace(/&upsilon;/g,"υ"),e=e.replace(/&phi;/g,"φ"),e=e.replace(/&chi;/g,"χ"),e=e.replace(/&psi;/g,"ψ"),e=e.replace(/&omega;/g,"ω"),e=e.replace(/&thetasym;/g,"ϑ"),e=e.replace(/&upsih;/g,"ϒ"),e=e.replace(/&piv;/g,"ϖ"),e=e.replace(/&middot;/g,"·"),e}(e),e=function(e){return e=e.replace(/&nbsp;/g," "),e=e.replace(/&ensp;/g," "),e=e.replace(/&emsp;/g,"　"),e=e.replace(/&quot;/g,"'"),e=e.replace(/&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&#8226;/g,"•"),e}(e),e=function(e){return e=e.replace(/&OElig;/g,"Œ"),e=e.replace(/&oelig;/g,"œ"),e=e.replace(/&Scaron;/g,"Š"),e=e.replace(/&scaron;/g,"š"),e=e.replace(/&Yuml;/g,"Ÿ"),e=e.replace(/&fnof;/g,"ƒ"),e=e.replace(/&circ;/g,"ˆ"),e=e.replace(/&tilde;/g,"˜"),e=e.replace(/&ensp;/g,""),e=e.replace(/&emsp;/g,""),e=e.replace(/&thinsp;/g,""),e=e.replace(/&zwnj;/g,""),e=e.replace(/&zwj;/g,""),e=e.replace(/&lrm;/g,""),e=e.replace(/&rlm;/g,""),e=e.replace(/&ndash;/g,"–"),e=e.replace(/&mdash;/g,"—"),e=e.replace(/&lsquo;/g,"‘"),e=e.replace(/&rsquo;/g,"’"),e=e.replace(/&sbquo;/g,"‚"),e=e.replace(/&ldquo;/g,"“"),e=e.replace(/&rdquo;/g,"”"),e=e.replace(/&bdquo;/g,"„"),e=e.replace(/&dagger;/g,"†"),e=e.replace(/&Dagger;/g,"‡"),e=e.replace(/&bull;/g,"•"),e=e.replace(/&hellip;/g,"…"),e=e.replace(/&permil;/g,"‰"),e=e.replace(/&prime;/g,"′"),e=e.replace(/&Prime;/g,"″"),e=e.replace(/&lsaquo;/g,"‹"),e=e.replace(/&rsaquo;/g,"›"),e=e.replace(/&oline;/g,"‾"),e=e.replace(/&euro;/g,"€"),e=e.replace(/&trade;/g,"™"),e=e.replace(/&larr;/g,"←"),e=e.replace(/&uarr;/g,"↑"),e=e.replace(/&rarr;/g,"→"),e=e.replace(/&darr;/g,"↓"),e=e.replace(/&harr;/g,"↔"),e=e.replace(/&crarr;/g,"↵"),e=e.replace(/&lceil;/g,"⌈"),e=e.replace(/&rceil;/g,"⌉"),e=e.replace(/&lfloor;/g,"⌊"),e=e.replace(/&rfloor;/g,"⌋"),e=e.replace(/&loz;/g,"◊"),e=e.replace(/&spades;/g,"♠"),e=e.replace(/&clubs;/g,"♣"),e=e.replace(/&hearts;/g,"♥"),e=e.replace(/&diams;/g,"♦"),e=e.replace(/&#39;/g,"'"),e}(e),e},urlToHttpUrl:function(e,t){return/^\/\//.test(e)?"https:".concat(e):/^\//.test(e)?"https://".concat(t).concat(e):e}};t.default=o},"0534":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"编辑收货地址",consignee:"姓名",consigneePlaceholder:"收货人姓名",mobile:"手机",mobilePlaceholder:"收货人手机号",telephone:"电话",telephonePlaceholder:"收货人固定电话（选填）",receivingCity:"地区",address:"详细地址",addressPlaceholder:"小区、街道、写字楼",save:"保存"}},"0676":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"06ba":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品分类"}},"0754":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的关注",allPoint:"综合评分",num:"粉丝数",shop:"进店"}},"095e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},"0970":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"}},"0bc9":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:""},orderPaymentData:{member_account:{balance:0,is_pay_password:0}},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},isSub:!1,tempData:null,siteDelivery:{site_id:0,data:[]}}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/wholesale/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("wholesaleOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.$api.sendRequest({url:"/wholesale/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){var e=this;this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";var t=this.orderPaymentData,i=(new Date).getHours().toString(),o=(new Date).getMinutes().toString();1==i.length&&(i="0"+i),1==o.length&&(o="0"+o);var r=i+":"+o,s=["周日","周一","周二","周三","周四","周五","周六"],a=["0","1","2","3","4","5","6"][(new Date).getDay()];Object.keys(t.shop_goods_list).forEach((function(i,o){var n=t.shop_goods_list[i];if(e.orderCreateData.delivery[i]={},void 0!=n.express_type[0]&&(e.orderCreateData.delivery[i].delivery_type=n.express_type[0].name,e.orderCreateData.delivery[i].delivery_type_name=n.express_type[0].title,e.orderCreateData.delivery[i].store_id=0,"store"==n.express_type[0].name&&void 0!=n.express_type[0].store_list[0]&&(e.orderCreateData.delivery[i].store_id=n.express_type[0].store_list[0].store_id)),0==t.is_virtual&&n.local_config)if(n.local_config.info&&1==n.local_config.info.time_is_open){if(e.orderCreateData.delivery[i].showTimeBar=!0,e.orderCreateData.delivery[i].buyer_ask_delivery_time=r,0==n.local_config.info.time_week.length||7==n.local_config.info.time_week.length||n.local_config.info.time_week.indexOf(a)>-1?e.orderCreateData.delivery[i].canLocalDelicery=!0:e.orderCreateData.delivery[i].canLocalDelicery=!1,0==n.local_config.info.time_type)e.orderCreateData.delivery[i].deliveryWeek="全天";else if(n.local_config.info.time_week.length>0)if(7==n.local_config.info.time_week.length)e.orderCreateData.delivery[i].deliveryWeek="全天",e.orderCreateData.delivery[i].showTime=!1;else{e.orderCreateData.delivery[i].showTime=!0;for(var c=n.local_config.info.time_week,d=!1,u=0;u<c.length;u++)if(u+1<c.length){var l=c[u+1]-c[u];if(l>1){d=!0;break}}if(d){var h=[];for(u=0;u<c.length;u++)h.push(s[c[u]]);e.orderCreateData.delivery[i].deliveryWeek=h.join("、")}else e.orderCreateData.delivery[i].deliveryWeek=s[c[0]]+"至"+s[c[c.length-1]]}else e.orderCreateData.delivery[i].deliveryWeek="店铺未设置配送时间";var p=n.local_config.info.start_time;e.orderCreateData.delivery[i].start_time=e.getTimeStr(p);var f=n.local_config.info.end_time;e.orderCreateData.delivery[i].end_time=e.getTimeStr(f);var g=new Date(e.$util.timeStampTurnTime(t.timestamp)),m=g.getHours(),_=g.getMinutes(),v=parseInt(e.orderCreateData.delivery[i].start_time.split(":")[0]),y=parseInt(e.orderCreateData.delivery[i].start_time.split(":")[1]),D=parseInt(e.orderCreateData.delivery[i].end_time.split(":")[0]),S=parseInt(e.orderCreateData.delivery[i].end_time.split(":")[1]);e.orderCreateData.delivery[i].canLocalDelicery&&(v==D&&y==S||((m<v||m==v&&_<y)&&(e.orderCreateData.delivery[i].buyer_ask_delivery_time=(1==v.toString().length?"0"+v:v)+":"+(1==y.toString().length?"0"+y:y)),(m>D||m==D&&_>S)&&(e.orderCreateData.delivery[i].canLocalDelicery=!1)))}else e.orderCreateData.delivery[i].showTimeBar=!1,e.orderCreateData.delivery[i].deliveryWeek="店铺未开启配送时间";n.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),e.orderCreateData.buyer_message[i]=""})),t.is_virtual&&(this.orderCreateData.member_address={mobile:""}),Object.assign(t,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this;Object.keys(this.orderPaymentData.shop_goods_list).forEach((function(t,i){var o=e.orderPaymentData.shop_goods_list[t];o.is_invoice&&(e.orderCreateData.invoice[t]={},Array.isArray(o.invoice_config)||(e.orderCreateData.invoice[t].is_invoice=o.is_invoice,e.orderCreateData.invoice[t].invoice_type=o.invoice_type,e.orderCreateData.invoice[t].invoice_title=o.invoice_title,e.orderCreateData.invoice[t].taxpayer_number=o.taxpayer_number,e.orderCreateData.invoice[t].invoice_content=o.invoice_content,e.orderCreateData.invoice[t].invoice_full_address=o.invoice_full_address,e.orderCreateData.invoice[t].is_tax_invoice=o.is_tax_invoice,e.orderCreateData.invoice[t].invoice_email=o.invoice_email,e.orderCreateData.invoice[t].invoice_title_type=o.invoice_title_type))}));var t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.invoice=JSON.stringify(t.invoice),t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/wholesale/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,Object.keys(t.data.shop_goods_list).forEach((function(i,o){var r=t.data.shop_goods_list[i];e.orderPaymentData.shop_goods_list[i].order_money=r.order_money,e.orderPaymentData.shop_goods_list[i].pay_money=r.pay_money,e.orderPaymentData.shop_goods_list[i].invoice_money=r.invoice_money,e.orderPaymentData.shop_goods_list[i].invoice_delivery_money=r.invoice_delivery_money})),e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),o.invoice=JSON.stringify(o.invoice),o.member_address=JSON.stringify(o.member_address),o.buyer_message=JSON.stringify(o.buyer_message),this.$api.sendRequest({url:"/wholesale/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message})),i.$store.dispatch("getWholeSaleNumber")},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;if(!/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list[t].express_type.length){e=!1,this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[t].site_name+"】未设置配送方式,请联系店铺管理员"});break}if(!e)return!1;var i=!0;for(var o in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[o])){i=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list[o].site_name+"】未设置配送方式,请联系店铺管理员"});break}if("store"==this.orderCreateData.delivery[o].delivery_type&&0==this.orderCreateData.delivery[o].store_id){i=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list[o].site_name+"】没有可提货的门店,请联系店铺管理员"});break}if("local"==this.orderCreateData.delivery[o].delivery_type&&(""==this.orderPaymentData.shop_goods_list[o].shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list[o].shop.shop_info.latitude)){i=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list[o].site_name+"】地址信息未完善,请联系店铺管理员"});break}if("local"==this.orderCreateData.delivery[o].delivery_type){if(!this.orderCreateData.delivery[o].canLocalDelicery){this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[o].site_name+"】已休息"}),i=!1;break}var r=parseInt(this.orderCreateData.delivery[o].buyer_ask_delivery_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery[o].buyer_ask_delivery_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery[o].start_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery[o].start_time.split(":")[1]),c=parseInt(this.orderCreateData.delivery[o].end_time.split(":")[0]),d=parseInt(this.orderCreateData.delivery[o].end_time.split(":")[1]);if(a!=c||n!=d){if(r<a||r==a&&s<n){this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[o].site_name+"】送达时间不能小于配送开始时间"}),i=!1;break}if(!(r>a&&r<c||r==a&&s>n||r==a&&s>=n&&r<c)){this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[o].site_name+"】送达时间范围：开始时间~结束时间"}),i=!1;break}}}}if(!i)return!1}return!0},openSiteDelivery:function(e,t){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.siteDelivery.site_id=e,this.siteDelivery.data=t,this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery[this.siteDelivery.site_id].delivery_type=e.name,this.orderCreateData.delivery[this.siteDelivery.site_id].delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery[this.siteDelivery.site_id].store_id=e.store_list[0].store_id,this.tempData.delivery[this.siteDelivery.site_id].store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery[this.siteDelivery.site_id].store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e,t){this.orderPaymentData.shop_goods_list[e].goods_list[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list[this.orderInvoice.site_id]=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},navigateTo:function(e){this.$util.redirectTo("/promotionpages/wholesale/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.subscribeMessage(),this.$refs.choosePaymentPopup.open())},subscribeMessage:function(){this.orderCreateData.delivery&&"express"!=this.orderCreateData.delivery.delivery_type&&(keywords="ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"),this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:keywords},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},"0c83":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"砍价专区"}},"0cb3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"提现记录"}},"0f13":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={computed:{Development:function(){return this.$store.state.Development},themeStyleScore:function(){return this.$store.state.themeStyle},themeStyle:function(){return"theme-"+this.$store.state.themeStyle},addonIsExit:function(){return this.$store.state.addonIsExit},wholeSaleNumber:function(){return this.$store.state.wholeSaleNumber},showToastValue:function(){return this.$store.state.showToastValue},diySeckillInterval:function(){return this.$store.state.diySeckillInterval}}}},"0f1b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"直播"}},"0f32":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的礼品",emptyTips:"暂无礼品"}},"0f40":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={tabBar:{home:"index",category:"category",cart:"cart",member:"member"},common:{name:"英文",mescrollTextInOffset:"pull to refresh",mescrollTextOutOffset:"Loading...",mescrollEmpty:"No data available",goodsRecommendTitle:"Guess you like",currencySymbol:"¥"}}},"11b0":function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"131f":function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("16e3")),c=(i("77ef"),{data:function(){return{seckill_id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:{},showKefu:0,goodsCircle:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.seckill_id=t.seckill_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("seckill_id")&&(i.seckill_id=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$store.dispatch("getAddonIsexit").then(function(){var i=(0,a.default)(s.default.mark((function i(o){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o.seckill){i.next=5;break}t.$util.showToast({title:"秒杀未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3),i.next=13;break;case 5:return t.$langConfig.refresh(),e.getStorageSync("token")&&(t.getCartCount(),t.getMemberId()),t.canGoConnect(),t.getKekuConfig(),i.next=11,t.getGoodsSkuDetail();case 11:t.modifyGoodsInfo(),t.getEvaluateConfig();case 13:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),i)})))()},methods:{canGoConnect:function(){var e=this;this.$api.sendRequest({url:"/api/addon/addonisexit",success:function(t){0==t.code&&t.data&&(e.showKefu=t.data.servicer)}})},goConnect:function(){if(e.getStorageSync("token")){var t={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id,type:"seckill",type_id:this.goodsSkuDetail.seckill_id};return this.$util.redirectTo("/otherpages/chat/room/room",t),!1}this.$refs.login.open("/promotionpages/seckill/detail/detail?seckill_id="+this.seckill_id)},getGoodsSkuDetail:function(){var t=this;return(0,a.default)(s.default.mark((function i(){var o,r,a,c,d,u,l;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.sendRequest({url:"/seckill/api/seckillgoods/detail",async:!1,data:{seckill_id:t.seckill_id}});case 2:if(o=i.sent,r=o.data,null!=r.goods_sku_detail){if(t.goodsSkuDetail=r.goods_sku_detail,t.shopInfo=r.shop_info,t.skuId=t.goodsSkuDetail.sku_id,t.goodsSkuDetail.goods_service=[],1==t.shopInfo.shop_baozh&&t.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==t.shopInfo.shop_qtian&&t.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==t.shopInfo.shop_zhping&&t.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==t.shopInfo.shop_erxiaoshi&&t.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==t.shopInfo.shop_tuihuo&&t.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==t.shopInfo.shop_shiyong&&t.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==t.shopInfo.shop_shiti&&t.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==t.shopInfo.shop_xiaoxie&&t.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),a=new Date(1e3*o.timestamp),c=60*a.getHours()*60+60*a.getMinutes()+a.getSeconds(),t.goodsSkuDetail.seckill_start_time<=c&&c<t.goodsSkuDetail.seckill_end_time?t.goodsSkuDetail.discountTimeMachine=t.$util.countDown(t.goodsSkuDetail.seckill_end_time-c):t.goodsSkuDetail.seckill_start_time>c&&c<t.goodsSkuDetail.seckill_end_time?(t.$util.showToast({title:"限时秒杀活动还未开始"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)):c<t.goodsSkuDetail.seckill_start_time&&c>t.goodsSkuDetail.seckill_end_time&&(t.$util.showToast({title:"限时秒杀活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.goodsSkuDetail.show_price=t.goodsSkuDetail.seckill_price,t.goodsSkuDetail.video_url&&(t.switchMedia="video"),t.goodsSkuDetail.sku_images?t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","):t.goodsSkuDetail.sku_images=[],t.goodsSkuDetail.goods_spec_format&&t.goodsSkuDetail.goods_image&&(t.goodsSkuDetail.goods_image=t.goodsSkuDetail.goods_image.split(","),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.concat(t.goodsSkuDetail.goods_image)),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.seckill_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.seckill_price).toFixed(2):0,t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_attr_format)for(d=JSON.parse(t.goodsSkuDetail.goods_attr_format),t.goodsSkuDetail.goods_attr_format=t.$util.unique(d,"attr_id"),u=0;u<t.goodsSkuDetail.goods_attr_format.length;u++)for(l=0;l<d.length;l++)t.goodsSkuDetail.goods_attr_format[u].attr_id==d[l].attr_id&&t.goodsSkuDetail.goods_attr_format[u].attr_value_id!=d[l].attr_value_id&&(t.goodsSkuDetail.goods_attr_format[u].attr_value_name+="、"+d[l].attr_value_name);t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.$langConfig.title(t.goodsSkuDetail.goods_name),t.goodsSkuDetail.goods_content&&(t.goodsSkuDetail.goods_content=(0,n.default)(t.goodsSkuDetail.goods_content)),t.contactData={title:t.goodsSkuDetail.sku_name,path:"/promotionpages/seckill/detail/detail?seckill_id="+t.seckill_id,img:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})},e.getStorageSync("token")&&t.getWhetherCollection(),t.setWechatShare(),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.getService(),t.getGoodScircleConfig()}else t.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return i.stop()}}),i)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},seckill:function(){e.getStorageSync("token")?this.$refs.goodsSku.show("seckill",(function(){})):this.$refs.login.open("/promotionpages/seckill/detail/detail?seckill_id="+this.seckill_id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/seckill/detail/detail?seckill_id="+this.seckill_id)},getCartCount:function(){var e=this;this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId,site_id:this.goodsSkuDetail.site_id},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(i){var o=i.width,r=parseFloat((740/o).toFixed(2));e.getStorageSync("token")?t.posterHeight=parseInt(1240/r):t.posterHeight=parseInt(1100/r)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.goodsSkuDetail.goods_id};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/seckill/api/seckillgoods/poster",data:{page:"/promotionpages/seckill/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImgError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",data:{site_id:this.goodsSkuDetail.site_id},success:function(t){0==t.code&&t.data&&(e.service=t.data)}})},setWechatShare:function(){},getGoodScircleConfig:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/config/info",success:function(t){0==t.code&&t.data.is_use&&e.goodsSyncToGoodsCircle()}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/seckill/detail/detail?seckill_id="+this.seckill_id;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data)}})},toEvaluateDetail:function(e){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:e})},navigate:function(e,t){this.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e)})},openVideo:function(e,t){this.$util.redirectTo("/otherpages/goods/preview-video",{video_url:e,video_img:t})},errorShopLogo:function(){this.shopInfo.avatar=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()}}});t.default=c}).call(this,i("543d")["default"],i("bc2e")["default"])},1357:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品列表"}},1525:function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("5bb4")),s=(o(i("fcc5d")),o(i("d4b5")),{sendRequest:function(t){var i=void 0!=t.data?"POST":"GET",o=r.default.baseUrl+t.url,s={app_type:"weapp",app_type_name:"微信小程序"};if(e.getStorageSync("token")&&(s.token=e.getStorageSync("token")),e.getStorageSync("website_id")&&(s.website_id=e.getStorageSync("website_id")),void 0!=t.data&&Object.assign(s,t.data),!1===t.async)return new Promise((function(r,a){e.request({url:o,method:i,data:s,header:t.header||{"content-type":"application/x-www-form-urlencoded;application/json"},dataType:t.dataType||"json",responseType:t.responseType||"text",success:function(t){t.data.refreshtoken&&e.setStorage({key:"token",data:t.data.refreshtoken}),-10009!=t.data.code&&-10010!=t.data.code||e.removeStorage({key:"token"}),r(t.data)},fail:function(e){a(e)},complete:function(e){a(e)}})}));e.request({url:o,method:i,data:s,header:t.header||{"content-type":"application/x-www-form-urlencoded;application/json"},dataType:t.dataType||"json",responseType:t.responseType||"text",success:function(i){i.data.refreshtoken&&e.setStorage({key:"token",data:i.data.refreshtoken}),-10009!=i.data.code&&-10010!=i.data.code||e.removeStorage({key:"token"}),"function"==typeof t.success&&t.success(i.data)},fail:function(e){"function"==typeof t.fail&&t.fail(e)},complete:function(e){"function"==typeof t.complete&&t.complete(e)}})}});t.default=s}).call(this,i("543d")["default"])},"15b6":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},"16e3":function(e,t,i){"use strict";var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("fcc5d")),s=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,a=/^<\/([-A-Za-z0-9_]+)[^>]*>/,n=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,c=f("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),d=f("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),u=f("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),l=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),h=f("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),p=f("script,style");function f(e){for(var t={},i=e.split(","),o=0;o<i.length;o++)t[i[o]]=!0;return t}var g=function(e){e=function(e){return e.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*>\n/,"").replace(/<!DOCTYPE.*>\n/,"")}(e),e=function(e){return e=e.replace(/<!--[\s\S]*-->/gi,""),e}(e),e=function(e){return e=e.replace(/\\/g,"").replace(/<img/g,'<img style="width:100% !important;display:block;"'),e=e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gi,(function(e,t){return'<img style="width:100% !important;display:block;" src="'+r.default.img(t)+'"/>'})),e}(e),e=function(e){return e=e.replace(/style\s*=\s*["][^>]*;[^"]?/gi,(function(e,t){return e=e.replace(/[:](\s?)[\s\S]*/gi,(function(e,t){return e.replace(/"/g,"'")})),e})),e}(e);var t=[],i={node:"root",children:[]};return function(e,t){var i,o,r,f=[],g=e;f.last=function(){return this[this.length-1]};while(e){if(o=!0,f.last()&&p[f.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+f.last()+"[^>]*>"),(function(e,i){return i=i.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),t.chars&&t.chars(i),""})),v("",f.last());else if(0==e.indexOf("\x3c!--")?(i=e.indexOf("--\x3e"),i>=0&&(t.comment&&t.comment(e.substring(4,i)),e=e.substring(i+3),o=!1)):0==e.indexOf("</")?(r=e.match(a),r&&(e=e.substring(r[0].length),r[0].replace(a,v),o=!1)):0==e.indexOf("<")&&(r=e.match(s),r&&(e=e.substring(r[0].length),r[0].replace(s,_),o=!1)),o){i=e.indexOf("<");var m=i<0?e:e.substring(0,i);e=i<0?"":e.substring(i),t.chars&&t.chars(m)}if(e==g)throw"Parse Error: "+e;g=e}function _(e,i,o,r){if(i=i.toLowerCase(),d[i])while(f.last()&&u[f.last()])v("",f.last());if(l[i]&&f.last()==i&&v("",i),r=c[i]||!!r,r||f.push(i),t.start){var s=[];o.replace(n,(function(e,t){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:h[t]?t:"";s.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})})),t.start&&t.start(i,s,r)}}function v(e,i){if(i){for(o=f.length-1;o>=0;o--)if(f[o]==i)break}else var o=0;if(o>=0){for(var r=f.length-1;r>=o;r--)t.end&&t.end(f[r]);f.length=o}}v()}(e,{start:function(e,o,r){var s={name:e};if(0!==o.length&&(s.attrs=function(e){return e.reduce((function(e,t){var i=t.value,o=t.name;return e[o]?e[o]=e[o]+" "+i:e[o]=i,e}),{})}(o)),r){var a=t[0]||i;a.children||(a.children=[]),a.children.push(s)}else t.unshift(s)},end:function(e){var o=t.shift();if(o.name!==e&&console.error("invalid state: mismatch end tag"),0===t.length)i.children.push(o);else{var r=t[0];r.children||(r.children=[]),r.children.push(o)}},chars:function(e){var o={type:"text",text:e};if(0===t.length)i.children.push(o);else{var r=t[0];r.children||(r.children=[]),r.children.push(o)}},comment:function(e){var i={node:"comment",text:e},o=t[0];o.children||(o.children=[]),o.children.push(i)}}),i.children};t.default=g},1831:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"中奖纪录"}},"19e4":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{cancleRefund:function(t,i){var o=this;e.showModal({content:"撤销之后本次申请将会关闭,如后续仍有问题可再次发起申请。",cancelText:"暂不撤销",cancelColor:"#898989",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/orderrefund/cancel",data:{order_goods_id:t},success:function(e){"function"==typeof i&&i(e)}})}})}}};t.default=i}).call(this,i("543d")["default"])},"1ad3":function(e,t){e.exports={error:"",check:function(e,t){for(var i=0;i<t.length;i++){if(!t[i].checkType)return!0;if(!t[i].name)return!0;if(!t[i].errorMsg)return!0;if(!e[t[i].name])return this.error=t[i].errorMsg,!1;switch(t[i].checkType){case"custom":if("function"==typeof t[i].validate&&!t[i].validate(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"required":var o=new RegExp("/[S]+/");if(o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"string":o=new RegExp("^.{"+t[i].checkRule+"}$");if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"int":o=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[i].checkRule+"}$");if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[i].name]))return this.error=t[i].errorMsg,!1;var r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"betweenD":o=/^-?[1-9][0-9]?$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"betweenF":o=/^-?[0-9][0-9]?.+[0-9]+$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;r=t[i].checkRule.split(",");if(r[0]=Number(r[0]),r[1]=Number(r[1]),e[t[i].name]>r[1]||e[t[i].name]<r[0])return this.error=t[i].errorMsg,!1;break;case"same":if(e[t[i].name]!=t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"notsame":if(e[t[i].name]==t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"email":o=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"phoneno":o=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"zipcode":o=/^[0-9]{6}$/;if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"reg":o=new RegExp(t[i].checkRule);if(!o.test(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"in":if(-1==t[i].checkRule.indexOf(e[t[i].name]))return this.error=t[i].errorMsg,!1;break;case"notnull":if(0==e[t[i].name]||void 0==e[t[i].name]||null==e[t[i].name]||e[t[i].name].length<1)return this.error=t[i].errorMsg,!1;break;case"lengthMin":if(e[t[i].name].length<t[i].checkRule)return this.error=t[i].errorMsg,!1;break;case"lengthMax":if(e[t[i].name].length>t[i].checkRule)return this.error=t[i].errorMsg,!1;break}}return!0},isNumber:function(e){return/^-?[1-9][0-9]?.?[0-9]*$/.test(e)}}},"1d4a":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:""},orderPaymentData:{member_account:{balance:0,is_pay_password:0,mobile:""},shop_goods_list:{site_name:"",express_type:[],invoice_config:{invoice_status:0}}},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},isSub:!1,tempData:null,siteDelivery:{site_id:0,data:[]}}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/bargain/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("bargainOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.orderCreateData.buyer_message="",this.$api.sendRequest({url:"/bargain/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";var e=this.orderPaymentData,t=(new Date).getHours().toString(),i=(new Date).getMinutes().toString();1==t.length&&(t="0"+t),1==i.length&&(i="0"+i);var o=t+":"+i,r=["周日","周一","周二","周三","周四","周五","周六"],s=["0","1","2","3","4","5","6"][(new Date).getDay()];if(void 0!=e.shop_goods_list.express_type&&void 0!=e.shop_goods_list.express_type[0]){var a=e.shop_goods_list.express_type;this.orderCreateData.delivery.delivery_type=a[0].name,this.orderCreateData.delivery.delivery_type_name=a[0].title,this.orderCreateData.delivery.store_id=0,"store"==a[0].name&&void 0!=a[0].store_list[0]&&(this.orderCreateData.delivery.store_id=a[0].store_list[0].store_id)}if(0==e.is_virtual&&e.shop_goods_list.local_config)if(e.shop_goods_list.local_config.info&&1==e.shop_goods_list.local_config.info.time_is_open){if(this.orderCreateData.delivery.showTimeBar=!0,this.orderCreateData.delivery.buyer_ask_delivery_time=o,0==e.shop_goods_list.local_config.info.time_week.length||7==e.shop_goods_list.local_config.info.time_week.length||e.shop_goods_list.local_config.info.time_week.indexOf(s)>-1?this.orderCreateData.delivery.canLocalDelicery=!0:this.orderCreateData.delivery.canLocalDelicery=!1,0==e.shop_goods_list.local_config.info.time_type)this.orderCreateData.delivery.deliveryWeek="全天";else if(e.shop_goods_list.local_config.info.time_week.length>0)if(7==e.shop_goods_list.local_config.info.time_week.length)this.orderCreateData.delivery.deliveryWeek="全天",this.orderCreateData.delivery.showTime=!1;else{this.orderCreateData.delivery.showTime=!0;for(var n=e.shop_goods_list.local_config.info.time_week,c=!1,d=0;d<n.length;d++)if(d+1<n.length){var u=n[d+1]-n[d];if(u>1){c=!0;break}}if(c){var l=[];for(d=0;d<n.length;d++)l.push(r[n[d]]);this.orderCreateData.delivery.deliveryWeek=l.join("、")}else this.orderCreateData.delivery.deliveryWeek=r[n[0]]+"至"+r[n[n.length-1]]}else this.orderCreateData.delivery.deliveryWeek="店铺未设置配送时间";var h=e.shop_goods_list.local_config.info.start_time;this.orderCreateData.delivery.start_time=this.getTimeStr(h);var p=e.shop_goods_list.local_config.info.end_time;this.orderCreateData.delivery.end_time=this.getTimeStr(p);var f=new Date(this.$util.timeStampTurnTime(e.timestamp)),g=f.getHours(),m=f.getMinutes(),_=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),v=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),y=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),D=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);this.orderCreateData.delivery.canLocalDelicery&&(_==y&&v==D||((g<_||g==_&&m<v)&&(this.orderCreateData.delivery.buyer_ask_delivery_time=(1==_.toString().length?"0"+_:_)+":"+(1==v.toString().length?"0"+v:v)),(g>y||g==y&&m>D)&&(this.orderCreateData.delivery.canLocalDelicery=!1)))}else this.orderCreateData.delivery.showTimeBar=!1,this.orderCreateData.delivery.deliveryWeek="店铺未开启配送时间";e.shop_goods_list.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),Object.assign(e,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.orderPaymentData.shop_goods_list.site_id,i={};i[t]=this.orderCreateData.delivery;var o={};o[t]=this.orderCreateData.buyer_message,this.orderPaymentData.shop_goods_list.is_invoice&&(this.orderCreateData.invoice[t]={},Array.isArray(this.orderPaymentData.shop_goods_list.invoice_config)||(this.orderCreateData.invoice[t].is_invoice=this.orderPaymentData.shop_goods_list.is_invoice,this.orderCreateData.invoice[t].invoice_type=this.orderPaymentData.shop_goods_list.invoice_type,this.orderCreateData.invoice[t].invoice_title=this.orderPaymentData.shop_goods_list.invoice_title,this.orderCreateData.invoice[t].taxpayer_number=this.orderPaymentData.shop_goods_list.taxpayer_number,this.orderCreateData.invoice[t].invoice_content=this.orderPaymentData.shop_goods_list.invoice_content,this.orderCreateData.invoice[t].invoice_full_address=this.orderPaymentData.shop_goods_list.invoice_full_address,this.orderCreateData.invoice[t].is_tax_invoice=this.orderPaymentData.shop_goods_list.is_tax_invoice,this.orderCreateData.invoice[t].invoice_email=this.orderPaymentData.shop_goods_list.invoice_email,this.orderCreateData.invoice[t].invoice_title_type=this.orderPaymentData.shop_goods_list.invoice_title_type));var r=this.$util.deepClone(this.orderCreateData);r.delivery=JSON.stringify(i),r.invoice=JSON.stringify(r.invoice),r.member_address=JSON.stringify(r.member_address),r.buyer_message=JSON.stringify(o),this.$api.sendRequest({url:"/bargain/api/ordercreate/calculate",data:r,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.orderPaymentData.shop_goods_list.site_id,r={};r[o]=this.orderCreateData.delivery;var s={};s[o]=this.orderCreateData.buyer_message;var a=this.$util.deepClone(this.orderCreateData);a.delivery=JSON.stringify(r),a.invoice=JSON.stringify(a.invoice),a.member_address=JSON.stringify(a.member_address),a.buyer_message=JSON.stringify(s),this.$api.sendRequest({url:"/bargain/api/ordercreate/create",data:a,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_account.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;if(!/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.orderPaymentData.member_account.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list.express_type.length){e=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式"});break}if(!e)return!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式，请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】没有可提货的门店,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type&&(""==this.orderPaymentData.shop_goods_list.shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list.shop.shop_info.latitude))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】地址信息未完善,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.canLocalDelicery)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】已休息"}),!1;var i=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[0]),o=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[1]),r=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);if(r!=a||s!=n){if(i<r||i==r&&o<s)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间不能小于配送开始时间"}),!1;if(!(i>r&&i<a||i==r&&o>s||i==r&&o>=s&&i<a))return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间范围：开始时间~结束时间"}),!1}}}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery.store_id=e.store_list[0].store_id,this.tempData.delivery.store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.subscribeMessage(),this.$refs.choosePaymentPopup.open())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)},bargainPrice:function(){return this.orderPaymentData&&this.orderPaymentData.bargain_info?(Number(this.orderPaymentData.bargain_info.price)-Number(this.orderPaymentData.bargain_info.curr_price)).toFixed(2):0}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},2075:function(e,t,i){var o={"./en-us/common.js":"0f40","./zh-cn/common.js":"6916"};function r(e){var t=s(e);return i(t)}function s(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id="2075"},"213d":function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("5bb4")),s={data:function(){return{timeoutObj:null,servicer_id:null,pingInterval:r.default.pingInterval}},onLoad:function(){e.onSocketClose((function(e){console.log("WebSocket 已关闭！")})),this.checkOpenSocket()},onShow:function(){console.log("显示"),this.checkOpenSocket()},methods:{checkOpenSocket:function(){console.log("判断是否已连接");var t=this;e.sendSocketMessage({data:"ping",success:function(e){console.log("连接成功,检查")},fail:function(e){console.log("连接失败"),t.openConnection()}})},openConnection:function(){console.log("打开连接"),e.closeSocket(),e.connectSocket({url:r.default.webSocket,method:"POST",success:function(e){console.log("连接成功 connectSocket=",e)},fail:function(e){console.log("连接失败 connectSocket=",e)}}),e.onSocketOpen((function(e){console.log("连接成功",e)})),this.onSocketMessage()},onSocketMessage:function(){var t=this;console.log("开始监听");var i=this;this.pingInterval=r.default.pingInterval,this.timeoutObj=null,e.onSocketMessage((function(o){var r=JSON.parse(o.data);if("close"==r.type)return clearInterval(i.timeoutObj),i.timeoutObj=null,void e.closeSocket();t.reset(),t.getSocketMsg(o.data)}))},getSocketMsg:function(e){var t=this,i=this,o=JSON.parse(e),r={isItMe:!1};if(console.log(o,"giveMsg"),r.contentType=o.type,"init"==o.type)i.$api.sendRequest({url:"/servicer/api/chat/bind",data:{client_id:o.data.client_id,site_id:i.siteId},success:function(e){console.log(e,"结合时事规范化吉安市加工费");var t={};0==e.code?(i.servicer_id=e.data.servicer_id,t.contentType="online",i.messageList.push(t)):(i.servicer_id=0,t.contentType="noline",i.messageList.push(t)),i.getChatList()}});else if("connect"==o.type){if(console.log(i.siteId,"site_id"),console.log(o.data.shop_id,"giveMsg.data.shop_id"),i.siteId==o.data.shop_id){i.servicer_id=o.data.servicer_id;for(var s=i.messageList,a=null,n=0;n<s.length;n++)"online"!=s[n].contentType&&"noline"!=s[n].contentType||(a=n);s.splice(a,1),i.messageList=s;var c={};i.servicer_id>0?c.contentType="online":0==i.servicer_id&&(c.contentType="noline"),i.messageList.push(c)}}else"string"==o.type?(console.log(o,"giveMsg"),i.siteId==o.data.shop_id&&(r.content=o.data.servicer_say,r.avatar=o.data.avatar)):"image"==o.type?i.siteId==o.data.shop_id&&(r.image=o.data.servicer_say,r.avatar=o.data.avatar):"order"==o.type?i.siteId==o.data.shop_id&&(r.order_id=o.data.order_id,r.avatar=o.data.avatar):"goodssku"==o.type&&i.siteId==o.data.shop_id&&(r.sku_id=o.data.goods_sku_id,r.avatar=o.data.avatar);"init"!=o.type&&i.siteId==o.data.shop_id&&(i.messageList.push(r),console.log(i.messageList,"that.messageList"),this.$nextTick((function(){t.setPageScrollTo()})))},reset:function(){console.log("检测心跳"),clearInterval(this.timeoutObj),this.start()},start:function(){console.log("启动心跳");var t=this;this.timeoutObj=setInterval((function(){e.sendSocketMessage({data:"ping",success:function(e){console.log("连接中....")},fail:function(e){console.log("连接失败重新连接...."),t.openConnection()}})}),this.pingInterval)}},onHide:function(){clearInterval(this.timeoutObj),this.timeoutObj=null,this.$api.sendRequest({url:"/servicer/api/chat/bye",data:{servicer_id:this.servicer_id,site_id:this.siteId},success:function(t){e.closeSocket()},fail:function(t){e.closeSocket()}})},onUnload:function(){clearInterval(this.timeoutObj),this.timeoutObj=null,this.$api.sendRequest({url:"/servicer/api/chat/bye",data:{servicer_id:this.servicer_id,site_id:this.siteId},success:function(t){e.closeSocket()},fail:function(t){e.closeSocket()}})}};t.default=s}).call(this,i("543d")["default"])},"21f9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},2236:function(e,t,i){var o=i("5a43");e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"22a4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},2488:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"个人资料",headImg:"头像",account:"账号",nickname:"昵称",realName:"真实姓名",sex:"性别",birthday:"生日",password:"密码",paypassword:"支付密码",mobilePhone:"手机",bindMobile:"绑定手机",cancellation:"注销账号",lang:"语言",logout:"退出登录",save:"保存",noset:"未设置",nickPlaceholder:"请输入新昵称",pleaseRealName:"请输入真实姓名",nowPassword:"当前密码",newPassword:"新密码",confirmPassword:"确认新密码",phoneNumber:"手机号",confirmCode:"验证码",confirmCodeInput:"请输入验证码",confirmCodeInputerror:"验证码错误",findanimateCode:"获取动态码",animateCode:"动态码",animateCodeInput:"请输入动态码",modifyNickname:"修改昵称",modifyPassword:"修改密码",bindPhone:"绑定手机",alikeNickname:"与原昵称一致，无需修改",noEmityNickname:"昵称不能为空",updateSuccess:"修改成功",pleaseInputOldPassword:"请输入原始密码",pleaseInputNewPassword:"请输入新密码",passwordLength:"密码长度不能小于6位",alikePassword:"两次密码不一致",samePassword:"新密码不能与原密码相同",surePhoneNumber:"请输入正确的手机号",alikePhone:"与原手机号一致，无需修改",modify:"修改"}},2584:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"充值列表"}},2664:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的关注"}},"26cb":function(e,t,i){"use strict";(function(t){var i="undefined"!==typeof window?window:"undefined"!==typeof t?t:{},o=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var i=function(e,t){return e.filter(t)[0]}(t,(function(t){return t.original===e}));if(i)return i.copy;var o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.keys(e).forEach((function(i){o[i]=r(e[i],t)})),o}function s(e,t){Object.keys(e).forEach((function(i){return t(e[i],i)}))}function a(e){return null!==e&&"object"===typeof e}var n=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"===typeof i?i():i)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},n.prototype.addChild=function(e,t){this._children[e]=t},n.prototype.removeChild=function(e){delete this._children[e]},n.prototype.getChild=function(e){return this._children[e]},n.prototype.hasChild=function(e){return e in this._children},n.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},n.prototype.forEachChild=function(e){s(this._children,e)},n.prototype.forEachGetter=function(e){this._rawModule.getters&&s(this._rawModule.getters,e)},n.prototype.forEachAction=function(e){this._rawModule.actions&&s(this._rawModule.actions,e)},n.prototype.forEachMutation=function(e){this._rawModule.mutations&&s(this._rawModule.mutations,e)},Object.defineProperties(n.prototype,c);var d=function(e){this.register([],e,!1)};d.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},d.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,i){return t=t.getChild(i),e+(t.namespaced?i+"/":"")}),"")},d.prototype.update=function(e){(function e(t,i,o){0;if(i.update(o),o.modules)for(var r in o.modules){if(!i.getChild(r))return void 0;e(t.concat(r),i.getChild(r),o.modules[r])}})([],this.root,e)},d.prototype.register=function(e,t,i){var o=this;void 0===i&&(i=!0);var r=new n(t,i);if(0===e.length)this.root=r;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],r)}t.modules&&s(t.modules,(function(t,r){o.register(e.concat(r),t,i)}))},d.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],o=t.getChild(i);o&&o.runtime&&t.removeChild(i)},d.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var u;var l=function(e){var t=this;void 0===e&&(e={}),!u&&"undefined"!==typeof window&&window.Vue&&y(window.Vue);var i=e.plugins;void 0===i&&(i=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new d(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u,this._makeLocalGettersCache=Object.create(null);var s=this,a=this.dispatch,n=this.commit;this.dispatch=function(e,t){return a.call(s,e,t)},this.commit=function(e,t,i){return n.call(s,e,t,i)},this.strict=r;var c=this._modules.root.state;m(this,c,[],this._modules.root),g(this,c),i.forEach((function(e){return e(t)}));var l=void 0!==e.devtools?e.devtools:u.config.devtools;l&&function(e){o&&(e._devtoolHook=o,o.emit("vuex:init",e),o.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){o.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){o.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},h={state:{configurable:!0}};function p(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function f(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;m(e,i,[],e._modules.root,!0),g(e,i,t)}function g(e,t,i){var o=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var r=e._wrappedGetters,a={};s(r,(function(t,i){a[i]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})}));var n=u.config.silent;u.config.silent=!0,e._vm=new u({data:{$$state:t},computed:a}),u.config.silent=n,e.strict&&function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),o&&(i&&e._withCommit((function(){o._data.$$state=null})),u.nextTick((function(){return o.$destroy()})))}function m(e,t,i,o,r){var s=!i.length,a=e._modules.getNamespace(i);if(o.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=o),!s&&!r){var n=_(t,i.slice(0,-1)),c=i[i.length-1];e._withCommit((function(){u.set(n,c,o.state)}))}var d=o.context=function(e,t,i){var o=""===t,r={dispatch:o?e.dispatch:function(i,o,r){var s=v(i,o,r),a=s.payload,n=s.options,c=s.type;return n&&n.root||(c=t+c),e.dispatch(c,a)},commit:o?e.commit:function(i,o,r){var s=v(i,o,r),a=s.payload,n=s.options,c=s.type;n&&n.root||(c=t+c),e.commit(c,a,n)}};return Object.defineProperties(r,{getters:{get:o?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var i={},o=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,o)===t){var s=r.slice(o);Object.defineProperty(i,s,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return _(e.state,i)}}}),r}(e,a,i);o.forEachMutation((function(t,i){var o=a+i;(function(e,t,i,o){var r=e._mutations[t]||(e._mutations[t]=[]);r.push((function(t){i.call(e,o.state,t)}))})(e,o,t,d)})),o.forEachAction((function(t,i){var o=t.root?i:a+i,r=t.handler||t;(function(e,t,i,o){var r=e._actions[t]||(e._actions[t]=[]);r.push((function(t){var r=i.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return function(e){return e&&"function"===typeof e.then}(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):r}))})(e,o,r,d)})),o.forEachGetter((function(t,i){var o=a+i;(function(e,t,i,o){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return i(o.state,o.getters,e.state,e.getters)}})(e,o,t,d)})),o.forEachChild((function(o,s){m(e,t,i.concat(s),o,r)}))}function _(e,t){return t.reduce((function(e,t){return e[t]}),e)}function v(e,t,i){return a(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function y(e){u&&e===u||(u=e,
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:o});else{var i=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[o].concat(e.init):o,i.call(this,e)}}function o(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(u))}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(e){0},l.prototype.commit=function(e,t,i){var o=this,r=v(e,t,i),s=r.type,a=r.payload,n=(r.options,{type:s,payload:a}),c=this._mutations[s];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(n,o.state)})))},l.prototype.dispatch=function(e,t){var i=this,o=v(e,t),r=o.type,s=o.payload,a={type:r,payload:s},n=this._actions[r];if(n){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,i.state)}))}catch(d){0}var c=n.length>1?Promise.all(n.map((function(e){return e(s)}))):n[0](s);return new Promise((function(e,t){c.then((function(t){try{i._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,i.state)}))}catch(d){0}e(t)}),(function(e){try{i._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,i.state,e)}))}catch(d){0}t(e)}))}))}},l.prototype.subscribe=function(e,t){return p(e,this._subscribers,t)},l.prototype.subscribeAction=function(e,t){var i="function"===typeof e?{before:e}:e;return p(i,this._actionSubscribers,t)},l.prototype.watch=function(e,t,i){var o=this;return this._watcherVM.$watch((function(){return e(o.state,o.getters)}),t,i)},l.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},l.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),m(this,this.state,e,this._modules.get(e),i.preserveState),g(this,this.state)},l.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var i=_(t.state,e.slice(0,-1));u.delete(i,e[e.length-1])})),f(this)},l.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},l.prototype[[104,111,116,85,112,100,97,116,101].map((function(e){return String.fromCharCode(e)})).join("")]=function(e){this._modules.update(e),f(this,!0)},l.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(l.prototype,h);var D=w((function(e,t){var i={};return P(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var o=T(this.$store,"mapState",e);if(!o)return;t=o.context.state,i=o.context.getters}return"function"===typeof r?r.call(this,t,i):t[r]},i[o].vuex=!0})),i})),S=w((function(e,t){var i={};return P(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var o=this.$store.commit;if(e){var s=T(this.$store,"mapMutations",e);if(!s)return;o=s.context.commit}return"function"===typeof r?r.apply(this,[o].concat(t)):o.apply(this.$store,[r].concat(t))}})),i})),b=w((function(e,t){var i={};return P(t).forEach((function(t){var o=t.key,r=t.val;r=e+r,i[o]=function(){if(!e||T(this.$store,"mapGetters",e))return this.$store.getters[r]},i[o].vuex=!0})),i})),C=w((function(e,t){var i={};return P(t).forEach((function(t){var o=t.key,r=t.val;i[o]=function(){var t=[],i=arguments.length;while(i--)t[i]=arguments[i];var o=this.$store.dispatch;if(e){var s=T(this.$store,"mapActions",e);if(!s)return;o=s.context.dispatch}return"function"===typeof r?r.apply(this,[o].concat(t)):o.apply(this.$store,[r].concat(t))}})),i}));function P(e){return function(e){return Array.isArray(e)||a(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function w(e){return function(t,i){return"string"!==typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function T(e,t,i){var o=e._modulesNamespaceMap[i];return o}function k(e,t,i){var o=i?e.groupCollapsed:e.group;try{o.call(e,t)}catch(r){e.log(t)}}function L(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function Y(){var e=new Date;return" @ "+$(e.getHours(),2)+":"+$(e.getMinutes(),2)+":"+$(e.getSeconds(),2)+"."+$(e.getMilliseconds(),3)}function $(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e}var Z={Store:l,install:y,version:"3.6.2",mapState:D,mapMutations:S,mapGetters:b,mapActions:C,createNamespacedHelpers:function(e){return{mapState:D.bind(null,e),mapGetters:b.bind(null,e),mapMutations:S.bind(null,e),mapActions:C.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var o=e.transformer;void 0===o&&(o=function(e){return e});var s=e.mutationTransformer;void 0===s&&(s=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var n=e.actionTransformer;void 0===n&&(n=function(e){return e});var c=e.logMutations;void 0===c&&(c=!0);var d=e.logActions;void 0===d&&(d=!0);var u=e.logger;return void 0===u&&(u=console),function(e){var l=r(e.state);"undefined"!==typeof u&&(c&&e.subscribe((function(e,a){var n=r(a);if(i(e,l,n)){var c=Y(),d=s(e),h="mutation "+e.type+c;k(u,h,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",o(l)),u.log("%c mutation","color: #03A9F4; font-weight: bold",d),u.log("%c next state","color: #4CAF50; font-weight: bold",o(n)),L(u)}l=n})),d&&e.subscribeAction((function(e,i){if(a(e,i)){var o=Y(),r=n(e),s="action "+e.type+o;k(u,s,t),u.log("%c action","color: #03A9F4; font-weight: bold",r),L(u)}})))}}};e.exports=Z}).call(this,i("c8ba"))},2744:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"订单列表",emptyTips:"暂无订单"}},"278c":function(e,t,i){var o=i("c135"),r=i("9b42"),s=i("6613"),a=i("c240");e.exports=function(e,t){return o(e)||r(e,t)||s(e,t)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"27ca":function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("16e3")),c=(i("77ef"),{data:function(){return{skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",couponList:[],couponBtnSwitch:!1,isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,manjian:{type:0,manjian_name:"",rule_json:null},goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},bundling:[{bundling_goods:{bl_name:"",sku_image:""}}],memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:{},preview:0,goodsCircle:!1,levelInfo:{},showFenxiao:0,showKefu:0,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},computed:{showDiscount:function(){var e=!1;return(0==this.preview&&this.addonIsExit.discount&&1==this.goodsSkuDetail.promotion_type&&this.goodsSkuDetail.discountTimeMachine||0==this.preview&&this.addonIsExit.discount&&0==this.goodsSkuDetail.promotion_type&&this.goodsSkuDetail.member_price>0)&&(e=!0),e},addonIsExit:function(){return this.$store.state.addonIsExit}},onLoad:function(t){var i=this;if(this.skuId=t.sku_id||0,this.preview=t.preview||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("sku_id")&&(i.skuId=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),e.getStorageSync("token")&&0==t.preview&&(t.getCartCount(),t.getMemberId()),t.getKekuConfig(),i.next=5,t.getGoodsSkuDetail();case 5:if(0!=t.preview){i.next=14;break}return t.modifyGoodsInfo(),t.getCoupon(),t.getManjian(),t.getEvaluateConfig(),t.getBundling(),i.next=13,t.getAddonisexit();case 13:0!=t.showFenxiao&&t.getFenxiaoGoodsDetail();case 14:case"end":return i.stop()}}),i)})))()},onHide:function(){this.couponBtnSwitch=!1},methods:{goConnect:function(){if(e.getStorageSync("token")){var t=this.goodsSkuDetail.goods_promotion[0],i={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id};return t&&(t.bargain_id&&(i.type="bargain",i.type_id=t.bargain_id),t.discount_id&&(i.type="discount",i.type_id=t.discount_id)),this.$util.redirectTo("/otherpages/chat/room/room",i),!1}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.goodsSkuDetail.sku_id)},getFenxiaoGoodsDetail:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/goods/detail",data:{sku_id:this.skuId},success:function(t){0==t.code&&t.data&&(e.levelInfo=t.data)}})},getAddonisexit:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/api/addon/addonisexit",async:!1,success:function(e){}});case 2:i=t.sent,0==i.code&&i.data&&(e.showKefu=i.data.servicer,e.showFenxiao=i.data.fenxiao);case 4:case"end":return t.stop()}}),t)})))()},getGoodsSkuDetail:function(t){var i=this;return(0,a.default)(s.default.mark((function o(){var r,a,c,d,u;return s.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i.skuId=t||i.skuId,o.next=3,i.$api.sendRequest({url:"/api/goodssku/detail",async:!1,data:{sku_id:i.skuId}});case 3:if(r=o.sent,a=r.data,null==a.goods_sku_detail){o.next=42;break}if("presale"!=a.goods_sku_detail.promotion_type){o.next=9;break}return i.$util.redirectTo("/promotionpages/presale/detail/detail",{id:a.goods_sku_detail.presale_id,sku_id:i.skuId},"reLaunch"),o.abrupt("return");case 9:if(i.goodsSkuDetail=a.goods_sku_detail,i.goodsSkuDetail.preview=i.preview,i.shopInfo=a.shop_info,i.skuId=i.goodsSkuDetail.sku_id,i.goodsSkuDetail.goods_service=[],1==i.shopInfo.shop_baozh&&i.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==i.shopInfo.shop_qtian&&i.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==i.shopInfo.shop_zhping&&i.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==i.shopInfo.shop_erxiaoshi&&i.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==i.shopInfo.shop_tuihuo&&i.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==i.shopInfo.shop_shiyong&&i.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==i.shopInfo.shop_shiti&&i.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==i.shopInfo.shop_xiaoxie&&i.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),i.goodsSkuDetail.video_url&&(i.switchMedia="video"),i.goodsSkuDetail.sku_images?i.goodsSkuDetail.sku_images=i.goodsSkuDetail.sku_images.split(","):i.goodsSkuDetail.sku_images=[],i.goodsSkuDetail.goods_spec_format&&i.goodsSkuDetail.goods_image&&(i.goodsSkuDetail.goods_image=i.goodsSkuDetail.goods_image.split(","),i.goodsSkuDetail.sku_images=i.goodsSkuDetail.sku_images.concat(i.goodsSkuDetail.goods_image)),i.goodsSkuDetail.unit=i.goodsSkuDetail.unit||"件",i.goodsSkuDetail.sku_spec_format&&(i.goodsSkuDetail.sku_spec_format=JSON.parse(i.goodsSkuDetail.sku_spec_format)),i.goodsSkuDetail.goods_attr_format)for(c=JSON.parse(i.goodsSkuDetail.goods_attr_format),i.goodsSkuDetail.goods_attr_format=i.$util.unique(c,"attr_id"),d=0;d<i.goodsSkuDetail.goods_attr_format.length;d++)for(u=0;u<c.length;u++)i.goodsSkuDetail.goods_attr_format[d].attr_id==c[u].attr_id&&i.goodsSkuDetail.goods_attr_format[d].attr_value_id!=c[u].attr_value_id&&(i.goodsSkuDetail.goods_attr_format[d].attr_value_name+="、"+c[u].attr_value_name);i.goodsSkuDetail.goods_spec_format&&(i.goodsSkuDetail.goods_spec_format=JSON.parse(i.goodsSkuDetail.goods_spec_format)),i.$langConfig.title(i.goodsSkuDetail.goods_name),i.goodsSkuDetail.goods_content&&(i.goodsSkuDetail.goods_content=(0,n.default)(i.goodsSkuDetail.goods_content)),1==i.goodsSkuDetail.promotion_type&&i.addonIsExit.discount&&(i.goodsSkuDetail.end_time-r.timestamp>0?i.goodsSkuDetail.discountTimeMachine=i.$util.countDown(i.goodsSkuDetail.end_time-r.timestamp):i.goodsSkuDetail.promotion_type=0),1==i.goodsSkuDetail.promotion_type&&i.goodsSkuDetail.discountTimeMachine?i.goodsSkuDetail.show_price=i.goodsSkuDetail.discount_price:i.goodsSkuDetail.member_price>0?i.goodsSkuDetail.show_price=i.goodsSkuDetail.member_price:i.goodsSkuDetail.show_price=i.goodsSkuDetail.price,i.contactData={title:i.goodsSkuDetail.sku_name,path:"/pages/goods/detail/detail?sku_id="+i.skuId,img:i.$util.img(i.goodsSkuDetail.sku_image,{size:"big"})},e.getStorageSync("token")&&0==i.preview&&i.getWhetherCollection(),i.setWechatShare(),i.$refs.goodsPromotion&&i.$refs.goodsPromotion.refresh(i.goodsSkuDetail.goods_promotion),i.$refs.loadingCover&&i.$refs.loadingCover.hide(),i.getService(),i.getGoodScircleConfig(),o.next=43;break;case 42:i.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 43:case"end":return o.stop()}}),o)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.$refs.goodsPromotion&&this.$refs.goodsPromotion.refresh(this.goodsSkuDetail.goods_promotion),this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.preview||this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.preview||this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},joinCart:function(){var t=this;e.getStorageSync("token")||0!=this.preview?1==this.goodsSkuDetail.is_virtual?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.$refs.goodsSku.show("join_cart",(function(){t.getCartCount()})):this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId)},buyNow:function(){var t=this;e.getStorageSync("token")||0!=this.preview?this.$refs.goodsSku.show("buy_now",(function(){t.getCartCount()})):this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},getCoupon:function(){var e=this;this.$api.sendRequest({url:"/coupon/api/coupon/typelists",data:{site_id:this.shopInfo.site_id,goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.couponList=i)}})},openCouponPopup:function(){this.$refs.couponPopup.open()},closeCouponPopup:function(){this.$refs.couponPopup.close()},receiveCoupon:function(t,i){var o=this;this.preview||this.couponBtnSwitch||(this.couponBtnSwitch=!0,e.getStorageSync("token")?this.$api.sendRequest({url:"/coupon/api/coupon/receive",data:{site_id:t.site_id,coupon_type_id:t.coupon_type_id,get_type:2},success:function(e){e.data;var t=e.message;0==e.code&&(t="领取成功"),o.$util.showToast({title:t}),o.couponBtnSwitch=!1,e.data.is_exist&&o.refreshCoupon(i)}}):(this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId),this.couponBtnSwitch=!1))},refreshCoupon:function(e){this.couponList[e].is_lingqu=1,this.$forceUpdate()},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;this.preview||(e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId))},getCartCount:function(){var e=this;this.preview||this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.preview||(this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId,site_id:this.goodsSkuDetail.site_id},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{sku_id:this.skuId},success:function(e){}}))},getManjian:function(){var e=this;this.$api.sendRequest({url:"/manjian/api/manjian/info",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(i){e.manjian=i;var o=0==i.type?"元":"件";Object.keys(i.rule_json).forEach((function(t){var r=i.rule_json[t];if(r.limit=0==i.type?parseFloat(r.money).toFixed(2):parseInt(r.money),void 0!=r.discount_money&&(void 0==e.manjian.manjian?e.manjian.manjian="满"+r.limit+o+"减"+r.discount_money+"元":e.manjian.manjian+="；满"+r.limit+o+"减"+r.discount_money+"元"),void 0!=r.point||void 0!=r.coupon){var s="";void 0!=r.point&&(s="送"+r.point+"积分"),void 0!=r.coupon&&void 0!=r.coupon_data&&("discount"==r.coupon_data.type?""==s?s="送一张"+r.coupon_data.discount+"折优惠券":s+="、送一张"+r.coupon_data.discount+"折优惠券":""==s?s="送一张"+r.coupon_data.money+"元优惠券":s+="、送一张"+r.coupon_data.money+"元优惠券"),void 0==e.manjian.mansong?e.manjian.mansong="满"+r.limit+o+s:e.manjian.mansong+="；满"+r.limit+o+s}void 0!=r.free_shipping&&(void 0==e.manjian.free_shipping?e.manjian.free_shipping="满"+r.limit+o+"包邮":e.manjian.free_shipping+="；满"+r.limit+o+"包邮"),void 0!=r.present&&(void 0==e.manjian.present?e.manjian.present=[{limit:"满"+r.limit+o+"赠",present_data:r.present_data}]:e.manjian.present.push({limit:"满"+r.limit+o+"赠",present_data:r.present_data}))}))}}})},openManjianPopup:function(){this.$refs.manjianPopup.open()},closeManjianPopup:function(){this.$refs.manjianPopup.close()},getBundling:function(){var e=this;this.$api.sendRequest({url:"/bundling/api/bundling/lists",data:{sku_id:this.skuId},success:function(t){if(t.data&&t.data.length){e.bundling=t.data;for(var i=0;i<e.bundling.length;i++)for(var o=0;o<e.bundling[i].bundling_goods.length;o++)e.bundling[i].bundling_goods[o].sku_id==e.skuId&&e.bundling[i].bundling_goods.splice(o,1)}}})},openBundlingPopup:function(){this.$refs.bundlingPopup.open()},closeBundlingPopup:function(){this.$refs.bundlingPopup.close()},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(i){var o=i.width,r=parseFloat((740/o).toFixed(2));e.getStorageSync("token")?t.posterHeight=parseInt(1120/r):t.posterHeight=parseInt(1100/r)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={sku_id:this.skuId};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/api/goods/poster",data:{page:"/pages/goods/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},imgError:function(){this.goodsSkuDetail.sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},swiperImgError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},bundlingImgError:function(e,t){this.bundling[e].bundling_goods[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",data:{site_id:this.goodsSkuDetail.site_id},success:function(t){0==t.code&&t.data&&(e.service=t.data)}})},fenxiao:function(){this.$refs.fenxiaoPopup.show()},setWechatShare:function(){},getGoodScircleConfig:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/config/info",success:function(t){0==t.code&&t.data.is_use&&e.goodsSyncToGoodsCircle()}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t="【"+this.goodsSkuDetail.sku_name+"】发现好物，一起来看看吧。"+this.$config.h5Domain+"/pages/goods/detail/detail?sku_id="+this.skuId;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data)}})},toGoodsDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},toComoDetail:function(e){this.$util.redirectTo("/promotionpages/combo/detail/detail",{bl_id:e})},toEvaluateDetail:function(e){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:e})},navigate:function(e,t){this.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e)})},openVideo:function(e,t){this.$util.redirectTo("/otherpages/goods/preview-video",{video_url:e,video_img:t})},errorShopLogo:function(){this.shopInfo.avatar=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()}}});t.default=c}).call(this,i("543d")["default"],i("bc2e")["default"])},"287d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"优惠券领取"}},"293f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"订单列表",emptyTips:"暂无相关订单",all:"全部",waitPay:"待付款",readyDelivery:"待发货",waitDelivery:"待收货",waitEvaluate:"待评价",update:"释放刷新",updateIng:"加载中..."}},"2aee":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"兑换"}},"2eb7":function(e,t,i){(function(e,o){var r,s=i("9523"),a=i("7037");!function(e,s){"object"==a(t)&&"object"==a(o)?o.exports=s(e):(r=function(){return s(e)}.call(t,i,t,o),void 0===r||(o.exports=r))}(window,(function(t,i){function o(e,i,o){t.WeixinJSBridge?WeixinJSBridge.invoke(e,a(i),(function(t){c(e,t,o)})):u(e,o)}function r(e,i,o){t.WeixinJSBridge?WeixinJSBridge.on(e,(function(t){o&&o.trigger&&o.trigger(t),c(e,t,i)})):u(e,o||i)}function a(e){return(e=e||{}).appId=L.appId,e.verifyAppId=L.appId,e.verifySignType="sha1",e.verifyTimestamp=L.timestamp+"",e.verifyNonceStr=L.nonceStr,e.verifySignature=L.signature,e}function n(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function c(e,t,i){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var o=t.errMsg;o||(o=t.err_msg,delete t.err_msg,o=function(e,t){var i=e,o=g[i];o&&(i=o);var r="ok";if(t){var s=t.indexOf(":");"confirm"==(r=t.substring(s+1))&&(r="ok"),"failed"==r&&(r="fail"),-1!=r.indexOf("failed_")&&(r=r.substring(7)),-1!=r.indexOf("fail_")&&(r=r.substring(5)),"access denied"!=(r=(r=r.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=r||(r="permission denied"),"config"==i&&"function not exist"==r&&(r="ok"),""==r&&(r="fail")}return i+":"+r}(e,o),t.errMsg=o),(i=i||{})._complete&&(i._complete(t),delete i._complete),o=t.errMsg||"",L.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t));var r=o.indexOf(":");switch(o.substring(r+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function d(e){if(e){for(var t=0,i=e.length;t<i;++t){var o=e[t],r=f[o];r&&(e[t]=r)}return e}}function u(e,t){if(!(!L.debug||t&&t.isInnerInvoke)){var i=g[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function l(){return(new Date).getTime()}function h(e){b&&(t.WeixinJSBridge?e():m.addEventListener&&m.addEventListener("WeixinJSBridgeReady",e,!1))}if(!t.jWeixin){var p,f={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},g=function(){var e={};for(var t in f)e[f[t]]=t;return e}(),m=t.document,_=m.title,v=navigator.userAgent.toLowerCase(),y=navigator.platform.toLowerCase(),D=!(!y.match("mac")&&!y.match("win")),S=-1!=v.indexOf("wxdebugger"),b=-1!=v.indexOf("micromessenger"),C=-1!=v.indexOf("android"),P=-1!=v.indexOf("iphone")||-1!=v.indexOf("ipad"),w=(X=v.match(/micromessenger\/(\d+\.\d+\.\d+)/)||v.match(/micromessenger\/(\d+\.\d+)/))?X[1]:"",T={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},k={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:P?1:C?2:-1,clientVersion:w,url:encodeURIComponent(location.href)},L={},Y={_completes:[]},$={state:0,data:{}};h((function(){T.initEndTime=l()}));var Z=!1,I=[],M=(p={config:function(e){u("config",L=e);var i=!1!==L.check;h((function(){if(i)o(f.config,{verifyJsApiList:d(L.jsApiList)},function(){Y._complete=function(e){T.preVerifyEndTime=l(),$.state=1,$.data=e},Y.success=function(e){k.isPreVerifyOk=0},Y.fail=function(e){Y._fail?Y._fail(e):$.state=-1};var e=Y._completes;return e.push((function(){!function(e){if(!(D||S||L.debug||w<"6.0.2"||k.systemType<0)){var t=new Image;k.appId=L.appId,k.initTime=T.initEndTime-T.initStartTime,k.preVerifyTime=T.preVerifyEndTime-T.preVerifyStartTime,M.getNetworkType({isInnerInvoke:!0,success:function(e){k.networkType=e.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+k.version+"&o="+k.isPreVerifyOk+"&s="+k.systemType+"&c="+k.clientVersion+"&a="+k.appId+"&n="+k.networkType+"&i="+k.initTime+"&p="+k.preVerifyTime+"&u="+k.url;t.src=i}})}}()})),Y.complete=function(t){for(var i=0,o=e.length;i<o;++i)e[i]();Y._completes=[]},Y}()),T.preVerifyStartTime=l();else{$.state=1;for(var e=Y._completes,t=0,r=e.length;t<r;++t)e[t]();Y._completes=[]}})),M.invoke||(M.invoke=function(e,i,o){t.WeixinJSBridge&&WeixinJSBridge.invoke(e,a(i),o)},M.on=function(e,i){t.WeixinJSBridge&&WeixinJSBridge.on(e,i)})},ready:function(e){0!=$.state?e():(Y._completes.push(e),!b&&L.debug&&e())},error:function(e){w<"6.0.2"||(-1==$.state?e($.data):Y._fail=e)},checkJsApi:function(e){o("checkJsApi",{jsApiList:d(e.jsApiList)},(e._complete=function(e){if(C){var t=e.checkResult;t&&(e.checkResult=JSON.parse(t))}e=function(e){var t=e.checkResult;for(var i in t){var o=g[i];o&&(t[o]=t[i],delete t[i])}return e}(e)},e))},onMenuShareTimeline:function(e){r(f.onMenuShareTimeline,{complete:function(){o("shareTimeline",{title:e.title||_,desc:e.title||_,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){r(f.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?o("sendAppMessage",{title:e.title||_,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):o("sendAppMessage",{title:e.title||_,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){r(f.onMenuShareQQ,{complete:function(){o("shareQQ",{title:e.title||_,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){r(f.onMenuShareWeibo,{complete:function(){o("shareWeiboApp",{title:e.title||_,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){r(f.onMenuShareQZone,{complete:function(){o("shareQZone",{title:e.title||_,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){o("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){o("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){o("startRecord",{},e)},stopRecord:function(e){o("stopRecord",{},e)},onVoiceRecordEnd:function(e){r("onVoiceRecordEnd",e)},playVoice:function(e){o("playVoice",{localId:e.localId},e)},pauseVoice:function(e){o("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){o("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){r("onVoicePlayEnd",e)},uploadVoice:function(e){o("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){o("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){o("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){o("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(C){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){o(f.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){o("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){o("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(t){!1===Z?(Z=!0,o("getLocalImgData",{localId:t.localId},(t._complete=function(t){if(Z=!1,0<I.length){var i=I.shift();e.getLocalImgData(i)}},t))):I.push(t)},getNetworkType:function(e){o("getNetworkType",{},(e._complete=function(e){e=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var o=t.indexOf(":"),r=t.substring(o+1);switch(r){case"wifi":case"edge":case"wwan":e.networkType=r;break;default:e.errMsg="getNetworkType:fail"}}return e}(e)},e))},openLocation:function(e){o("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},s(p,"getLocation",(function(e){o(f.getLocation,{type:(e=e||{}).type||"wgs84"},(e._complete=function(e){delete e.type},e))})),s(p,"hideOptionMenu",(function(e){o("hideOptionMenu",{},e)})),s(p,"showOptionMenu",(function(e){o("showOptionMenu",{},e)})),s(p,"closeWindow",(function(e){o("closeWindow",{},e=e||{})})),s(p,"hideMenuItems",(function(e){o("hideMenuItems",{menuList:e.menuList},e)})),s(p,"showMenuItems",(function(e){o("showMenuItems",{menuList:e.menuList},e)})),s(p,"hideAllNonBaseMenuItem",(function(e){o("hideAllNonBaseMenuItem",{},e)})),s(p,"showAllNonBaseMenuItem",(function(e){o("showAllNonBaseMenuItem",{},e)})),s(p,"scanQRCode",(function(e){o("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(P){var t=e.resultStr;if(t){var i=JSON.parse(t);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))})),s(p,"openAddress",(function(e){o(f.openAddress,{},(e._complete=function(e){var t;(t=e).postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,e=t},e))})),s(p,"openProductSpecificView",(function(e){o(f.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)})),s(p,"addCard",(function(e){for(var t=e.cardList,i=[],r=0,s=t.length;r<s;++r){var a=t[r],n={card_id:a.cardId,card_ext:a.cardExt};i.push(n)}o(f.addCard,{card_list:i},(e._complete=function(e){var t=e.card_list;if(t){for(var i=0,o=(t=JSON.parse(t)).length;i<o;++i){var r=t[i];r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ}e.cardList=t,delete e.card_list}},e))})),s(p,"chooseCard",(function(e){o("chooseCard",{app_id:L.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))})),s(p,"openCard",(function(e){for(var t=e.cardList,i=[],r=0,s=t.length;r<s;++r){var a=t[r],n={card_id:a.cardId,code:a.code};i.push(n)}o(f.openCard,{card_list:i},e)})),s(p,"consumeAndShareCard",(function(e){o(f.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)})),s(p,"chooseWXPay",(function(e){o(f.chooseWXPay,n(e),e)})),s(p,"openEnterpriseRedPacket",(function(e){o(f.openEnterpriseRedPacket,n(e),e)})),s(p,"startSearchBeacons",(function(e){o(f.startSearchBeacons,{ticket:e.ticket},e)})),s(p,"stopSearchBeacons",(function(e){o(f.stopSearchBeacons,{},e)})),s(p,"onSearchBeacons",(function(e){r(f.onSearchBeacons,e)})),s(p,"openEnterpriseChat",(function(e){o("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)})),s(p,"launchMiniProgram",(function(e){o("launchMiniProgram",{targetAppId:e.targetAppId,path:function(e){if("string"==typeof e&&0<e.length){var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?t+"?"+i:t}}(e.path),envVersion:e.envVersion},e)})),s(p,"miniProgram",{navigateBack:function(e){e=e||{},h((function(){o("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)}))},navigateTo:function(e){h((function(){o("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)}))},redirectTo:function(e){h((function(){o("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)}))},switchTab:function(e){h((function(){o("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)}))},reLaunch:function(e){h((function(){o("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)}))},postMessage:function(e){h((function(){o("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)}))},getEnv:function(e){h((function(){e({miniprogram:"miniprogram"===t.__wxjs_environment})}))}}),p),J=1,x={};return m.addEventListener("error",(function(t){if(!C){var i=t.target,o=i.tagName,r=i.src;if(("IMG"==o||"VIDEO"==o||"AUDIO"==o||"SOURCE"==o)&&-1!=r.indexOf("wxlocalresource://")){t.preventDefault(),t.stopPropagation();var s=i["wx-id"];if(s||(s=J++,i["wx-id"]=s),x[s])return;x[s]=!0,e.ready((function(){e.getLocalImgData({localId:r,success:function(e){i.src=e.localData}})}))}}}),!0),m.addEventListener("load",(function(e){if(!C){var t=e.target,i=t.tagName;if(t.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var o=t["wx-id"];o&&(x[o]=!1)}}}),!0),i&&(t.wx=t.jWeixin=M),M}var X}))}).call(this,i("bc2e")["default"],i("62e4")(e))},"2eee":function(e,t,i){var o=i("7ec2")();e.exports=o},3304:function(e,t,i){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{authInfo:{}}},methods:{getCode:function(t){var o=this;e.login({provider:"weixin",timeout:3e3,success:function(e){e.code&&o.$api.sendRequest({url:"/weapp/api/weapp/authcodetoopenid",data:{code:e.code},success:function(e){e.code>=0?(e.data.openid&&(o.authInfo.weapp_openid=e.data.openid),e.data.unionid&&(o.authInfo.wx_unionid=e.data.unionid),"function"==typeof t&&t(o.authInfo)):o.$util.showToast({title:e.message?e.message:"小程序配置错误"})}})},fail:function(e){var t=i.getLaunchOptionsSync().scene;-1==[1154,1155].indexOf(t)&&o.$util.showToast({title:e.errMsg})}})}}};t.default=o}).call(this,i("543d")["default"],i("bc2e")["default"])},"34ab":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"团购专区"}},"350a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"订单详情"}},"372a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"编辑账户",name:"姓名",namePlaceholder:"请输入真实姓名",mobilePhone:"手机号码",mobilePhonePlaceholder:"请输入手机号",accountType:"账号类型",bankInfo:"支行信息",bankInfoPlaceholder:"请输入支行信息",withdrawalAccount:"提现账号",withdrawalAccountPlaceholder:"请输入提现账号",save:"保存"}},"378c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},"37dc":function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.LOCALE_ZH_HANT=t.LOCALE_ZH_HANS=t.LOCALE_FR=t.LOCALE_ES=t.LOCALE_EN=t.I18n=t.Formatter=void 0,t.compileI18nJsonStr=function(e,t){var i=t.locale,o=t.locales,r=t.delimiters;if(!w(e,r))return e;C||(C=new l);var s=[];Object.keys(o).forEach((function(e){e!==i&&s.push({locale:e,values:o[e]})})),s.unshift({locale:i,values:o[i]});try{return JSON.stringify(k(JSON.parse(e),s,r),null,2)}catch(a){}return e},t.hasI18nJson=function e(t,i){C||(C=new l);return L(t,(function(t,o){var r=t[o];return P(r)?!!w(r,i)||void 0:e(r,i)}))},t.initVueI18n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if("string"!==typeof e){var r=[t,e];e=r[0],t=r[1]}"string"!==typeof e&&(e=b());"string"!==typeof i&&(i="undefined"!==typeof __uniConfig&&__uniConfig.fallbackLocale||"en");var s=new D({locale:e,fallbackLocale:i,messages:t,watcher:o}),a=function(e,t){if("function"!==typeof getApp)a=function(e,t){return s.t(e,t)};else{var i=!1;a=function(e,t){var o=getApp().$vm;return o&&(o.$locale,i||(i=!0,S(o,s))),s.t(e,t)}}return a(e,t)};return{i18n:s,f:function(e,t,i){return s.f(e,t,i)},t:function(e,t){return a(e,t)},add:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return s.add(e,t,i)},watch:function(e){return s.watchLocale(e)},getLocale:function(){return s.getLocale()},setLocale:function(e){return s.setLocale(e)}}},t.isI18nStr=w,t.isString=void 0,t.normalizeLocale=y,t.parseI18nJson=function e(t,i,o){C||(C=new l);return L(t,(function(t,r){var s=t[r];P(s)?w(s,o)&&(t[r]=T(s,i,o)):e(s,i,o)})),t},t.resolveLocale=function(e){return function(t){return t?(t=y(t)||t,function(e){var t=[],i=e.split("-");while(i.length)t.push(i.join("-")),i.pop();return t}(t).find((function(t){return e.indexOf(t)>-1}))):t}};var s=r(i("278c")),a=r(i("970b")),n=r(i("5bc3")),c=r(i("7037")),d=function(e){return null!==e&&"object"===(0,c.default)(e)},u=["{","}"],l=function(){function e(){(0,a.default)(this,e),this._caches=Object.create(null)}return(0,n.default)(e,[{key:"interpolate",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;if(!t)return[e];var o=this._caches[e];return o||(o=f(e,i),this._caches[e]=o),g(o,t)}}]),e}();t.Formatter=l;var h=/^(?:\d)+/,p=/^(?:\w)+/;function f(e,t){var i=(0,s.default)(t,2),o=i[0],r=i[1],a=[],n=0,c="";while(n<e.length){var d=e[n++];if(d===o){c&&a.push({type:"text",value:c}),c="";var u="";d=e[n++];while(void 0!==d&&d!==r)u+=d,d=e[n++];var l=d===r,f=h.test(u)?"list":l&&p.test(u)?"named":"unknown";a.push({value:u,type:f})}else c+=d}return c&&a.push({type:"text",value:c}),a}function g(e,t){var i=[],o=0,r=Array.isArray(t)?"list":d(t)?"named":"unknown";if("unknown"===r)return i;while(o<e.length){var s=e[o];switch(s.type){case"text":i.push(s.value);break;case"list":i.push(t[parseInt(s.value,10)]);break;case"named":"named"===r&&i.push(t[s.value]);break;case"unknown":0;break}o++}return i}t.LOCALE_ZH_HANS="zh-Hans";t.LOCALE_ZH_HANT="zh-Hant";t.LOCALE_EN="en";t.LOCALE_FR="fr";t.LOCALE_ES="es";var m=Object.prototype.hasOwnProperty,_=function(e,t){return m.call(e,t)},v=new l;function y(e,t){if(e){if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),"chinese"===e)return"zh-Hans";if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?"zh-Hans":e.indexOf("-hant")>-1||function(e,t){return!!t.find((function(t){return-1!==e.indexOf(t)}))}(e,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var i=["en","fr","es"];t&&Object.keys(t).length>0&&(i=Object.keys(t));var o=function(e,t){return t.find((function(t){return 0===e.indexOf(t)}))}(e,i);return o||void 0}}var D=function(){function e(t){var i=t.locale,o=t.fallbackLocale,r=t.messages,s=t.watcher,n=t.formater;(0,a.default)(this,e),this.locale="en",this.fallbackLocale="en",this.message={},this.messages={},this.watchers=[],o&&(this.fallbackLocale=o),this.formater=n||v,this.messages=r||{},this.setLocale(i||"en"),s&&this.watchLocale(s)}return(0,n.default)(e,[{key:"setLocale",value:function(e){var t=this,i=this.locale;this.locale=y(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],i!==this.locale&&this.watchers.forEach((function(e){e(t.locale,i)}))}},{key:"getLocale",value:function(){return this.locale}},{key:"watchLocale",value:function(e){var t=this,i=this.watchers.push(e)-1;return function(){t.watchers.splice(i,1)}}},{key:"add",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.messages[e];o?i?Object.assign(o,t):Object.keys(t).forEach((function(e){_(o,e)||(o[e]=t[e])})):this.messages[e]=t}},{key:"f",value:function(e,t,i){return this.formater.interpolate(e,t,i).join("")}},{key:"t",value:function(e,t,i){var o=this.message;return"string"===typeof t?(t=y(t,this.messages),t&&(o=this.messages[t])):i=t,_(o,e)?this.formater.interpolate(o[e],i).join(""):(console.warn("Cannot translate the value of keypath ".concat(e,". Use the value of keypath as default.")),e)}}]),e}();function S(e,t){e.$watchLocale?e.$watchLocale((function(e){t.setLocale(e)})):e.$watch((function(){return e.$locale}),(function(e){t.setLocale(e)}))}function b(){return"undefined"!==typeof e&&e.getLocale?e.getLocale():"undefined"!==typeof o&&o.getLocale?o.getLocale():"en"}t.I18n=D;var C,P=function(e){return"string"===typeof e};function w(e,t){return e.indexOf(t[0])>-1}function T(e,t,i){return C.interpolate(e,t,i).join("")}function k(e,t,i){return L(e,(function(e,o){(function(e,t,i,o){var r=e[t];if(P(r)){if(w(r,o)&&(e[t]=T(r,i[0].values,o),i.length>1)){var s=e[t+"Locales"]={};i.forEach((function(e){s[e.locale]=T(r,e.values,o)}))}}else k(r,i,o)})(e,o,t,i)})),e}function L(e,t){if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(t(e,i))return!0}else if(d(e))for(var o in e)if(t(e,o))return!0;return!1}t.isString=P}).call(this,i("543d")["default"],i("c8ba"))},3953:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"订单详情"}},"3a80":function(e,t){},"3a8a":function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("16e3")),c=(i("77ef"),{data:function(){return{skuId:0,goodsId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:null,showKefu:0,goodsCircle:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.skuId=t.sku_id||0,this.goodsId=t.goods_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("sku_id")&&(i.skuId=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$store.dispatch("getAddonIsexit").then(function(){var i=(0,a.default)(s.default.mark((function i(o){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o.wholesale){i.next=5;break}t.$util.showToast({title:"批发活动未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3),i.next=13;break;case 5:return t.$langConfig.refresh(),e.getStorageSync("token")&&(t.getCartCount(),t.getMemberId()),t.canGoConnect(),t.getKekuConfig(),i.next=11,t.getGoodsSkuDetail();case 11:t.modifyGoodsInfo(),t.getEvaluateConfig();case 13:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 1:case"end":return i.stop()}}),i)})))()},methods:{canGoConnect:function(){var e=this;this.$api.sendRequest({url:"/api/addon/addonisexit",success:function(t){0==t.code&&t.data&&(e.showKefu=t.data.servicer)}})},goConnect:function(){if(e.getStorageSync("token")){var t={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id};return this.$util.redirectTo("/otherpages/chat/room/room",t),!1}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(t){var i=this;return(0,a.default)(s.default.mark((function o(){var r,a,n,c,d;return s.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i.skuId=t||i.skuId,o.next=3,i.$api.sendRequest({url:"/wholesale/api/goods/detail",async:!1,data:{goods_id:i.goodsId}});case 3:if(r=o.sent,a=r.data,null!=a.goods_sku_detail){if(i.goodsSkuDetail=a.goods_sku_detail,i.shopInfo=a.shop_info,i.skuId=i.goodsSkuDetail.sku_id,i.goodsSkuDetail.goods_service=[],1==i.shopInfo.shop_baozh&&i.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==i.shopInfo.shop_qtian&&i.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==i.shopInfo.shop_zhping&&i.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==i.shopInfo.shop_erxiaoshi&&i.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==i.shopInfo.shop_tuihuo&&i.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==i.shopInfo.shop_shiyong&&i.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==i.shopInfo.shop_shiti&&i.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==i.shopInfo.shop_xiaoxie&&i.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),i.goodsSkuDetail.video_url&&(i.switchMedia="video"),i.goodsSkuDetail.sku_images?i.goodsSkuDetail.sku_images=i.goodsSkuDetail.sku_images.split(","):i.goodsSkuDetail.sku_images=[],i.goodsSkuDetail.goods_spec_format&&i.goodsSkuDetail.goods_image&&(i.goodsSkuDetail.goods_image=i.goodsSkuDetail.goods_image.split(","),i.goodsSkuDetail.sku_images=i.goodsSkuDetail.sku_images.concat(i.goodsSkuDetail.goods_image)),i.goodsSkuDetail.unit=i.goodsSkuDetail.unit||"件",i.goodsSkuDetail.sku_spec_format&&(i.goodsSkuDetail.sku_spec_format=JSON.parse(i.goodsSkuDetail.sku_spec_format)),i.goodsSkuDetail.goods_attr_format)for(n=JSON.parse(i.goodsSkuDetail.goods_attr_format),i.goodsSkuDetail.goods_attr_format=i.$util.unique(n,"attr_id"),c=0;c<i.goodsSkuDetail.goods_attr_format.length;c++)for(d=0;d<n.length;d++)i.goodsSkuDetail.goods_attr_format[c].attr_id==n[d].attr_id&&i.goodsSkuDetail.goods_attr_format[c].attr_value_id!=n[d].attr_value_id&&(i.goodsSkuDetail.goods_attr_format[c].attr_value_name+="、"+n[d].attr_value_name);i.goodsSkuDetail.goods_spec_format&&(i.goodsSkuDetail.goods_spec_format=JSON.parse(i.goodsSkuDetail.goods_spec_format)),i.$langConfig.title(i.goodsSkuDetail.goods_name),i.contactData={title:i.goodsSkuDetail.sku_name,path:"/promotionpages/wholesale/detail/detail?sku_id="+i.skuId,img:i.$util.img(i.goodsSkuDetail.sku_image,{size:"big"})},e.getStorageSync("token")&&i.getWhetherCollection(),i.setWechatShare(),i.$refs.loadingCover&&i.$refs.loadingCover.hide(),i.getGoodScircleConfig()}else i.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 6:case"end":return o.stop()}}),o)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.$util.redirectTo("/promotionpages/wholesale/cartList/cartList")},wholesaleJoinCart:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("wholesale_join_cart",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/wholesale/detail/detail?sku_id="+this.skuId)},wholesaleBuyNow:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("wholesale_buy_now",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/wholesale/detail/detail?sku_id="+this.skuId)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/wholesale/detail/detail?sku_id="+this.skuId)},getCartCount:function(){var e=this;this.$store.dispatch("getWholeSaleNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId,site_id:this.goodsSkuDetail.site_id},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(i){var o=i.width,r=parseFloat((740/o).toFixed(2));e.getStorageSync("token")?t.posterHeight=parseInt(1120/r):t.posterHeight=parseInt(1100/r)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={goods_id:this.goodsId};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/wholesale/api/goods/poster",data:{page:"/promotionpages/wholesale/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImgError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,n.default)(t.data.content))}}})},setWechatShare:function(){},getGoodScircleConfig:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/config/info",success:function(t){0==t.code&&t.data.is_use&&e.goodsSyncToGoodsCircle()}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t="【"+this.goodsSkuDetail.sku_name+"】发现好物，一起来看看吧。"+this.$config.h5Domain+"/promotionpages/wholesale/detail/detail?goods_id="+this.goodsId;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data)}})},toEvaluateDetail:function(e){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:e})},navigate:function(e,t){this.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e)})},openVideo:function(e,t){this.$util.redirectTo("/otherpages/goods/preview-video",{video_url:e,video_img:t})},errorShopLogo:function(){this.shopInfo.avatar=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()}}});t.default=c}).call(this,i("543d")["default"],i("bc2e")["default"])},"3ba8":function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("2eee")),s=o(i("c973")),a={data:function(){return{token:"",memberInfo:{balance:0,balance_money:0,point:0},couponNum:{platform_num:0,coupon_num:0},orderNum:{waitPay:0,readyDelivery:0,waitDelivery:0,waitEvaluate:0,refunding:0},isVerification:!0,copyrightLoad:0,bottom_info:{},authInfo:{is_verifier:!1},perMessageCount:"",shopTop:!1,scrollTop:0,shopConfig:null,promoterInfo:null,withdrawConfig:null,fenxiaoBasicsConfig:null,defaultInfo:{topStyle:"default",bgColor:"#ff454f",textColor:"#fff",bgImg:"",menuList:[],insertGap:"0",menuStyle:"palace",level:1},signState:1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1},avatarUrl:"",headImg:"",nickName:"",isDisabled:!1}},onLoad:function(t){var i=this;e.hideTabBar(),this.addonIsExit.memberwithdraw&&this.getWithdrawConfig(),this.addonIsExit.fenxiao&&this.getFenxiaoBasicsConfig(),this.getEvaluateConfig(),t.code&&this.$api.sendRequest({url:"/wechat/api/wechat/authcodetoopenid",data:{code:t.code},success:function(e){e.code>=0&&(e.data.userinfo.nickName&&i.modifyNickname(e.data.userinfo.nickName),e.data.userinfo.avatarUrl&&i.modifyHeadimg(e.data.userinfo.avatarUrl))}})},computed:{storeToken:function(){return this.$store.state.token},defaultBgColor:function(){var e="";return"default"!=this.defaultInfo.topStyle&&(e="background:"+this.defaultInfo.bgColor),e},defaultBgImg:function(){var e="";return e="default"!=this.defaultInfo.topStyle?this.defaultInfo.bgImg?this.$util.img(this.defaultInfo.bgImg):"":this.$util.img("upload/uniapp/member/index/member_bg.png"),e},defaultTextColor:function(){var e="";return"default"!=this.defaultInfo.topStyle&&(e="color:"+this.defaultInfo.textColor+" !important"),e}},watch:{storeToken:function(){var e=(0,s.default)(r.default.mark((function e(t,i){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.addonIsExit.membersignin){e.next=3;break}return e.next=3,this.getSignState();case 3:return e.next=5,this.getMemberInfo();case 5:this.getOrderNum(),this.getCouponNum(),this.checkIsVerifier();case 8:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},onReady:function(){var e=this;return(0,s.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.addonIsExit.membersignin){t.next=3;break}return t.next=3,e.getSignState();case 3:return t.next=5,e.getDefaultInfo();case 5:e.$refs.loadingCover&&e.$refs.loadingCover.hide();case 6:case"end":return t.stop()}}),t)})))()},onShow:function(){var t=this;return(0,s.default)(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.$langConfig.refresh(),t.$store.dispatch("getAddonIsexit").then((function(e){e.sitemessage})),t.token=e.getStorageSync("token"),e.getStorageSync("userInfo")&&(t.memberInfo=e.getStorageSync("userInfo")),e.getStorageSync("authInfo")&&(t.authInfo=e.getStorageSync("authInfo")),!t.token){i.next=17;break}if(!t.addonIsExit.membersignin){i.next=9;break}return i.next=9,t.getSignState();case 9:return i.next=11,t.getMemberInfo();case 11:t.getOrderNum(),t.getCouponNum(),t.checkIsVerifier(),t.addonIsExit.sitemessage&&t.getPerMessageCount(),i.next=18;break;case 17:t.initInfo();case 18:t.$forceUpdate();case 19:case"end":return i.stop()}}),i)})))()},methods:{getSignState:function(){var e=this;return(0,s.default)(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/api/membersignin/getSignStatus",async:!1});case 2:i=t.sent,0==i.code&&(e.signState=i.data.is_use);case 4:case"end":return t.stop()}}),t)})))()},getDefaultInfo:function(){var e=this;return(0,s.default)(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/api/diyview/memberindex",async:!1});case 2:i=t.sent,0==i.code&&(e.defaultInfo.topStyle=i.data.topStyle,e.defaultInfo.bgColor=i.data.bgColor,e.defaultInfo.textColor=i.data.textColor,e.defaultInfo.bgImg=i.data.bgImg,e.defaultInfo.menuStyle=i.data.menuStyle,e.defaultInfo.menuList=i.data.menuList,e.defaultInfo.insertGap=i.data.insertGap,e.defaultInfo.level=i.data.level||1);case 4:case"end":return t.stop()}}),t)})))()},redirectToLink:function(t){e.getStorageSync("token")?this.$util.redirectTo(t):this.$refs.login.open(t)},initInfo:function(){this.token="",this.memberInfo={balance:"0.00",balance_money:"0.00",point:0},this.orderNum={waitPay:0,readyDelivery:0,waitDelivery:0,waitEvaluate:0,refunding:0},this.authInfo={is_verifier:!1},e.stopPullDownRefresh()},getMemberInfo:function(){var t=this;return(0,s.default)(r.default.mark((function i(){var o;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.sendRequest({url:"/api/member/info",async:!1});case 2:o=i.sent,o.code>=0&&o.data?(t.token=e.getStorageSync("token"),t.memberInfo=o.data,t.headImg=t.memberInfo.headimg,t.nickName=t.memberInfo.nickname,t.avatarUrl=t.headImg?t.$util.img(t.headImg):t.$util.getDefaultImage().default_headimg,e.setStorageSync("userInfo",t.memberInfo)):(t.token="",t.initInfo(),e.removeStorageSync("token"),e.removeStorageSync("userInfo")),e.stopPullDownRefresh();case 5:case"end":return i.stop()}}),i)})))()},onPullDownRefresh:function(){e.getStorageSync("token")?this.getMemberInfo():this.initInfo()},getPerMessageCount:function(){var e=this;this.$api.sendRequest({url:"/sitemessage/api/sitemessage/getpermessagecount",data:{},success:function(t){0==t.code&&(e.perMessageCount=t.data.count)}})},getOrderNum:function(){var e=this;this.$api.sendRequest({url:"/api/order/num",data:{order_status:"waitpay,waitsend,waitconfirm,waitrate,refunding"},success:function(t){0==t.code&&(e.orderNum.waitPay=t.data.waitpay,e.orderNum.readyDelivery=t.data.waitsend,e.orderNum.waitDelivery=t.data.waitconfirm,e.orderNum.waitEvaluate=t.data.waitrate,e.orderNum.refunding=t.data.refunding),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},getCouponNum:function(){var e=this;this.$api.sendRequest({url:"/api/member/couponnum",success:function(t){0==t.code&&(e.couponNum=t.data)}})},checkIsVerifier:function(){var t=this;this.$api.sendRequest({url:"/api/verify/checkisverifier",success:function(i){t.authInfo.is_verifier=0==i.code,e.setStorageSync("authInfo",t.authInfo),t.$forceUpdate()}})},jumpLevel:function(){e.getStorageSync("token")?this.$util.redirectTo("/otherpages/member/level/level"):this.$refs.login.open("/pages/member/index/index")},getWithdrawConfig:function(){var e=this;this.$api.sendRequest({url:"/api/memberwithdraw/config",success:function(t){t.code>=0&&t.data&&(e.withdrawConfig=t.data,e.$forceUpdate())}})},getFenxiaoBasicsConfig:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/config/basics",success:function(t){t.code>=0&&(e.fenxiaoBasicsConfig=t.data,e.$forceUpdate())}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i}}})},menuIsShow:function(e){switch(e.tag){case"fenxiao":return 1==this.addonIsExit.fenxiao&&this.fenxiaoBasicsConfig&&this.fenxiaoBasicsConfig.level>0&&this.fenxiaoBasicsConfig.is_apply;case"memberwithdraw":return this.withdrawConfig&&1==this.withdrawConfig.is_use;case"membersignin":return 1==this.signState;case"verifier":return this.authInfo.is_verifier;default:return!0}},getWxAuth:function(){this.openCompleteInfoPop()},modifyNickname:function(e){var t=this;this.$api.sendRequest({url:"/api/member/modifynickname",data:{nickname:e},success:function(i){0==i.code&&(t.memberInfo.nickname=e)}})},modifyHeadimg:function(e){var t=this;this.$api.sendRequest({url:"/api/member/modifyheadimg",data:{headimg:e},success:function(i){0==i.code&&(t.memberInfo.headimg=e)}})},openCompleteInfoPop:function(){this.$refs.completeInfoPopup.open()},saveCompleteInfo:function(){0!=this.nickName.length?(this.modifyNickname(this.nickName),this.modifyHeadimg(this.headImg),this.$refs.completeInfoPopup.close()):this.$util.showToast({title:"请输入昵称"})},cancelCompleteInfo:function(){this.$refs.completeInfoPopup.close()},blurNickName:function(e){e.detail.value&&(this.nickName=e.detail.value)},onChooseAvatar:function(t){var i=this;this.avatarUrl=t.detail.avatarUrl,e.getFileSystemManager().readFile({filePath:this.avatarUrl,encoding:"base64",success:function(e){var t="data:image/jpeg;base64,"+e.data;i.myUpload(t)}})},myUpload:function(t){var i=this;e.request({url:this.$config.baseUrl+"/api/upload/headimgBase64",method:"POST",data:{app_type:"weapp",app_type_name:"weapp",images:t},header:{"content-type":"application/x-www-form-urlencoded;application/json"},dataType:"json",responseType:"text",success:function(e){0==e.data.code?i.headImg=e.data.data.pic_path:i.$util.showToast({title:e.message})},fail:function(){i.$util.showToast({title:"上传失败"})}})}}};t.default=a}).call(this,i("543d")["default"])},"3bb1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"修改头像"}},"3f59":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:""},orderPaymentData:{member_account:{balance:0,is_pay_password:0,mobile:""},shop_goods_list:{site_name:"",express_type:[],invoice_config:{invoice_status:0}},topic_info:{}},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},isSub:!1,tempData:null,siteDelivery:{site_id:0,data:[]}}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/topics/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("topicOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.orderCreateData.buyer_message="",this.$api.sendRequest({url:"/topic/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";var e=this.orderPaymentData,t=(new Date).getHours().toString(),i=(new Date).getMinutes().toString();1==t.length&&(t="0"+t),1==i.length&&(i="0"+i);var o=t+":"+i,r=["周日","周一","周二","周三","周四","周五","周六"],s=["0","1","2","3","4","5","6"][(new Date).getDay()];if(void 0!=e.shop_goods_list.express_type&&void 0!=e.shop_goods_list.express_type[0]){var a=e.shop_goods_list.express_type;this.orderCreateData.delivery.delivery_type=a[0].name,this.orderCreateData.delivery.delivery_type_name=a[0].title,this.orderCreateData.delivery.store_id=0,"store"==a[0].name&&void 0!=a[0].store_list[0]&&(this.orderCreateData.delivery.store_id=a[0].store_list[0].store_id)}if(0==e.is_virtual&&e.shop_goods_list.local_config)if(e.shop_goods_list.local_config.info&&1==e.shop_goods_list.local_config.info.time_is_open){if(this.orderCreateData.delivery.showTimeBar=!0,this.orderCreateData.delivery.buyer_ask_delivery_time=o,0==e.shop_goods_list.local_config.info.time_week.length||7==e.shop_goods_list.local_config.info.time_week.length||e.shop_goods_list.local_config.info.time_week.indexOf(s)>-1?this.orderCreateData.delivery.canLocalDelicery=!0:this.orderCreateData.delivery.canLocalDelicery=!1,0==e.shop_goods_list.local_config.info.time_type)this.orderCreateData.delivery.deliveryWeek="全天";else if(e.shop_goods_list.local_config.info.time_week.length>0)if(7==e.shop_goods_list.local_config.info.time_week.length)this.orderCreateData.delivery.deliveryWeek="全天",this.orderCreateData.delivery.showTime=!1;else{this.orderCreateData.delivery.showTime=!0;for(var n=e.shop_goods_list.local_config.info.time_week,c=!1,d=0;d<n.length;d++)if(d+1<n.length){var u=n[d+1]-n[d];if(u>1){c=!0;break}}if(c){var l=[];for(d=0;d<n.length;d++)l.push(r[n[d]]);this.orderCreateData.delivery.deliveryWeek=l.join("、")}else this.orderCreateData.delivery.deliveryWeek=r[n[0]]+"至"+r[n[n.length-1]]}else this.orderCreateData.delivery.deliveryWeek="店铺未设置配送时间";var h=e.shop_goods_list.local_config.info.start_time;this.orderCreateData.delivery.start_time=this.getTimeStr(h);var p=e.shop_goods_list.local_config.info.end_time;this.orderCreateData.delivery.end_time=this.getTimeStr(p);var f=new Date(this.$util.timeStampTurnTime(e.timestamp)),g=f.getHours(),m=f.getMinutes(),_=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),v=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),y=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),D=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);this.orderCreateData.delivery.canLocalDelicery&&(_==y&&v==D||((g<_||g==_&&m<v)&&(this.orderCreateData.delivery.buyer_ask_delivery_time=(1==_.toString().length?"0"+_:_)+":"+(1==v.toString().length?"0"+v:v)),(g>y||g==y&&m>D)&&(this.orderCreateData.delivery.canLocalDelicery=!1)))}else this.orderCreateData.delivery.showTimeBar=!1,this.orderCreateData.delivery.deliveryWeek="店铺未开启配送时间";e.shop_goods_list.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),Object.assign(e,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.orderPaymentData.shop_goods_list.site_id,i={};i[t]=this.orderCreateData.delivery;var o={};o[t]=this.orderCreateData.buyer_message,this.orderPaymentData.shop_goods_list.is_invoice&&(this.orderCreateData.invoice[t]={},Array.isArray(this.orderPaymentData.shop_goods_list.invoice_config)||(this.orderCreateData.invoice[t].is_invoice=this.orderPaymentData.shop_goods_list.is_invoice,this.orderCreateData.invoice[t].invoice_type=this.orderPaymentData.shop_goods_list.invoice_type,this.orderCreateData.invoice[t].invoice_title=this.orderPaymentData.shop_goods_list.invoice_title,this.orderCreateData.invoice[t].taxpayer_number=this.orderPaymentData.shop_goods_list.taxpayer_number,this.orderCreateData.invoice[t].invoice_content=this.orderPaymentData.shop_goods_list.invoice_content,this.orderCreateData.invoice[t].invoice_full_address=this.orderPaymentData.shop_goods_list.invoice_full_address,this.orderCreateData.invoice[t].is_tax_invoice=this.orderPaymentData.shop_goods_list.is_tax_invoice,this.orderCreateData.invoice[t].invoice_email=this.orderPaymentData.shop_goods_list.invoice_email,this.orderCreateData.invoice[t].invoice_title_type=this.orderPaymentData.shop_goods_list.invoice_title_type));var r=this.$util.deepClone(this.orderCreateData);r.delivery=JSON.stringify(i),r.invoice=JSON.stringify(r.invoice),r.member_address=JSON.stringify(r.member_address),r.buyer_message=JSON.stringify(o),this.$api.sendRequest({url:"/topic/api/ordercreate/calculate",data:r,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.orderPaymentData.shop_goods_list.site_id,r={};r[o]=this.orderCreateData.delivery;var s={};s[o]=this.orderCreateData.buyer_message;var a=this.$util.deepClone(this.orderCreateData);a.delivery=JSON.stringify(r),a.invoice=JSON.stringify(a.invoice),a.member_address=JSON.stringify(a.member_address),a.buyer_message=JSON.stringify(s),this.$api.sendRequest({url:"/topic/api/ordercreate/create",data:a,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_account.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;if(!/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.orderPaymentData.member_account.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list.express_type.length){e=!1,this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式"});break}if(!e)return!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式,请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】没有可提货的门店,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type&&(""==this.orderPaymentData.shop_goods_list.shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list.shop.shop_info.latitude))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】地址信息未完善,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.canLocalDelicery)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】已休息"}),!1;var i=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[0]),o=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[1]),r=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);if(r!=a||s!=n){if(i<r||i==r&&o<s)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间不能小于配送开始时间"}),!1;if(!(i>r&&i<a||i==r&&o>s||i==r&&o>=s&&i<a))return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间范围：开始时间~结束时间"}),!1}}}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery.store_id=e.store_list[0].store_id,this.tempData.delivery.store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.$refs.choosePaymentPopup.open(),this.subscribeMessage())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},4042:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{orderClose:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要关闭该订单吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/presale/api/order/close",data:{order_id:t},success:function(e){0==e.code?"function"==typeof i&&i():o.$util.showToast({title:e.message,duration:2e3})}})}})},deleteOrder:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要删除该订单吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/presale/api/order/delete",data:{order_id:t},success:function(e){0==e.code?"function"==typeof i&&i():o.$util.showToast({title:e.message,duration:2e3})}})}})},refundDeposit:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要退定金吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/presale/api/refund/applyRefund",data:{order_id:t},success:function(e){0==e.code?"function"==typeof i&&i():o.$util.showToast({title:e.message,duration:2e3})}})}})},orderPayFinal:function(e,t,i,o){var r=this,s="/presale/api/order/pay",a={id:e.id,site_id:e.site_id,is_balance:this.isBalance};""==e.final_out_trade_no&&(s="/presale/api/ordercreate/finalCreate",a.is_balance=this.isBalance),this.$api.sendRequest({url:s,data:a,success:function(e){r.isSub=!1,e.code>=0?0==r.payMoney?r.$util.redirectTo("/pages/pay/result/result",{code:e.data},"redirectTo"):r.$refs.choosePaymentPopup.getPayInfo(e.data):r.$util.showToast({title:e.message}),r.isBalance=0},fail:function(e){r.isSub=!1}})},orderPayDeposit:function(e,t){var i=this;this.$api.sendRequest({url:"/presale/api/order/pay",data:{id:e.id},success:function(e){i.isSub=!1,e.code>=0?i.$refs.choosePaymentPopup.getPayInfo(e.data):i.$util.showToast({title:e.message})},fail:function(e){i.isSub=!1}})},openPaymentPopup:function(t,i){this.payType=i,"final_money"==i?""==t.final_out_trade_no?this.payMoney=t.order_money-t.presale_deposit_money:this.payMoney=t.final_money:"presale_deposit_money"==i&&(this.payMoney=t.pay_deposit_money),e.setStorageSync("paySource","presale"),this.$refs.choosePaymentPopup.open()}}};t.default=i}).call(this,i("543d")["default"])},4086:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"拼团专区"}},"427d":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getClientRect=function(t,i){return new Promise((function(o,r){var s=i?e.createSelectorQuery().in(i):e.createSelectorQuery();return s.select(t).boundingClientRect(o).exec()}))}}).call(this,i("543d")["default"])},"42db":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},"43c3":function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=o(i("7037"));function s(e,t){var i=this;i.version="1.2.3",i.options=e||{},i.isScrollBody=t||!1,i.isDownScrolling=!1,i.isUpScrolling=!1;var o=i.options.down&&i.options.down.callback;i.initDownScroll(),i.initUpScroll(),setTimeout((function(){i.optDown.use&&i.optDown.auto&&o&&(i.optDown.autoShowLoading?i.triggerDownScroll():i.optDown.callback&&i.optDown.callback(i)),setTimeout((function(){i.optUp.use&&i.optUp.auto&&!i.isUpAutoLoad&&i.triggerUpScroll()}),100)}),30)}s.prototype.extendDownScroll=function(e){s.extend(e,{use:!0,auto:!0,native:!1,autoShowLoading:!1,isLock:!1,offset:80,startTop:100,fps:80,inOffsetRate:1,outOffsetRate:.2,bottomOffset:20,minAngle:45,textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",inited:null,inOffset:null,outOffset:null,onMoving:null,beforeLoading:null,showLoading:null,afterLoading:null,endDownScroll:null,callback:function(e){e.resetUpScroll()}})},s.prototype.extendUpScroll=function(e){s.extend(e,{use:!0,auto:!0,isLock:!1,isBoth:!0,isBounce:!1,callback:null,page:{num:0,size:10,time:null},noMoreSize:5,offset:80,textLoading:"加载中 ...",textNoMore:"-- END --",inited:null,showLoading:null,showNoMore:null,hideUpScroll:null,errDistance:60,toTop:{src:null,offset:1e3,duration:300,btnClick:null,onShow:null,zIndex:9990,left:null,right:20,bottom:120,safearea:!1,width:72,radius:"50%"},empty:{use:!0,icon:null,tip:"~ 暂无相关数据 ~",btnText:"",btnClick:null,onShow:null,fixed:!1,top:"100rpx",zIndex:99},onScroll:!1})},s.extend=function(e,t){if(!e)return t;for(var i in t)if(null==e[i]){var o=t[i];null!=o&&"object"===(0,r.default)(o)?e[i]=s.extend({},o):e[i]=o}else"object"===(0,r.default)(e[i])&&s.extend(e[i],t[i]);return e},s.prototype.initDownScroll=function(){var e=this;e.optDown=e.options.down||{},e.extendDownScroll(e.optDown),e.isScrollBody&&e.optDown.native?e.optDown.use=!1:e.optDown.native=!1,e.downHight=0,e.optDown.use&&e.optDown.inited&&setTimeout((function(){e.optDown.inited(e)}),0)},s.prototype.touchstartEvent=function(e){this.optDown.use&&(this.startPoint=this.getPoint(e),this.startTop=this.getScrollTop(),this.lastPoint=this.startPoint,this.maxTouchmoveY=this.getBodyHeight()-this.optDown.bottomOffset,this.inTouchend=!1)},s.prototype.touchmoveEvent=function(e){if(this.optDown.use&&this.startPoint){var t=this,i=(new Date).getTime();if(!(t.moveTime&&i-t.moveTime<t.moveTimeDiff)){t.moveTime=i,t.moveTimeDiff||(t.moveTimeDiff=1e3/t.optDown.fps);var o=t.getScrollTop(),r=t.getPoint(e),s=r.y-t.startPoint.y;if(s>0&&(t.isScrollBody&&o<=0||!t.isScrollBody&&(o<=0||o<=t.optDown.startTop&&o===t.startTop))&&!t.inTouchend&&!t.isDownScrolling&&!t.optDown.isLock&&(!t.isUpScrolling||t.isUpScrolling&&t.optUp.isBoth)){var a=t.getAngle(t.lastPoint,r);if(a<t.optDown.minAngle)return;if(t.maxTouchmoveY>0&&r.y>=t.maxTouchmoveY)return t.inTouchend=!0,void t.touchendEvent();t.preventDefault(e);var n=r.y-t.lastPoint.y;t.downHight<t.optDown.offset?(1!==t.movetype&&(t.movetype=1,t.optDown.inOffset&&t.optDown.inOffset(t),t.isMoveDown=!0),t.downHight+=n*t.optDown.inOffsetRate):(2!==t.movetype&&(t.movetype=2,t.optDown.outOffset&&t.optDown.outOffset(t),t.isMoveDown=!0),t.downHight+=n>0?Math.round(n*t.optDown.outOffsetRate):n);var c=t.downHight/t.optDown.offset;t.optDown.onMoving&&t.optDown.onMoving(t,c,t.downHight)}t.lastPoint=r}}},s.prototype.touchendEvent=function(e){if(this.optDown.use)if(this.isMoveDown)this.downHight>=this.optDown.offset?this.triggerDownScroll():(this.downHight=0,this.optDown.endDownScroll&&this.optDown.endDownScroll(this)),this.movetype=0,this.isMoveDown=!1;else if(!this.isScrollBody&&this.getScrollTop()===this.startTop){var t=this.getPoint(e).y-this.startPoint.y<0;if(t){var i=this.getAngle(this.getPoint(e),this.startPoint);i>80&&this.triggerUpScroll(!0)}}},s.prototype.getPoint=function(e){return e?e.touches&&e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.clientX,y:e.clientY}:{x:0,y:0}},s.prototype.getAngle=function(e,t){var i=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),r=Math.sqrt(i*i+o*o),s=0;return 0!==r&&(s=Math.asin(o/r)/Math.PI*180),s},s.prototype.triggerDownScroll=function(){this.optDown.beforeLoading&&this.optDown.beforeLoading(this)||(this.showDownScroll(),this.optDown.callback&&this.optDown.callback(this))},s.prototype.showDownScroll=function(){this.isDownScrolling=!0,this.optDown.native?(e.startPullDownRefresh(),this.optDown.showLoading&&this.optDown.showLoading(this,0)):(this.downHight=this.optDown.offset,this.optDown.showLoading&&this.optDown.showLoading(this,this.downHight))},s.prototype.onPullDownRefresh=function(){this.isDownScrolling=!0,this.optDown.showLoading&&this.optDown.showLoading(this,0),this.optDown.callback&&this.optDown.callback(this)},s.prototype.endDownScroll=function(){if(this.optDown.native)return this.isDownScrolling=!1,this.optDown.endDownScroll&&this.optDown.endDownScroll(this),void e.stopPullDownRefresh();var t=this,i=function(){t.downHight=0,t.isDownScrolling=!1,t.optDown.endDownScroll&&t.optDown.endDownScroll(t),!t.isScrollBody&&t.setScrollHeight(0)},o=0;t.optDown.afterLoading&&(o=t.optDown.afterLoading(t)),"number"===typeof o&&o>0?setTimeout(i,o):i()},s.prototype.lockDownScroll=function(e){null==e&&(e=!0),this.optDown.isLock=e},s.prototype.lockUpScroll=function(e){null==e&&(e=!0),this.optUp.isLock=e},s.prototype.initUpScroll=function(){var e=this;e.optUp=e.options.up||{use:!1},e.extendUpScroll(e.optUp),e.optUp.isBounce||e.setBounce(!1),!1!==e.optUp.use&&(e.optUp.hasNext=!0,e.startNum=e.optUp.page.num+1,e.optUp.inited&&setTimeout((function(){e.optUp.inited(e)}),0))},s.prototype.onReachBottom=function(){this.isScrollBody&&!this.isUpScrolling&&!this.optUp.isLock&&this.optUp.hasNext&&this.triggerUpScroll()},s.prototype.onPageScroll=function(e){this.isScrollBody&&(this.setScrollTop(e.scrollTop),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn())},s.prototype.scroll=function(e,t){this.setScrollTop(e.scrollTop),this.setScrollHeight(e.scrollHeight),null==this.preScrollY&&(this.preScrollY=0),this.isScrollUp=e.scrollTop-this.preScrollY>0,this.preScrollY=e.scrollTop,this.isScrollUp&&this.triggerUpScroll(!0),e.scrollTop>=this.optUp.toTop.offset?this.showTopBtn():this.hideTopBtn(),this.optUp.onScroll&&t&&t()},s.prototype.triggerUpScroll=function(e){if(!this.isUpScrolling&&this.optUp.use&&this.optUp.callback){if(!0===e){var t=!1;if(!this.optUp.hasNext||this.optUp.isLock||this.isDownScrolling||this.getScrollBottom()<=this.optUp.offset&&(t=!0),!1===t)return}this.showUpScroll(),this.optUp.page.num++,this.isUpAutoLoad=!0,this.num=this.optUp.page.num,this.size=this.optUp.page.size,this.time=this.optUp.page.time,this.optUp.callback(this)}},s.prototype.showUpScroll=function(){this.isUpScrolling=!0,this.optUp.showLoading&&this.optUp.showLoading(this)},s.prototype.showNoMore=function(){this.optUp.hasNext=!1,this.optUp.showNoMore&&this.optUp.showNoMore(this)},s.prototype.hideUpScroll=function(){this.optUp.hideUpScroll&&this.optUp.hideUpScroll(this)},s.prototype.endUpScroll=function(e){null!=e&&(e?this.showNoMore():this.hideUpScroll()),this.isUpScrolling=!1},s.prototype.resetUpScroll=function(e){if(this.optUp&&this.optUp.use){var t=this.optUp.page;this.prePageNum=t.num,this.prePageTime=t.time,t.num=this.startNum,t.time=null,this.isDownScrolling||!1===e||(null==e?(this.removeEmpty(),this.showUpScroll()):this.showDownScroll()),this.isUpAutoLoad=!0,this.num=t.num,this.size=t.size,this.time=t.time,this.optUp.callback&&this.optUp.callback(this)}},s.prototype.setPageNum=function(e){this.optUp.page.num=e-1},s.prototype.setPageSize=function(e){this.optUp.page.size=e},s.prototype.endByPage=function(e,t,i){var o;this.optUp.use&&null!=t&&(o=this.optUp.page.num<t),this.endSuccess(e,o,i)},s.prototype.endBySize=function(e,t,i){var o;if(this.optUp.use&&null!=t){var r=(this.optUp.page.num-1)*this.optUp.page.size+e;o=r<t}this.endSuccess(e,o,i)},s.prototype.endSuccess=function(e,t,i){var o=this;if(o.isDownScrolling&&o.endDownScroll(),o.optUp.use){var r;if(null!=e){var s=o.optUp.page.num,a=o.optUp.page.size;if(1===s&&i&&(o.optUp.page.time=i),e<a||!1===t)if(o.optUp.hasNext=!1,0===e&&1===s)r=!1,o.showEmpty();else{var n=(s-1)*a+e;r=!(n<o.optUp.noMoreSize),o.removeEmpty()}else r=!1,o.optUp.hasNext=!0,o.removeEmpty()}o.endUpScroll(r)}},s.prototype.endErr=function(e){if(this.isDownScrolling){var t=this.optUp.page;t&&this.prePageNum&&(t.num=this.prePageNum,t.time=this.prePageTime),this.endDownScroll()}this.isUpScrolling&&(this.optUp.page.num--,this.endUpScroll(!1),this.isScrollBody&&0!==e&&(e||(e=this.optUp.errDistance),this.scrollTo(this.getScrollTop()-e,0)))},s.prototype.showEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!0)},s.prototype.removeEmpty=function(){this.optUp.empty.use&&this.optUp.empty.onShow&&this.optUp.empty.onShow(!1)},s.prototype.showTopBtn=function(){this.topBtnShow||(this.topBtnShow=!0,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!0))},s.prototype.hideTopBtn=function(){this.topBtnShow&&(this.topBtnShow=!1,this.optUp.toTop.onShow&&this.optUp.toTop.onShow(!1))},s.prototype.getScrollTop=function(){return this.scrollTop||0},s.prototype.setScrollTop=function(e){this.scrollTop=e},s.prototype.scrollTo=function(e,t){this.myScrollTo&&this.myScrollTo(e,t)},s.prototype.resetScrollTo=function(e){this.myScrollTo=e},s.prototype.getScrollBottom=function(){return this.getScrollHeight()-this.getClientHeight()-this.getScrollTop()},s.prototype.getStep=function(e,t,i,o,r){var s=t-e;if(0!==o&&0!==s){o=o||300,r=r||30;var a=o/r,n=s/a,c=0,d=setInterval((function(){c<a-1?(e+=n,i&&i(e,d),c++):(i&&i(t,d),clearInterval(d))}),r)}else i&&i(t)},s.prototype.getClientHeight=function(e){var t=this.clientHeight||0;return 0===t&&!0!==e&&(t=this.getBodyHeight()),t},s.prototype.setClientHeight=function(e){this.clientHeight=e},s.prototype.getScrollHeight=function(){return this.scrollHeight||0},s.prototype.setScrollHeight=function(e){this.scrollHeight=e},s.prototype.getBodyHeight=function(){return this.bodyHeight||0},s.prototype.setBodyHeight=function(e){this.bodyHeight=e},s.prototype.preventDefault=function(e){e&&e.cancelable&&!e.defaultPrevented&&e.preventDefault()},s.prototype.setBounce=function(e){}}).call(this,i("543d")["default"])},"448a":function(e,t,i){var o=i("2236"),r=i("11b0"),s=i("6613"),a=i("0676");e.exports=function(e){return o(e)||r(e)||s(e)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"448d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"公告详情"}},4585:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"账号注销"}},4640:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},"46b7":function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("00ee")),s=o(i("8e91"));function a(e){for(var t={},i=e.split(","),o=0;o<i.length;o+=1)t[i[o]]=!0;return t}var n=a("br,code,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),c=a("a,abbr,acronym,applet,b,basefont,bdo,big,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),d=a("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var u=function(t,i,o,a){t=function(e){var t=/<body.*>([^]*)<\/body>/.test(e);return t?RegExp.$1:e}(t),t=function(e){return e.replace(/<!--.*?-->/gi,"").replace(/\/\*.*?\*\//gi,"").replace(/[ ]+</gi,"<").replace(/<script[^]*<\/script>/gi,"").replace(/<style[^]*<\/style>/gi,"")}(t),t=r.default.strDiscode(t);var u=[],l={nodes:[],imageUrls:[]},h=function(){var t={};return e.getSystemInfo({success:function(e){t.width=e.windowWidth,t.height=e.windowHeight}}),t}();function p(e){this.node="element",this.tag=e,this.$screen=h}return(0,s.default)(t,{start:function(e,t,s){var a=new p(e);if(0!==u.length){var h=u[0];void 0===h.nodes&&(h.nodes=[])}if(n[e]?a.tagType="block":c[e]?a.tagType="inline":d[e]&&(a.tagType="closeSelf"),a.attr=t.reduce((function(e,t){var i=t.name,o=t.value;return"class"===i&&(a.classStr=o),"style"===i&&(a.styleStr=o),o.match(/ /)&&(o=o.split(" ")),e[i]?Array.isArray(e[i])?e[i].push(o):e[i]=[e[i],o]:e[i]=o,e}),{}),a.classStr?a.classStr+=" ".concat(a.tag):a.classStr=a.tag,"inline"===a.tagType&&(a.classStr+=" inline"),"img"===a.tag){var f=a.attr.src;f=r.default.urlToHttpUrl(f,o.domain),Object.assign(a.attr,o,{src:f||""}),f&&l.imageUrls.push(f)}if("a"===a.tag&&(a.attr.href=a.attr.href||""),"font"===a.tag){var g=["x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large"],m={color:"color",face:"font-family",size:"font-size"};a.styleStr||(a.styleStr=""),Object.keys(m).forEach((function(e){if(a.attr[e]){var t="size"===e?g[a.attr[e]-1]:a.attr[e];a.styleStr+="".concat(m[e],": ").concat(t,";")}}))}if("source"===a.tag&&(l.source=a.attr.src),i.start&&i.start(a,l),s){var _=u[0]||l;void 0===_.nodes&&(_.nodes=[]),_.nodes.push(a)}else u.unshift(a)},end:function(e){var t=u.shift();if(t.tag!==e&&console.error("invalid state: mismatch end tag"),"video"===t.tag&&l.source&&(t.attr.src=l.source,delete l.source),i.end&&i.end(t,l),0===u.length)l.nodes.push(t);else{var o=u[0];o.nodes||(o.nodes=[]),o.nodes.push(t)}},chars:function(e){if(e.trim()){var t={node:"text",text:e};if(i.chars&&i.chars(t,l),0===u.length)l.nodes.push(t);else{var o=u[0];void 0===o.nodes&&(o.nodes=[]),o.nodes.push(t)}}}}),l};t.default=u}).call(this,i("bc2e")["default"])},4780:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"订单详情"}},"47b5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"店铺街",all:"综合",sale:"销量",desccredit:"评分",distance:"距离",score:"分",main:"主营",num:"粉丝数"}},4826:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Function.prototype.asyAfter=function(e){var t=this;return function(){var i=t.apply(this,arguments);return"next"===i?e.apply(this,arguments):i}},Date.prototype.pattern=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[this.getDay()+""])),t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e};var o=function(){},r=o.prototype;r.getUnix=function(){return(new Date).getTime()},r.getTodayUnix=function(){var e=new Date,t="".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate()," 00:00:00");return new Date(t).getTime()},r.getYearUnix=function(){var e=new Date;return e.setMonth(0),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getTime()},r.getLastDate=function(e){if(e){var t=new Date(e);if(t.pattern)return t.pattern("yyyy-MM-dd");var i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getDate()<10?"0"+t.getDate():t.getDate();return t.getFullYear()+"-"+i+"-"+o}};var s=new RegExp("-","g");r.getFormatTime=function(e,t){if(!e)return"";switch(function(e){return/^\[object\s(.*)\]$/.exec(Object.prototype.toString.call(e))[1]}(e)){case"Date":e=e.getTime();break;case"String":e=e.replace(s,"/");default:e=new Date(e).getTime();break}var i=this.getUnix(),o=(this.getYearUnix(),(i-e)/1e3);if(e>i&&t)return this.getLastDate(e);return function(e,t){var i=function(e){return e<=0||Math.floor(e/60)<=0?"刚刚":"next"}.asyAfter((function(e){return e<3600?Math.floor(e/60)+"分钟前":"next"})).asyAfter((function(e,t){var i=a.getTodayUnix();return e>=3600&&t-i>=0?Math.floor(e/60/60)+"小时前":"next"})).asyAfter((function(e,t){var i=a.getTodayUnix();return e=(i-t)/1e3,e/86400<=31?Math.ceil(e/86400)+"天前":"next"})).asyAfter((function(e,t){return a.getLastDate(t)}));return i(e,t)}(o,e)};var a=new o,n=a;t.default=n},4897:function(e,t,i){var o={"./en-us/common.js":"0f40","./zh-cn/bargain/detail.js":"5a10","./zh-cn/bargain/launch.js":"cdb5","./zh-cn/bargain/list.js":"0c83","./zh-cn/bargain/my_bargain.js":"eb1e","./zh-cn/bargain/payment.js":"15b6","./zh-cn/combo/detail.js":"f3e4","./zh-cn/combo/payment.js":"6be9","./zh-cn/common.js":"6916","./zh-cn/diy/diy.js":"22a4","./zh-cn/fenxiao/apply.js":"378c","./zh-cn/fenxiao/bill.js":"8af3","./zh-cn/fenxiao/follow.js":"2664","./zh-cn/fenxiao/goods_list.js":"5ff3","./zh-cn/fenxiao/index.js":"4b07","./zh-cn/fenxiao/level.js":"8edf","./zh-cn/fenxiao/order.js":"42db","./zh-cn/fenxiao/order_detail.js":"4780","./zh-cn/fenxiao/promote_code.js":"9f12","./zh-cn/fenxiao/team.js":"8939","./zh-cn/fenxiao/withdraw_apply.js":"4640","./zh-cn/fenxiao/withdraw_list.js":"e529","./zh-cn/game/cards.js":"c108","./zh-cn/game/record.js":"1831","./zh-cn/game/smash_eggs.js":"64c8","./zh-cn/game/turntable.js":"e2bb","./zh-cn/goods/brand.js":"c78c","./zh-cn/goods/cart.js":"d02f","./zh-cn/goods/category.js":"06ba","./zh-cn/goods/coupon.js":"287d","./zh-cn/goods/coupon_receive.js":"8fa8","./zh-cn/goods/detail.js":"bbb4","./zh-cn/goods/evaluate.js":"93cb","./zh-cn/goods/list.js":"1357","./zh-cn/goods/search.js":"fa06","./zh-cn/groupbuy/detail.js":"87ce","./zh-cn/groupbuy/list.js":"34ab","./zh-cn/groupbuy/payment.js":"21f9","./zh-cn/help/detail.js":"5154","./zh-cn/help/list.js":"a3d8","./zh-cn/index/city.js":"f86b","./zh-cn/index/index.js":"7f79","./zh-cn/live/list.js":"0f1b","./zh-cn/login/find.js":"7067","./zh-cn/login/login.js":"cd59","./zh-cn/login/register.js":"4c9c","./zh-cn/member/account.js":"96ff","./zh-cn/member/account_edit.js":"372a","./zh-cn/member/address.js":"a217","./zh-cn/member/address_edit.js":"0534","./zh-cn/member/apply_withdrawal.js":"b58d","./zh-cn/member/assets.js":"ace9","./zh-cn/member/balance.js":"a93e","./zh-cn/member/balance_detail.js":"fe46","./zh-cn/member/cancellation.js":"501c","./zh-cn/member/cancelrefuse.js":"4585","./zh-cn/member/cancelstatus.js":"5075","./zh-cn/member/cancelsuccess.js":"c105","./zh-cn/member/collection.js":"0754","./zh-cn/member/coupon.js":"7010","./zh-cn/member/footprint.js":"daaa","./zh-cn/member/gift.js":"0f32","./zh-cn/member/gift_detail.js":"9500","./zh-cn/member/index.js":"bf19","./zh-cn/member/info.js":"5b93","./zh-cn/member/info_edit.js":"2488","./zh-cn/member/level.js":"c6cc","./zh-cn/member/modify_face.js":"3bb1","./zh-cn/member/point.js":"0062","./zh-cn/member/point_detail.js":"c120","./zh-cn/member/signin.js":"e584","./zh-cn/member/withdrawal.js":"0cb3","./zh-cn/member/withdrawal_detail.js":"5b30","./zh-cn/notice/detail.js":"448d","./zh-cn/notice/list.js":"e87a","./zh-cn/order/activist.js":"9f34","./zh-cn/order/complain.js":"8c39","./zh-cn/order/detail.js":"3953","./zh-cn/order/detail_local_delivery.js":"350a","./zh-cn/order/detail_pickup.js":"982b","./zh-cn/order/detail_virtual.js":"91f3","./zh-cn/order/evaluate.js":"dba6","./zh-cn/order/list.js":"293f","./zh-cn/order/logistics.js":"afbc","./zh-cn/order/payment.js":"fa4f","./zh-cn/order/refund.js":"90a5","./zh-cn/order/refund_detail.js":"7d62","./zh-cn/pay/result.js":"4ccf","./zh-cn/pintuan/detail.js":"d1ff","./zh-cn/pintuan/list.js":"4086","./zh-cn/pintuan/my_spell.js":"518f","./zh-cn/pintuan/payment.js":"ea17d","./zh-cn/pintuan/share.js":"8e9e","./zh-cn/point/detail.js":"2aee","./zh-cn/point/list.js":"cd63","./zh-cn/point/order_list.js":"0092","./zh-cn/point/payment.js":"c7ce","./zh-cn/point/result.js":"d836","./zh-cn/presale/detail.js":"543f","./zh-cn/presale/list.js":"55a0","./zh-cn/presale/order_list.js":"2744","./zh-cn/presale/payment.js":"750b","./zh-cn/recharge/list.js":"2584","./zh-cn/recharge/order_list.js":"e083","./zh-cn/seckill/detail.js":"a031","./zh-cn/seckill/list.js":"d52c","./zh-cn/seckill/payment.js":"7487","./zh-cn/shop/category.js":"fd32","./zh-cn/shop/index.js":"c6a8","./zh-cn/shop/introduce.js":"89f1","./zh-cn/shop/list.js":"a767","./zh-cn/shop/search.js":"55db","./zh-cn/shop/store_detail.js":"76d0","./zh-cn/shop/street.js":"47b5","./zh-cn/store_notes/note_detail.js":"730a","./zh-cn/store_notes/note_list.js":"5e0b","./zh-cn/topics/detail.js":"a010","./zh-cn/topics/goods_detail.js":"0970","./zh-cn/topics/list.js":"aabe","./zh-cn/topics/payment.js":"a55c","./zh-cn/verification/detail.js":"fc66","./zh-cn/verification/index.js":"adb9","./zh-cn/verification/list.js":"a24e","./zh-cn/wholesale/cartList.js":"c670","./zh-cn/wholesale/detail.js":"a0a2","./zh-cn/wholesale/list.js":"e090","./zh-cn/wholesale/payment.js":"095e"};function r(e){var t=s(e);return i(t)}function s(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id="4897"},"4a4b":function(e,t){function i(t,o){return e.exports=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t,o)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"4b07":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},"4c9c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"注册",mobileRegister:"手机号注册",accountRegister:"账号注册",mobilePlaceholder:"手机号登录仅限中国大陆用户",dynacodePlaceholder:"请输入动态码",captchaPlaceholder:"请输入验证码",accountPlaceholder:"请输入用户名",passwordPlaceholder:"请输入密码",rePasswordPlaceholder:"请确认密码",completeRegister:"完成注册，并登录",registerTips:"点击注册即代表您已同意",registerAgreement:"注册协议",next:"下一步",save:"保存"}},"4c9e":function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("2eee")),s=o(i("c973")),a=o(i("9523")),n={data:function(){var e;return{currTime:"",isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",is_invoice:0,invoice_type:1,invoice_title_type:1,is_tax_invoice:0,invoice_title:"",taxpayer_number:"",invoice_content:"",invoice_full_address:"",invoice_email:"",default_store_id:""},orderPaymentData:{shop_goods_list:(e={site_name:"",express_type:[],coupon_list:[]},(0,a.default)(e,"coupon_list",[]),(0,a.default)(e,"invoice",{invoice_content_array:[]}),e),member_account:{balance:0,is_pay_password:0},local_config:{info:{start_time:0,end_time:0,time_week:[]}}},is_deposit_back:0,isSub:!1,tempData:null,storeInfo:{storeList:[],currStore:{}},siteDelivery:{site_id:0,data:[]},member_address:{mobile:""},timeInfo:{week:0,start_time:0,end_time:0,showTimeBar:!1},canLocalDelicery:!0,isFocus:!1,member_id:0,site_id:0,presale_id:0,pay_password:"",action:{icon:""},switch_state:!0}},methods:{getAppMemberInfo:function(){var t=this;return(0,s.default)(r.default.mark((function i(){var o,s;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.sendRequest({url:"/api/member/info",async:!1});case 2:o=i.sent,o.code>=0&&o.data&&(s=o.data,e.setStorageSync("userInfo",s),t.member_id=s.member_id);case 4:case"end":return i.stop()}}),i)})))()},switchChange:function(e){this.switch_state=e.detail.value},openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/presale/payment/payment"})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("presaleOrderCreateData");var i=e.getStorageSync("location");i&&(this.orderCreateData=Object.assign(this.orderCreateData,i));var o=e.getStorageSync("store");o&&(this.orderCreateData.default_store_id=o.store_id),this.orderCreateData?(e.getStorageSync("userInfo").member_id&&(this.orderCreateData.member_id=e.getStorageSync("userInfo").member_id),this.$api.sendRequest({url:"/presale/api/ordercreate/depositPayment",data:this.orderCreateData,success:function(e){if(e.code>=0){var i=e.data.shop_goods_list.invoice_config.type||[];e.data.shop_goods_list.invoice&&(e.data.shop_goods_list.invoice.invoice_type=i.toString()),t.orderPaymentData=e.data,t.is_deposit_back=e.data.promotion_presale_info.is_deposit_back,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}else t.$util.showToast({title:"未获取到创建订单所需数据!！",success:function(){}})},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})):this.$util.showToast({title:"未获取到创建订单所需数据!！",success:function(){setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1500)}})},handlePaymentData:function(){var t=this;this.orderCreateData.delivery={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message="",this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="",this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=1,this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderPaymentData.shop_goods_list.invoice&&this.orderPaymentData.shop_goods_list.invoice.invoice_type&&(this.orderPaymentData.shop_goods_list.invoice.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type.split(","),this.orderCreateData.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type[0]);var i=this.orderPaymentData;if(void 0!=i.shop_goods_list.express_type&&void 0!=i.shop_goods_list.express_type[0]){var o=i.shop_goods_list.express_type;this.orderCreateData.delivery.store_id=0;var r=e.getStorageSync("delivery");if(r){var s=r.name,a=r.title;"store"==s&&i.shop_goods_list.express_type.forEach((function(e){"store"==e.name&&t.storeSelected(e)}))}else s=o[0].name,a=o[0].title;this.orderCreateData.delivery.delivery_type=s,this.orderCreateData.delivery.delivery_type_name=a,"store"==o[0].name&&this.storeSelected(o[0])}if(void 0!=i.shop_goods_list.coupon_list&&void 0!=i.shop_goods_list.coupon_list[0]){var n=i.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=n[0].coupon_id,this.orderCreateData.coupon.coupon_money=n[0].money}if(this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""!=i.member_account.mobile?i.member_account.mobile:""}),this.orderPaymentData.shop_goods_list.invoice){var c=this.orderPaymentData.shop_goods_list.invoice.invoice_content_array;c.length&&(this.orderCreateData.invoice_content=c[0])}if(0==this.orderPaymentData.is_virtual&&this.orderPaymentData.shop_goods_list.local_config.info&&1==this.orderPaymentData.shop_goods_list.local_config.info.time_is_open){this.timeInfo.showTimeBar=!0,0==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||7==this.orderPaymentData.shop_goods_list.local_config.info.time_week.length||this.orderPaymentData.shop_goods_list.local_config.info.time_week.indexOf(this.timeInfo.week)>-1?this.canLocalDelicery=!0:this.canLocalDelicery=!1;var d=(new Date).getHours().toString(),u=(new Date).getMinutes().toString();1==d.length&&(d="0"+d),1==u.length&&(u="0"+u),this.orderCreateData.buyer_ask_delivery_time=d+":"+u;var l=this.orderPaymentData.shop_goods_list.local_config.info.start_time;this.timeInfo.start_time=this.getTimeStr(l);var h=this.orderPaymentData.shop_goods_list.local_config.info.end_time;this.timeInfo.end_time=this.getTimeStr(h)}Object.assign(this.orderPaymentData,this.orderCreateData),this.orderPaymentData.shop_goods_list.goods_list.forEach((function(e){e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[]})),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),"store"==this.orderCreateData.delivery.delivery_type?t.member_address=JSON.stringify(this.member_address):t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/presale/api/ordercreate/depositCalculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.shop_goods_list.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.orderPaymentData.final_money=t.data.final_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(){var t=this;if(this.verify()){if(this.isSub)return;this.isSub=!0;var i=this.$util.deepClone(this.orderCreateData);i.delivery=JSON.stringify(i.delivery),i.coupon=JSON.stringify(i.coupon),i.site_name=this.orderPaymentData.site_name,"store"==this.orderCreateData.delivery.delivery_type?i.member_address=JSON.stringify(this.member_address):i.member_address=JSON.stringify(i.member_address),this.$api.sendRequest({url:"/presale/api/ordercreate/depositCreate",data:i,success:function(i){i.code>=0?0==t.orderPaymentData.pay_money?t.$util.redirectTo("/pages/pay/result/result",{code:i.data},"redirectTo"):(t.$refs.choosePaymentPopup.getPayInfo(i.data),t.isSub=!1):(t.isSub=!1,e.hideLoading(),t.$refs.payPassword&&t.$refs.payPassword.close(),10==i.data.error_code||12==i.data.error_code?e.showModal({title:"订单未创建",content:i.message,confirmText:"去设置",success:function(e){e.confirm&&t.selectAddress()}}):t.$util.showToast({title:i.message}))}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderCreateData.member_address.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;var e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.orderCreateData.member_address.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if("store"!=this.orderCreateData.delivery.delivery_type&&!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式,请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】没有可提货的门店,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type&&(""==this.orderPaymentData.shop_goods_list.shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list.shop.shop_info.latitude))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】地址信息未完善,请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type){if(!this.member_address.mobile)return this.$util.showToast({title:"请输入预留手机"}),!1;e=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/;if(!e.test(this.member_address.mobile))return this.$util.showToast({title:"请输入正确的预留手机"}),!1}}return!(1==this.orderCreateData.is_invoice&&!this.invoiceVerify())},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(t){e.setStorageSync("delivery",{title:t.title,name:t.name}),this.orderCreateData.delivery.delivery_type=t.name,this.orderCreateData.delivery.delivery_type_name=t.title,"store"==t.name&&this.storeSelected(t),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},storeSelected:function(t){if(this.storeInfo.storeList=t.store_list,!(this.orderCreateData.delivery.store_id>0)){var i=e.getStorageSync("store");i&&t.store_id==i.store_id?(this.storeInfo.currStore=i,this.orderCreateData.delivery.store_id=this.storeInfo.currStore.store_id):void 0!=t.store_list[0]?(this.storeInfo.currStore=t.store_list[0],this.orderCreateData.delivery.store_id=t.store_list[0].store_id):this.storeInfo.currStore=null}},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e.store_id,this.storeInfo.currStore=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.$refs.couponPopup.open()},selectCoupon:function(e){this.orderCreateData.coupon.coupon_id!=e.coupon_id?(this.orderCreateData.coupon.coupon_id=e.coupon_id,this.orderCreateData.coupon.coupon_money=e.money):(this.orderCreateData.coupon.coupon_id=0,this.orderCreateData.coupon.coupon_money="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){this.$refs[e].close(),this.orderCalculate(),this.$forceUpdate(),this.tempData=null},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},setPayPassword:function(){this.$util.redirectTo("/otherpages/member/pay_password/pay_password",{back:"/promotionpages/presale/payment/payment"})},noSet:function(){this.orderCreateData.is_balance=0,this.$refs.payPassword.close(),this.orderCalculate(),this.$forceUpdate()},input:function(t){var i=this;6==t.length&&(e.showLoading({title:"支付中...",mask:!0}),this.$api.sendRequest({url:"/api/member/checkpaypassword",data:{pay_password:t},success:function(o){o.code>=0?i.finalPay?(i.finalPay.pay_password=t,i.finalPay.member_id=i.member_id,i.finalPay.is_balance=i.finalPay.is_use_balance):(i.orderCreateData.pay_password=t,i.orderCreate()):(e.hideLoading(),i.$util.showToast({title:o.message}))},fail:function(t){e.hideLoading()}}))},imageError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},navigateBack:function(){this.$util.goBack()},changeIsInvoice:function(){0==this.orderCreateData.is_invoice?this.orderCreateData.is_invoice=1:this.orderCreateData.is_invoice=0,this.orderCalculate(),this.$forceUpdate()},changeInvoiceType:function(e){this.orderCreateData.invoice_type=e,this.orderCalculate(),this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderCreateData.invoice_title_type=e,this.orderCalculate(),this.$forceUpdate()},changeIsTaxInvoice:function(){0==this.orderCreateData.is_tax_invoice?this.orderCreateData.is_tax_invoice=1:this.orderCreateData.is_tax_invoice=0,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderCreateData.invoice_content=e,this.$forceUpdate()},invoiceVerify:function(){if(!this.orderCreateData.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(!this.orderCreateData.taxpayer_number&&2==this.orderCreateData.invoice_title_type)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderCreateData.invoice_type&&!this.orderCreateData.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderCreateData.invoice_type){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderCreateData.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱"}),!1}return!!this.orderCreateData.invoice_content||(this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1)},saveInvoice:function(){1==this.orderCreateData.is_invoice?this.invoiceVerify()&&this.closePopup("invoicePopup"):this.closePopup("invoicePopup")},bindTimeChange:function(e){var t=e.detail.value;this.orderCreateData.buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},getTime:function(){var e=(new Date).getDay();this.timeInfo.week=["0","1","2","3","4","5","6"][e]},closeInvoicePopup:function(){this.orderCreateData.is_invoice=0,this.orderCreateData.invoice_type=this.orderPaymentData.shop_goods_list.invoice.invoice_type[0],this.orderCreateData.invoice_title_type=1,this.orderCreateData.is_tax_invoice=0,this.orderCreateData.invoice_title="",this.orderCreateData.taxpayer_number="",this.orderCreateData.invoice_content="",this.orderCreateData.invoice_full_address="",this.orderCreateData.invoice_email="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){if(1==this.is_deposit_back){if(!this.switch_state)return this.$util.showToast({title:"预售商品定金不支持退款，请确定同意定金不退款协议。"}),!1;this.$refs.depositRefund.open()}else e.setStorageSync("paySource","presale"),this.verify()&&(this.subscribeMessage(),this.$refs.choosePaymentPopup.open())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})},toPayOrder:function(){e.setStorageSync("paySource","presale"),this.verify()&&(this.$refs.choosePaymentPopup.open(),this.$refs.depositRefund.close())},closeDepositRefund:function(){this.$refs.depositRefund.close()},presaleAgreement:function(){this.$refs.presaleAgreement.open()},closePresaleAgreement:function(){this.$refs.presaleAgreement.close()}},onShow:function(){var t=this;return(0,s.default)(r.default.mark((function i(){return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.$langConfig.refresh(),e.getStorageSync("token")){i.next=5;break}t.$util.redirectTo("/pages/login/login/login"),i.next=9;break;case 5:if(e.getStorageSync("userInfo")){i.next=8;break}return i.next=8,t.getAppMemberInfo();case 8:t.getOrderPaymentData();case 9:t.getTime(),t.isIphoneX=t.$util.uniappIsIPhoneX();case 11:case"end":return i.stop()}}),i)})))()},onLoad:function(t){t.id?this.presale_id=t.id:this.presale_id=e.getStorageSync("presaleOrderCreateData").presale_id,e.getStorageSync("userInfo")&&(this.member_id=e.getStorageSync("userInfo").member_id),e.getStorageSync("presaleOrderCreateData").site_id&&(this.site_id=e.getStorageSync("presaleOrderCreateData").site_id)},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){var e=parseFloat(this.orderPaymentData.member_account.balance_total)<parseFloat(this.orderPaymentData.presale_deposit_money)?parseFloat(this.orderPaymentData.member_account.balance_total):parseFloat(this.orderPaymentData.presale_deposit_money);return e.toFixed(2)},presaleDiscount:function(){return(parseFloat(this.orderPaymentData.presale_money)-parseFloat(this.orderPaymentData.presale_deposit_money)).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t="";return e&&Object.keys(e).forEach((function(i){t+=e[i].content+"　"})),t}}};t.default=n}).call(this,i("543d")["default"])},"4ccf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"支付结果",paymentSuccess:"支付成功",paymentFail:"支付失败",goHome:"回到首页",memberCenter:"会员中心",payMoney:"支付金额",unit:"元"}},"4ea4":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"501c":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"账号注销"}},5075:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"账号注销"}},5154:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"帮助详情"}},"518f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的拼单"}},"543d":function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.createApp=Zt,t.createComponent=Qt,t.createPage=Et,t.createPlugin=Nt,t.createSubpackageApp=Rt,t.default=void 0;var s,a=r(i("278c")),n=r(i("9523")),c=r(i("b17c")),d=r(i("448a")),u=r(i("7037")),l=i("37dc"),h=r(i("66fd"));function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function _(){var t,i=e.getStorageSync("uni_id_token")||"",o=i.split(".");if(!i||3!==o.length)return{uid:null,role:[],permission:[],tokenExpired:0};try{t=JSON.parse(function(e){return decodeURIComponent(s(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(o[1]))}catch(r){throw new Error("获取当前用户信息出错，详细错误信息为："+r.message)}return t.tokenExpired=1e3*t.exp,delete t.exp,delete t.iat,t}s="function"!==typeof atob?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!m.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var i,o,r="",s=0;s<e.length;)t=g.indexOf(e.charAt(s++))<<18|g.indexOf(e.charAt(s++))<<12|(i=g.indexOf(e.charAt(s++)))<<6|(o=g.indexOf(e.charAt(s++))),r+=64===i?String.fromCharCode(t>>16&255):64===o?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return r}:atob;var v=Object.prototype.toString,y=Object.prototype.hasOwnProperty;function D(e){return"function"===typeof e}function S(e){return"string"===typeof e}function b(e){return"[object Object]"===v.call(e)}function C(e,t){return y.call(e,t)}function P(){}function w(e){var t=Object.create(null);return function(i){var o=t[i];return o||(t[i]=e(i))}}var T=/-(\w)/g,k=w((function(e){return e.replace(T,(function(e,t){return t?t.toUpperCase():""}))}));function L(e){var t={};return b(e)&&Object.keys(e).sort().forEach((function(i){t[i]=e[i]})),Object.keys(t)?t:e}var Y=["invoke","success","fail","complete","returnValue"],$={},Z={};function I(e,t){Object.keys(t).forEach((function(i){-1!==Y.indexOf(i)&&D(t[i])&&(e[i]=function(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(i):i}(e[i],t[i]))}))}function M(e,t){e&&t&&Object.keys(t).forEach((function(i){-1!==Y.indexOf(i)&&D(t[i])&&function(e,t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}(e[i],t[i])}))}function J(e,t){return function(i){return e(i,t)||i}}function x(e){return!!e&&("object"===(0,u.default)(e)||"function"===typeof e)&&"function"===typeof e.then}function X(e,t,i){for(var o=!1,r=0;r<e.length;r++){var s=e[r];if(o)o=Promise.resolve(J(s,i));else{var a=s(t,i);if(x(a)&&(o=Promise.resolve(a)),!1===a)return{then:function(){}}}}return o||{then:function(e){return e(t)}}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["success","fail","complete"].forEach((function(i){if(Array.isArray(e[i])){var o=t[i];t[i]=function(r){X(e[i],r,t).then((function(e){return D(o)&&o(e)||e}))}}})),t}function O(e,t){var i=[];Array.isArray($.returnValue)&&i.push.apply(i,(0,d.default)($.returnValue));var o=Z[e];return o&&Array.isArray(o.returnValue)&&i.push.apply(i,(0,d.default)(o.returnValue)),i.forEach((function(e){t=e(t)||t})),t}function B(e){var t=Object.create(null);Object.keys($).forEach((function(e){"returnValue"!==e&&(t[e]=$[e].slice())}));var i=Z[e];return i&&Object.keys(i).forEach((function(e){"returnValue"!==e&&(t[e]=(t[e]||[]).concat(i[e]))})),t}function E(e,t,i){for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];var a=B(e);if(a&&Object.keys(a).length){if(Array.isArray(a.invoke)){var n=X(a.invoke,i);return n.then((function(i){return t.apply(void 0,[H(B(e),i)].concat(r))}))}return t.apply(void 0,[H(a,i)].concat(r))}return t.apply(void 0,[i].concat(r))}var Q={returnValue:function(e){return x(e)?new Promise((function(t,i){e.then((function(e){e[0]?i(e[0]):t(e[1])}))})):e}},R=/^\$|Window$|WindowStyle$|sendHostEvent|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getLocale|setLocale|invokePushCallback|getWindowInfo|getDeviceInfo|getAppBaseInfo|getSystemSetting|getAppAuthorizeSetting|initUTS|requireUTS|registerUTS/,N=/^create|Manager$/,j=["createBLEConnection"],A=["createBLEConnection","createPushMessage"],G=/^on|^off/;function F(e){return N.test(e)&&-1===j.indexOf(e)}function W(e){return R.test(e)&&-1===A.indexOf(e)}function K(e){return e.then((function(e){return[null,e]})).catch((function(e){return[e]}))}function U(e){return!(F(e)||W(e)||function(e){return G.test(e)&&"onPush"!==e}(e))}function q(e,t){return U(e)&&D(t)?function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length,r=new Array(o>1?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];return D(i.success)||D(i.fail)||D(i.complete)?O(e,E.apply(void 0,[e,t,i].concat(r))):O(e,K(new Promise((function(o,s){E.apply(void 0,[e,t,Object.assign({},i,{success:o,fail:s})].concat(r))}))))}:t}Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){throw i}))}))});var V=!1,z=0,ee=0;var te,ie={};te=se(e.getSystemInfoSync().language)||"en",function(){if(function(){return"undefined"!==typeof __uniConfig&&__uniConfig.locales&&!!Object.keys(__uniConfig.locales).length}()){var e=Object.keys(__uniConfig.locales);e.length&&e.forEach((function(e){var t=ie[e],i=__uniConfig.locales[e];t?Object.assign(t,i):ie[e]=i}))}}();var oe=(0,l.initVueI18n)(te,{}),re=oe.t;oe.mixin={beforeCreate:function(){var e=this,t=oe.i18n.watchLocale((function(){e.$forceUpdate()}));this.$once("hook:beforeDestroy",(function(){t()}))},methods:{$$t:function(e,t){return re(e,t)}}},oe.setLocale,oe.getLocale;function se(e,t){if(e){if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),"chinese"===e)return"zh-Hans";if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?"zh-Hans":e.indexOf("-hant")>-1||function(e,t){return!!t.find((function(t){return-1!==e.indexOf(t)}))}(e,["-tw","-hk","-mo","-cht"])?"zh-Hant":"zh-Hans";var i=function(e,t){return t.find((function(t){return 0===e.indexOf(t)}))}(e,["en","fr","es"]);return i||void 0}}function ae(){if(D(getApp)){var t=getApp({allowDefault:!0});if(t&&t.$vm)return t.$vm.$locale}return se(e.getSystemInfoSync().language)||"en"}var ne=[];"undefined"!==typeof o&&(o.getLocale=ae);var ce={promiseInterceptor:Q},de=Object.freeze({__proto__:null,upx2px:function(t,i){if(0===z&&function(){var t=e.getSystemInfoSync(),i=t.platform,o=t.pixelRatio,r=t.windowWidth;z=r,ee=o,V="ios"===i}(),t=Number(t),0===t)return 0;var o=t/750*(i||z);return o<0&&(o=-o),o=Math.floor(o+1e-4),0===o&&(o=1!==ee&&V?.5:1),t<0?-o:o},getLocale:ae,setLocale:function(e){var t=!!D(getApp)&&getApp();if(!t)return!1;var i=t.$vm.$locale;return i!==e&&(t.$vm.$locale=e,ne.forEach((function(t){return t({locale:e})})),!0)},onLocaleChange:function(e){-1===ne.indexOf(e)&&ne.push(e)},addInterceptor:function(e,t){"string"===typeof e&&b(t)?I(Z[e]||(Z[e]={}),t):b(e)&&I($,e)},removeInterceptor:function(e,t){"string"===typeof e?b(t)?M(Z[e],t):delete Z[e]:b(e)&&M($,e)},interceptors:ce});var ue,le={name:function(e){return"back"===e.exists&&e.delta?"navigateBack":"redirectTo"},args:function(e){if("back"===e.exists&&e.url){var t=function(e){var t=getCurrentPages(),i=t.length;while(i--){var o=t[i];if(o.$page&&o.$page.fullPath===e)return i}return-1}(e.url);if(-1!==t){var i=getCurrentPages().length-1-t;i>0&&(e.delta=i)}}}},he={args:function(e){var t=parseInt(e.current);if(!isNaN(t)){var i=e.urls;if(Array.isArray(i)){var o=i.length;if(o)return t<0?t=0:t>=o&&(t=o-1),t>0?(e.current=i[t],e.urls=i.filter((function(e,o){return!(o<t)||e!==i[t]}))):e.current=i[0],{indicator:!1,loop:!1}}}}};function pe(t){ue=ue||e.getStorageSync("__DC_STAT_UUID"),ue||(ue=Date.now()+""+Math.floor(1e7*Math.random()),e.setStorage({key:"__DC_STAT_UUID",data:ue})),t.deviceId=ue}function fe(e){if(e.safeArea){var t=e.safeArea;e.safeAreaInsets={top:t.top,left:t.left,right:e.windowWidth-t.right,bottom:e.screenHeight-t.bottom}}}function ge(e,t){for(var i=e.deviceType||"phone",o={ipad:"pad",windows:"pc",mac:"pc"},r=Object.keys(o),s=t.toLocaleLowerCase(),a=0;a<r.length;a++){var n=r[a];if(-1!==s.indexOf(n)){i=o[n];break}}return i}function me(e){var t=e;return t&&(t=e.toLocaleLowerCase()),t}function _e(e){return ae?ae():e}function ve(e){var t=e.hostName||"WeChat";return e.environment?t=e.environment:e.host&&e.host.env&&(t=e.host.env),t}var ye={returnValue:function(e){pe(e),fe(e),function(e){var t,i=e.brand,o=void 0===i?"":i,r=e.model,s=void 0===r?"":r,a=e.system,n=void 0===a?"":a,c=e.language,d=void 0===c?"":c,u=e.theme,l=e.version,h=(e.platform,e.fontSizeSetting),p=e.SDKVersion,f=e.pixelRatio,g=e.deviceOrientation,m="";m=n.split(" ")[0]||"",t=n.split(" ")[1]||"";var _=l,v=ge(e,s),y=me(o),D=ve(e),S=g,b=f,C=p,P=d.replace(/_/g,"-"),w={appId:"__UNI__B8CA6D8",appName:"duo",appVersion:"1.0.0",appVersionCode:"100",appLanguage:_e(P),uniCompileVersion:"3.98",uniRuntimeVersion:"3.98",uniPlatform:"mp-weixin",deviceBrand:y,deviceModel:s,deviceType:v,devicePixelRatio:b,deviceOrientation:S,osName:m.toLocaleLowerCase(),osVersion:t,hostTheme:u,hostVersion:_,hostLanguage:P,hostName:D,hostSDKVersion:C,hostFontSizeSetting:h,windowTop:0,windowBottom:0,osLanguage:void 0,osTheme:void 0,ua:void 0,hostPackageName:void 0,browserName:void 0,browserVersion:void 0};Object.assign(e,w,{})}(e)}},De={args:function(e){"object"===(0,u.default)(e)&&(e.alertText=e.title)}},Se={returnValue:function(e){var t=e,i=t.version,o=t.language,r=t.SDKVersion,s=t.theme,a=ve(e),n=o.replace("_","-");e=L(Object.assign(e,{appId:"__UNI__B8CA6D8",appName:"duo",appVersion:"1.0.0",appVersionCode:"100",appLanguage:_e(n),hostVersion:i,hostLanguage:n,hostName:a,hostSDKVersion:r,hostTheme:s}))}},be={returnValue:function(e){var t=e,i=t.brand,o=t.model,r=ge(e,o),s=me(i);pe(e),e=L(Object.assign(e,{deviceType:r,deviceBrand:s,deviceModel:o}))}},Ce={returnValue:function(e){fe(e),e=L(Object.assign(e,{windowTop:0,windowBottom:0}))}},Pe={redirectTo:le,previewImage:he,getSystemInfo:ye,getSystemInfoSync:ye,showActionSheet:De,getAppBaseInfo:Se,getDeviceInfo:be,getWindowInfo:Ce,getAppAuthorizeSetting:{returnValue:function(e){var t=e.locationReducedAccuracy;e.locationAccuracy="unsupported",!0===t?e.locationAccuracy="reduced":!1===t&&(e.locationAccuracy="full")}},compressImage:{args:function(e){e.compressedHeight&&!e.compressHeight&&(e.compressHeight=e.compressedHeight),e.compressedWidth&&!e.compressWidth&&(e.compressWidth=e.compressedWidth)}}},we=["success","fail","cancel","complete"];function Te(e,t,i){return function(o){return t(Le(e,o,i))}}function ke(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(b(t)){var s=!0===r?t:{};for(var a in D(i)&&(i=i(t,s)||{}),t)if(C(i,a)){var n=i[a];D(n)&&(n=n(t[a],t,s)),n?S(n)?s[n]=t[a]:b(n)&&(s[n.name?n.name:a]=n.value):console.warn("The '".concat(e,"' method of platform '微信小程序' does not support option '").concat(a,"'"))}else-1!==we.indexOf(a)?D(t[a])&&(s[a]=Te(e,t[a],o)):r||(s[a]=t[a]);return s}return D(t)&&(t=Te(e,t,o)),t}function Le(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return D(Pe.returnValue)&&(t=Pe.returnValue(e,t)),ke(e,t,i,{},o)}function Ye(t,i){if(C(Pe,t)){var o=Pe[t];return o?function(i,r){var s=o;D(o)&&(s=o(i)),i=ke(t,i,s.args,s.returnValue);var a=[i];"undefined"!==typeof r&&a.push(r),D(s.name)?t=s.name(i):S(s.name)&&(t=s.name);var n=e[t].apply(e,a);return W(t)?Le(t,n,s.returnValue,F(t)):n}:function(){console.error("Platform '微信小程序' does not support '".concat(t,"'."))}}return i}var $e=Object.create(null);["onTabBarMidButtonTap","subscribePush","unsubscribePush","onPush","offPush","share"].forEach((function(e){$e[e]=function(e){return function(t){var i=t.fail,o=t.complete,r={errMsg:"".concat(e,":fail method '").concat(e,"' not supported")};D(i)&&i(r),D(o)&&o(r)}}(e)}));var Ze={oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]};var Ie=Object.freeze({__proto__:null,getProvider:function(e){var t=e.service,i=e.success,o=e.fail,r=e.complete,s=!1;Ze[t]?(s={errMsg:"getProvider:ok",service:t,provider:Ze[t]},D(i)&&i(s)):(s={errMsg:"getProvider:fail service not found"},D(o)&&o(s)),D(r)&&r(s)}}),Me=function(){var e;return function(){return e||(e=new h.default),e}}();function Je(e,t,i){return e[t].apply(e,i)}var xe,Xe,He,Oe=Object.freeze({__proto__:null,$on:function(){return Je(Me(),"$on",Array.prototype.slice.call(arguments))},$off:function(){return Je(Me(),"$off",Array.prototype.slice.call(arguments))},$once:function(){return Je(Me(),"$once",Array.prototype.slice.call(arguments))},$emit:function(){return Je(Me(),"$emit",Array.prototype.slice.call(arguments))}});function Be(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}function Ee(e){try{return JSON.parse(e)}catch(t){}return e}var Qe=[];function Re(e,t){Qe.forEach((function(i){i(e,t)})),Qe.length=0}var Ne=[],je=e.getAppBaseInfo&&e.getAppBaseInfo();je||(je=e.getSystemInfoSync());var Ae=je?je.host:null,Ge=Ae&&"SAAASDK"===Ae.env?e.miniapp.shareVideoMessage:e.shareVideoMessage,Fe=Object.freeze({__proto__:null,shareVideoMessage:Ge,getPushClientId:function(e){b(e)||(e={});var t=function(e){var t={};for(var i in e){var o=e[i];D(o)&&(t[i]=Be(o),delete e[i])}return t}(e),i=t.success,o=t.fail,r=t.complete,s=D(i),a=D(o),n=D(r);Promise.resolve().then((function(){"undefined"===typeof He&&(He=!1,xe="",Xe="uniPush is not enabled"),Qe.push((function(e,t){var c;e?(c={errMsg:"getPushClientId:ok",cid:e},s&&i(c)):(c={errMsg:"getPushClientId:fail"+(t?" "+t:"")},a&&o(c)),n&&r(c)})),"undefined"!==typeof xe&&Re(xe,Xe)}))},onPushMessage:function(e){-1===Ne.indexOf(e)&&Ne.push(e)},offPushMessage:function(e){if(e){var t=Ne.indexOf(e);t>-1&&Ne.splice(t,1)}else Ne.length=0},invokePushCallback:function(e){if("enabled"===e.type)He=!0;else if("clientId"===e.type)xe=e.cid,Xe=e.errMsg,Re(xe,e.errMsg);else if("pushMsg"===e.type)for(var t={type:"receive",data:Ee(e.message)},i=0;i<Ne.length;i++){var o=Ne[i];if(o(t),t.stopped)break}else"click"===e.type&&Ne.forEach((function(t){t({type:"click",data:Ee(e.message)})}))}}),We=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function Ke(e){return Behavior(e)}function Ue(){return!!this.route}function qe(e){this.triggerEvent("__l",e)}function Ve(e){var t=e.$scope,i={};Object.defineProperty(e,"$refs",{get:function(){var e={};(function e(t,i,o){var r=t.selectAllComponents(i)||[];r.forEach((function(t){var r=t.dataset.ref;o[r]=t.$vm||tt(t),"scoped"===t.dataset.vueGeneric&&t.selectAllComponents(".scoped-ref").forEach((function(t){e(t,i,o)}))}))})(t,".vue-ref",e);var o=t.selectAllComponents(".vue-ref-in-for")||[];return o.forEach((function(t){var i=t.dataset.ref;e[i]||(e[i]=[]),e[i].push(t.$vm||tt(t))})),function(e,t){var i=(0,c.default)(Set,(0,d.default)(Object.keys(e))),o=Object.keys(t);return o.forEach((function(o){var r=e[o],s=t[o];Array.isArray(r)&&Array.isArray(s)&&r.length===s.length&&s.every((function(e){return r.includes(e)}))||(e[o]=s,i.delete(o))})),i.forEach((function(t){delete e[t]})),e}(i,e)}})}function ze(e){var t,i=e.detail||e.value,o=i.vuePid,r=i.vueOptions;o&&(t=function e(t,i){for(var o,r=t.$children,s=r.length-1;s>=0;s--){var a=r[s];if(a.$scope._$vueId===i)return a}for(var n=r.length-1;n>=0;n--)if(o=e(r[n],i),o)return o}(this.$vm,o)),t||(t=this.$vm),r.parent=t}function et(e){return Object.defineProperty(e,"__v_isMPComponent",{configurable:!0,enumerable:!1,value:!0}),e}function tt(e){return function(e){return null!==e&&"object"===(0,u.default)(e)}(e)&&Object.isExtensible(e)&&Object.defineProperty(e,"__ob__",{configurable:!0,enumerable:!1,value:(0,n.default)({},"__v_skip",!0)}),e}var it=/_(.*)_worklet_factory_/;var ot=Page,rt=Component,st=/:/g,at=w((function(e){return k(e.replace(st,"-"))}));function nt(e){var t=e.triggerEvent,i=function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];if(this.$vm||this.dataset&&this.dataset.comType)e=at(e);else{var s=at(e);s!==e&&t.apply(this,[s].concat(o))}return t.apply(this,[e].concat(o))};try{e.triggerEvent=i}catch(o){e._triggerEvent=i}}function ct(e,t,i){var o=t[e];t[e]=function(){if(et(this),nt(this),o){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o.apply(this,t)}}}ot.__$wrappered||(ot.__$wrappered=!0,Page=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ct("onLoad",e),ot(e)},Page.after=ot.after,Component=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ct("created",e),rt(e)});function dt(e,t,i){t.forEach((function(t){(function e(t,i){if(!i)return!0;if(h.default.options&&Array.isArray(h.default.options[t]))return!0;if(i=i.default||i,D(i))return!!D(i.extendOptions[t])||!!(i.super&&i.super.options&&Array.isArray(i.super.options[t]));if(D(i[t])||Array.isArray(i[t]))return!0;var o=i.mixins;return Array.isArray(o)?!!o.find((function(i){return e(t,i)})):void 0})(t,i)&&(e[t]=function(e){return this.$vm&&this.$vm.__call_hook(t,e)})}))}function ut(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];lt(t).forEach((function(t){return ht(e,t,i)}))}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&Object.keys(e).forEach((function(i){0===i.indexOf("on")&&D(e[i])&&t.push(i)})),t}function ht(e,t,i){-1!==i.indexOf(t)||C(e,t)||(e[t]=function(e){return this.$vm&&this.$vm.__call_hook(t,e)})}function pt(e,t){var i;return t=t.default||t,i=D(t)?t:e.extend(t),t=i.options,[i,t]}function ft(e,t){if(Array.isArray(t)&&t.length){var i=Object.create(null);t.forEach((function(e){i[e]=!0})),e.$scopedSlots=e.$slots=i}}function gt(e,t){e=(e||"").split(",");var i=e.length;1===i?t._$vueId=e[0]:2===i&&(t._$vueId=e[0],t._$vuePid=e[1])}function mt(e,t){var i=e.data||{},o=e.methods||{};if("function"===typeof i)try{i=i.call(t)}catch(r){Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"duo",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG&&console.warn("根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。",i)}else try{i=JSON.parse(JSON.stringify(i))}catch(r){}return b(i)||(i={}),Object.keys(o).forEach((function(e){-1!==t.__lifecycle_hooks__.indexOf(e)||C(i,e)||(i[e]=o[e])})),i}var _t=[String,Number,Boolean,Object,Array,null];function vt(e){return function(t,i){this.$vm&&(this.$vm[e]=t)}}function yt(e,t){var i=e.behaviors,o=e.extends,r=e.mixins,s=e.props;s||(e.props=s=[]);var a=[];return Array.isArray(i)&&i.forEach((function(e){a.push(e.replace("uni://","wx".concat("://"))),"uni://form-field"===e&&(Array.isArray(s)?(s.push("name"),s.push("value")):(s.name={type:String,default:""},s.value={type:[String,Number,Boolean,Array,Object,Date],default:""}))})),b(o)&&o.props&&a.push(t({properties:St(o.props,!0)})),Array.isArray(r)&&r.forEach((function(e){b(e)&&e.props&&a.push(t({properties:St(e.props,!0)}))})),a}function Dt(e,t,i,o){return Array.isArray(t)&&1===t.length?t[0]:t}function St(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>3?arguments[3]:void 0,o={};return t||(o.vueId={type:String,value:""},i.virtualHost&&(o.virtualHostStyle={type:null,value:""},o.virtualHostClass={type:null,value:""}),o.scopedSlotsCompiler={type:String,value:""},o.vueSlots={type:null,value:[],observer:function(e,t){var i=Object.create(null);e.forEach((function(e){i[e]=!0})),this.setData({$slots:i})}}),Array.isArray(e)?e.forEach((function(e){o[e]={type:null,observer:vt(e)}})):b(e)&&Object.keys(e).forEach((function(t){var i=e[t];if(b(i)){var r=i.default;D(r)&&(r=r()),i.type=Dt(0,i.type),o[t]={type:-1!==_t.indexOf(i.type)?i.type:null,value:r,observer:vt(t)}}else{var s=Dt(0,i);o[t]={type:-1!==_t.indexOf(s)?s:null,observer:vt(t)}}})),o}function bt(e,t,i,o){var r={};return Array.isArray(t)&&t.length&&t.forEach((function(t,s){"string"===typeof t?t?"$event"===t?r["$"+s]=i:"arguments"===t?r["$"+s]=i.detail&&i.detail.__args__||o:0===t.indexOf("$event.")?r["$"+s]=e.__get_value(t.replace("$event.",""),i):r["$"+s]=e.__get_value(t):r["$"+s]=e:r["$"+s]=function(e,t){var i=e;return t.forEach((function(t){var o=t[0],r=t[2];if(o||"undefined"!==typeof r){var s,a=t[1],n=t[3];Number.isInteger(o)?s=o:o?"string"===typeof o&&o&&(s=0===o.indexOf("#s#")?o.substr(3):e.__get_value(o,i)):s=i,Number.isInteger(s)?i=r:a?Array.isArray(s)?i=s.find((function(t){return e.__get_value(a,t)===r})):b(s)?i=Object.keys(s).find((function(t){return e.__get_value(a,s[t])===r})):console.error("v-for 暂不支持循环数据：",s):i=s[r],n&&(i=e.__get_value(n,i))}})),i}(e,t)})),r}function Ct(e){for(var t={},i=1;i<e.length;i++){var o=e[i];t[o[0]]=o[1]}return t}function Pt(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=!1,n=b(t.detail)&&t.detail.__args__||[t.detail];if(r&&(a=t.currentTarget&&t.currentTarget.dataset&&"wx"===t.currentTarget.dataset.comType,!i.length))return a?[t]:n;var c=bt(e,o,t,n),d=[];return i.forEach((function(e){"$event"===e?"__set_model"!==s||r?r&&!a?d.push(n[0]):d.push(t):d.push(t.target.value):Array.isArray(e)&&"o"===e[0]?d.push(Ct(e)):"string"===typeof e&&C(c,e)?d.push(c[e]):d.push(e)})),d}function wt(e){var t=this;e=function(e){try{e.mp=JSON.parse(JSON.stringify(e))}catch(t){}return e.stopPropagation=P,e.preventDefault=P,e.target=e.target||{},C(e,"detail")||(e.detail={}),C(e,"markerId")&&(e.detail="object"===(0,u.default)(e.detail)?e.detail:{},e.detail.markerId=e.markerId),b(e.detail)&&(e.target=Object.assign({},e.target,e.detail)),e}(e);var i=(e.currentTarget||e.target).dataset;if(!i)return console.warn("事件信息不存在");var o=i.eventOpts||i["event-opts"];if(!o)return console.warn("事件信息不存在");var r=e.type,s=[];return o.forEach((function(i){var o=i[0],a=i[1],n="^"===o.charAt(0);o=n?o.slice(1):o;var c="~"===o.charAt(0);o=c?o.slice(1):o,a&&function(e,t){return e===t||"regionchange"===t&&("begin"===e||"end"===e)}(r,o)&&a.forEach((function(i){var o=i[0];if(o){var r=t.$vm;if(r.$options.generic&&(r=function(e){var t=e.$parent;while(t&&t.$parent&&(t.$options.generic||t.$parent.$options.generic||t.$scope._$vuePid))t=t.$parent;return t&&t.$parent}(r)||r),"$emit"===o)return void r.$emit.apply(r,Pt(t.$vm,e,i[1],i[2],n,o));var a=r[o];if(!D(a)){var d="page"===t.$vm.mpType?"Page":"Component",u=t.route||t.is;throw new Error("".concat(d,' "').concat(u,'" does not have a method "').concat(o,'"'))}if(c){if(a.once)return;a.once=!0}var l=Pt(t.$vm,e,i[1],i[2],n,o);l=Array.isArray(l)?l:[],/=\s*\S+\.eventParams\s*\|\|\s*\S+\[['"]event-params['"]\]/.test(a.toString())&&(l=l.concat([,,,,,,,,,,e])),s.push(a.apply(r,l))}}))})),"input"===r&&1===s.length&&"undefined"!==typeof s[0]?s[0]:void 0}var Tt={};var kt=["onShow","onHide","onError","onPageNotFound","onThemeChange","onUnhandledRejection"];function Lt(){h.default.prototype.getOpenerEventChannel=function(){return this.$scope.getOpenerEventChannel()};var e=h.default.prototype.__call_hook;h.default.prototype.__call_hook=function(t,i){return"onLoad"===t&&i&&i.__id__&&(this.__eventChannel__=function(e){var t=Tt[e];return delete Tt[e],t}(i.__id__),delete i.__id__),e.call(this,t,i)}}function Yt(t,i){var o=i.mocks,r=i.initRefs;Lt(),function(){var e={},t={};function i(e){var t=this.$options.propsData.vueId;if(t){var i=t.split(",")[0];e(i)}}h.default.prototype.$hasSSP=function(i){var o=e[i];return o||(t[i]=this,this.$on("hook:destroyed",(function(){delete t[i]}))),o},h.default.prototype.$getSSP=function(t,i,o){var r=e[t];if(r){var s=r[i]||[];return o?s:s[0]}},h.default.prototype.$setSSP=function(t,o){var r=0;return i.call(this,(function(i){var s=e[i],a=s[t]=s[t]||[];a.push(o),r=a.length-1})),r},h.default.prototype.$initSSP=function(){i.call(this,(function(t){e[t]={}}))},h.default.prototype.$callSSP=function(){i.call(this,(function(e){t[e]&&t[e].$forceUpdate()}))},h.default.mixin({destroyed:function(){var i=this.$options.propsData,o=i&&i.vueId;o&&(delete e[o],delete t[o])}})}(),t.$options.store&&(h.default.prototype.$store=t.$options.store),function(e){e.prototype.uniIDHasRole=function(e){var t=_(),i=t.role;return i.indexOf(e)>-1},e.prototype.uniIDHasPermission=function(e){var t=_(),i=t.permission;return this.uniIDHasRole("admin")||i.indexOf(e)>-1},e.prototype.uniIDTokenValid=function(){var e=_(),t=e.tokenExpired;return t>Date.now()}}(h.default),h.default.prototype.mpHost="mp-weixin",h.default.mixin({beforeCreate:function(){if(this.$options.mpType){if(this.mpType=this.$options.mpType,this.$mp=(0,n.default)({data:{}},this.mpType,this.$options.mpInstance),this.$scope=this.$options.mpInstance,delete this.$options.mpType,delete this.$options.mpInstance,"page"===this.mpType&&"function"===typeof getApp){var e=getApp();e.$vm&&e.$vm.$i18n&&(this._i18n=e.$vm.$i18n)}"app"!==this.mpType&&(r(this),function(e,t){var i=e.$mp[e.mpType];t.forEach((function(t){C(i,t)&&(e[t]=i[t])}))}(this,o))}}});var s={onLaunch:function(i){this.$vm||(e.canIUse&&!e.canIUse("nextTick")&&console.error("当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上"),this.$vm=t,this.$vm.$mp={app:this},this.$vm.$scope=this,this.$vm.globalData=this.globalData,this.$vm._isMounted=!0,this.$vm.__call_hook("mounted",i),this.$vm.__call_hook("onLaunch",i))}};s.globalData=t.$options.globalData||{};var a=t.$options.methods;return a&&Object.keys(a).forEach((function(e){s[e]=a[e]})),function(e,t,i){var o=e.observable({locale:i||oe.getLocale()}),r=[];t.$watchLocale=function(e){r.push(e)},Object.defineProperty(t,"$locale",{get:function(){return o.locale},set:function(e){o.locale=e,r.forEach((function(t){return t(e)}))}})}(h.default,t,se(e.getSystemInfoSync().language)||"en"),dt(s,kt),ut(s,t.$options),s}function $t(e){return Yt(e,{mocks:We,initRefs:Ve})}function Zt(e){return App($t(e)),e}var It=/[!'()*]/g,Mt=function(e){return"%"+e.charCodeAt(0).toString(16)},Jt=/%2C/g,xt=function(e){return encodeURIComponent(e).replace(It,Mt).replace(Jt,",")};function Xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt,i=e?Object.keys(e).map((function(i){var o=e[i];if(void 0===o)return"";if(null===o)return t(i);if(Array.isArray(o)){var r=[];return o.forEach((function(e){void 0!==e&&(null===e?r.push(t(i)):r.push(t(i)+"="+t(e)))})),r.join("&")}return t(i)+"="+t(o)})).filter((function(e){return e.length>0})).join("&"):null;return i?"?".concat(i):""}function Ht(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.isPage,o=t.initRelation,r=arguments.length>2?arguments[2]:void 0,s=pt(h.default,e),n=(0,a.default)(s,2),c=n[0],d=n[1],u=f({multipleSlots:!0,addGlobalClass:!0},d.options||{});d["mp-weixin"]&&d["mp-weixin"].options&&Object.assign(u,d["mp-weixin"].options);var l={options:u,data:mt(d,h.default.prototype),behaviors:yt(d,Ke),properties:St(d.props,!1,d.__file,u),lifetimes:{attached:function(){var e=this.properties,t={mpType:i.call(this)?"page":"component",mpInstance:this,propsData:e};gt(e.vueId,this),o.call(this,{vuePid:this._$vuePid,vueOptions:t}),this.$vm=new c(t),ft(this.$vm,e.vueSlots),this.$vm.$mount()},ready:function(){this.$vm&&(this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady"))},detached:function(){this.$vm&&this.$vm.$destroy()}},pageLifetimes:{show:function(e){this.$vm&&this.$vm.__call_hook("onPageShow",e)},hide:function(){this.$vm&&this.$vm.__call_hook("onPageHide")},resize:function(e){this.$vm&&this.$vm.__call_hook("onPageResize",e)}},methods:{__l:ze,__e:wt}};return d.externalClasses&&(l.externalClasses=d.externalClasses),Array.isArray(d.wxsCallMethods)&&d.wxsCallMethods.forEach((function(e){l.methods[e]=function(t){return this.$vm[e](t)}})),r?[l,d,c]:i?l:[l,c]}(e,{isPage:Ue,initRelation:qe},t)}var Ot=["onShow","onHide","onUnload"];function Bt(e){var t=Ht(e,!0),i=(0,a.default)(t,2),o=i[0],r=i[1];return dt(o.methods,Ot,r),o.methods.onLoad=function(e){this.options=e;var t=Object.assign({},e);delete t.__id__,this.$page={fullPath:"/"+(this.route||this.is)+Xt(t)},this.$vm.$mp.query=e,this.$vm.__call_hook("onLoad",e)},ut(o.methods,e,["onReady"]),function(e,t){t&&Object.keys(t).forEach((function(i){var o=i.match(it);if(o){var r=o[1];e[i]=t[i],e[r]=t[r]}}))}(o.methods,r.methods),o}function Et(e){return Component(function(e){return Bt(e)}(e))}function Qt(e){return Component(Ht(e))}function Rt(t){var i=$t(t),o=getApp({allowDefault:!0});t.$scope=o;var r=o.globalData;if(r&&Object.keys(i.globalData).forEach((function(e){C(r,e)||(r[e]=i.globalData[e])})),Object.keys(i).forEach((function(e){C(o,e)||(o[e]=i[e])})),D(i.onShow)&&e.onAppShow&&e.onAppShow((function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.__call_hook("onShow",i)})),D(i.onHide)&&e.onAppHide&&e.onAppHide((function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.__call_hook("onHide",i)})),D(i.onLaunch)){var s=e.getLaunchOptionsSync&&e.getLaunchOptionsSync();t.__call_hook("onLaunch",s)}return t}function Nt(t){var i=$t(t);if(D(i.onShow)&&e.onAppShow&&e.onAppShow((function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.__call_hook("onShow",i)})),D(i.onHide)&&e.onAppHide&&e.onAppHide((function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t.__call_hook("onHide",i)})),D(i.onLaunch)){var o=e.getLaunchOptionsSync&&e.getLaunchOptionsSync();t.__call_hook("onLaunch",o)}return t}Ot.push.apply(Ot,["onPullDownRefresh","onReachBottom","onAddToFavorites","onShareTimeline","onShareAppMessage","onPageScroll","onResize","onTabItemTap"]),["vibrate","preloadPage","unPreloadPage","loadSubPackage"].forEach((function(e){Pe[e]=!1})),[].forEach((function(t){var i=Pe[t]&&Pe[t].name?Pe[t].name:t;e.canIUse(i)||(Pe[t]=!1)}));var jt={};"undefined"!==typeof Proxy?jt=new Proxy({},{get:function(t,i){return C(t,i)?t[i]:de[i]?de[i]:Fe[i]?q(i,Fe[i]):Ie[i]?q(i,Ie[i]):$e[i]?q(i,$e[i]):Oe[i]?Oe[i]:q(i,Ye(i,e[i]))},set:function(e,t,i){return e[t]=i,!0}}):(Object.keys(de).forEach((function(e){jt[e]=de[e]})),Object.keys($e).forEach((function(e){jt[e]=q(e,$e[e])})),Object.keys(Ie).forEach((function(e){jt[e]=q(e,Ie[e])})),Object.keys(Oe).forEach((function(e){jt[e]=Oe[e]})),Object.keys(Fe).forEach((function(e){jt[e]=q(e,Fe[e])})),Object.keys(e).forEach((function(t){(C(e,t)||C(Pe,t))&&(jt[t]=q(t,Ye(t,e[t])))}))),e.createApp=Zt,e.createPage=Et,e.createComponent=Qt,e.createSubpackageApp=Rt,e.createPlugin=Nt;var At=jt,Gt=At;t.default=Gt}).call(this,i("bc2e")["default"],i("c8ba"))},"543f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"}},"55a0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"预售专区"}},"55db":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"店铺搜索"}},5637:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{listStyle:"",loadingType:"loading",orderType:"",priceOrder:"desc",categoryList:[],goodsList:[],order:"",sort:"desc",showCategory:!1,showScreen:!1,keyword:"",categoryId:0,categoryLevel:0,brandId:0,attr:[],currAttr:[],minPrice:"",maxPrice:"",isFreeShipping:-1,brandList:[],showBrandMore:!1,attributeList:[],siteId:0,emptyShow:!1,isList:!0,couponId:0,platformcouponTypeId:0,network:!1,mescroll:null}},onLoad:function(e){e.site_id?(this.siteId=e.site_id,this.categoryId=e.category_id||0,this.categoryLevel=e.category_level||0,this.brandId=e.brand_id||0,this.keyword=e.keyword||"",this.loadCategoryList(this.categoryId),this.couponId=e.couponId||0,this.platformcouponTypeId=e.platformcouponTypeId||0):this.$util.redirectTo("/otherpages/shop/index/index",{},"redirectTo")},onShow:function(){this.network=!0,this.$langConfig.refresh()},methods:{getGoodsList:function(e){var t=this;this.mescroll=e;var i={page:e.num,page_size:e.size,keyword:this.keyword,category_level:this.categoryLevel,brand_id:this.brandId,min_price:this.minPrice,max_price:this.maxPrice,order:this.order,sort:this.sort,attr:this.currAttr.length>0?JSON.stringify(this.currAttr):"",site_id:this.siteId,coupon_type:this.couponId,platform_coupon_type:this.platformcouponTypeId};this.siteId?i.shop_category_id=this.categoryId:(i.category_id=levelId,i.category_level=this.categoryLevel),this.isFreeShipping>0&&(i.is_free_shipping=this.isFreeShipping),this.$api.sendRequest({url:"/api/goodssku/page",data:i,success:function(i){var o=[],r=i.message;0==i.code&&i.data?(0==i.data.page_count&&(t.emptyShow=!0),o=i.data.list):t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.network=!0},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},changeListStyle:function(){this.isList=!this.isList},resetData:function(){this.categoryId=0,this.minPrice="",this.maxPrice="",this.isFreeShipping=!1},goodsImg:function(e){var t=e.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},loadCategoryList:function(e,t){var i=this;this.$api.sendRequest({url:"/api/shopgoodscategory/tree",data:{site_id:this.siteId},success:function(e){null!=e.data&&(i.categoryList=e.data)}})},sortTabClick:function(e){if("sale_num"==e)this.order="sale_num",this.sort="desc";else if("discount_price"==e)this.order="discount_price",this.sort="desc";else{if("screen"==e)return void(this.showScreen=!0);this.order="",this.sort=""}this.orderType===e&&"discount_price"!==e||(this.orderType=e,"discount_price"===e?(this.priceOrder="asc"===this.priceOrder?"desc":"asc",this.sort=this.priceOrder):this.priceOrder="",this.emptyShow=!1,this.$refs.mescroll.refresh())},toDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.sku_id})},search:function(){this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh()},selectedCategory:function(e,t){this.keyword="",this.categoryId=e,this.categoryLevel=t},selectedAttr:function(e,t){for(var i in this.attr[e]&&this.attr[e].attr_value_id==t?delete this.attr[e]:this.attr[e]={attr_id:e,attr_value_id:t},this.currAttr=[],this.attr)this.currAttr.push(this.attr[i])},isSelectedAttr:function(e,t){var i=!1;for(var o in this.currAttr)if(this.currAttr[o].attr_id==e&&this.currAttr[o].attr_value_id==t){i=!0;break}return i},screenData:function(){if(""!=this.minPrice||""!=this.maxPrice){if(!Number(this.minPrice))return void this.$util.showToast({title:"请输入最低价"});if(!Number(this.maxPrice))return void this.$util.showToast({title:"最输入最高价"});if(Number(this.minPrice)<0||Number(this.maxPrice)<0)return void this.$util.showToast({title:"筛选价格不能小于0"});if(""!=this.minPrice&&Number(this.minPrice)>Number(this.maxPrice))return void this.$util.showToast({title:"最低价不能大于最高价"});if(""!=this.maxPrice&&Number(this.maxPrice)<Number(this.minPrice))return void this.$util.showToast({title:"最高价不能小于最低价"})}this.$refs.mescroll.refresh(),this.showScreen=!1,this.emptyShow=!1},imgError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},showPrice:function(e){var t=e.discount_price;return e.member_price&&parseFloat(e.member_price)<parseFloat(t)&&(t=e.member_price),t}}};t.default=o},5708:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{selectGoodsId:0,goodsCategory:[{id:0,name:"宝贝"},{id:1,name:"店铺"}],collectionList:[],isEdit:!1,isShowEmpty:!1}},methods:{toDetail:function(e){this.isEdit||this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},toShopDetail:function(e){this.isEdit||this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},goodsCateChange:function(e){this.selectGoodsId!=e&&(this.collectionList=[],this.isEdit=!1,this.selectGoodsId=e,this.$refs.goodsRecommend.init(),this.$refs.mescroll.refresh())},edit:function(){if(this.collectionList.length<=0)return!1;this.isEdit=!this.isEdit},getData:function(e){var t=this;this.isShowEmpty=!1;var i="/api/goodscollect/page";1==this.selectGoodsId&&(i="/api/shopmember/membershoppages");var o=[];this.$api.sendRequest({url:i,data:{page_size:e.size,page:e.num},async:!1}).then((function(i){var r=i.data.list;if(0==t.selectGoodsId)for(var s=0;s<r.length;s++)r[s].composite_score=Math.floor((parseFloat(r[s].shop_desccredit)+parseFloat(r[s].shop_servicecredit)+parseFloat(r[s].shop_deliverycredit))/3).toFixed(1);o=o.concat(r),1==e.num&&(t.collectionList=[]),t.collectionList=t.collectionList.concat(r),o.length<e.size?t.$refs.goodsRecommend.getLikeList(e.size).then((function(i){o=o.concat(i),e.endSuccess(o.length),1==e.num&&t.$refs.loadingCover&&t.$refs.loadingCover.hide()})):(e.endSuccess(o.length),t.$refs.loadingCover&&t.$refs.loadingCover.hide()),t.isShowEmpty=!0}))},listenRefresh:function(e){this.$refs.goodsRecommend.init()},deleteItem:function(e){var t=this;this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:e},success:function(i){if(0==i.code){t.$util.showToast({title:"删除成功"});var o=t.collectionList,r=o.filter((function(t){return t.goods_id!=e}));t.collectionList=r}else t.$util.showToast({title:i.message})}})},unfollow:function(e){var t=this;this.$api.sendRequest({url:"/api/shopmember/delete",data:{site_id:e},success:function(i){if(0==i.code&&i.data){var o=t.collectionList.filter((function(t){return t.site_id!=e}));t.collectionList=o,t.$util.showToast({title:"取消成功"})}else t.$util.showToast({title:i.message})}})},imgError:function(e){this.collectionList[e].logo=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()},goodsImgError:function(e){this.collectionList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()}}};t.default=o},"58de6":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",platform_coupon_id:0},orderPaymentData:{member_account:{balance:0,is_pay_password:0,mobile:""},delivery:{delivery_type:""},platform_coupon_list:[]},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},presentCoupon:[],isSub:!1,tempData:null,sitePromotion:[],siteDelivery:{site_id:0,data:[]},siteCoupon:{site_id:0,data:[]},selectCouponId:0,selectCouponMoney:"0.00",selectPlatCouponId:0,selectPlatCouponMoney:"0.00"}},methods:{openPopup:function(e){"PlatcouponPopup"==e&&(this.selectPlatCouponId=this.orderPaymentData.platform_coupon_id,this.selectPlatCouponMoney=this.orderPaymentData.platform_coupon_money),this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/pages/order/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("orderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.$api.sendRequest({url:"/api/ordercreate/payment",data:this.orderCreateData,success:function(e){if(e.code>=0){for(var i in e.data.shop_goods_list)e.data.shop_goods_list[i].present_list?e.data.shop_goods_list[i].present_list.goods_list?e.data.shop_goods_list[i].goods_list=e.data.shop_goods_list[i].goods_list.concat(e.data.shop_goods_list[i].present_list.goods_list):e.data.shop_goods_list[i].present_list.coupon_list||(e.data.shop_goods_list[i].present_list.coupon_list=[]):e.data.shop_goods_list[i].present_list={coupon_list:[]};console.log(e.data),t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}else t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3)},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){var e=this;this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.coupon={},this.orderCreateData.buyer_message={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";var t=this.orderPaymentData,i=(new Date).getHours().toString(),o=(new Date).getMinutes().toString();1==i.length&&(i="0"+i),1==o.length&&(o="0"+o);var r=i+":"+o,s=["周日","周一","周二","周三","周四","周五","周六"],a=["0","1","2","3","4","5","6"][(new Date).getDay()];Object.keys(t.shop_goods_list).forEach((function(i,o){var n=t.shop_goods_list[i];if(e.orderCreateData.delivery[i]={},void 0!=n.express_type[0]&&(e.orderCreateData.delivery[i].delivery_type=n.express_type[0].name,e.orderCreateData.delivery[i].delivery_type_name=n.express_type[0].title,e.orderCreateData.delivery[i].store_id=0,"store"==n.express_type[0].name&&void 0!=n.express_type[0].store_list[0]&&(e.orderCreateData.delivery[i].store_id=n.express_type[0].store_list[0].store_id)),0==t.is_virtual&&n.local_config)if(n.local_config.info&&1==n.local_config.info.time_is_open){if(e.orderCreateData.delivery[i].showTimeBar=!0,e.orderCreateData.delivery[i].buyer_ask_delivery_time=r,0==n.local_config.info.time_week.length||7==n.local_config.info.time_week.length||n.local_config.info.time_week.indexOf(a)>-1?e.orderCreateData.delivery[i].canLocalDelicery=!0:e.orderCreateData.delivery[i].canLocalDelicery=!1,0==n.local_config.info.time_type)e.orderCreateData.delivery[i].deliveryWeek="全天";else if(n.local_config.info.time_week.length>0)if(7==n.local_config.info.time_week.length)e.orderCreateData.delivery[i].deliveryWeek="全天",e.orderCreateData.delivery[i].showTime=!1;else{e.orderCreateData.delivery[i].showTime=!0;for(var c=n.local_config.info.time_week,d=!1,u=0;u<c.length;u++)if(u+1<c.length){var l=c[u+1]-c[u];if(l>1){d=!0;break}}if(d){var h=[];for(u=0;u<c.length;u++)h.push(s[c[u]]);e.orderCreateData.delivery[i].deliveryWeek=h.join("、")}else e.orderCreateData.delivery[i].deliveryWeek=s[c[0]]+"至"+s[c[c.length-1]]}else e.orderCreateData.delivery[i].deliveryWeek="店铺未设置配送时间";var p=n.local_config.info.start_time;e.orderCreateData.delivery[i].start_time=e.getTimeStr(p);var f=n.local_config.info.end_time;e.orderCreateData.delivery[i].end_time=e.getTimeStr(f);var g=new Date(e.$util.timeStampTurnTime(t.timestamp)),m=g.getHours(),_=g.getMinutes(),v=parseInt(e.orderCreateData.delivery[i].start_time.split(":")[0]),y=parseInt(e.orderCreateData.delivery[i].start_time.split(":")[1]),D=parseInt(e.orderCreateData.delivery[i].end_time.split(":")[0]),S=parseInt(e.orderCreateData.delivery[i].end_time.split(":")[1]);e.orderCreateData.delivery[i].canLocalDelicery&&(v==D&&y==S||((m<v||m==v&&_<y)&&(e.orderCreateData.delivery[i].buyer_ask_delivery_time=(1==v.toString().length?"0"+v:v)+":"+(1==y.toString().length?"0"+y:y)),(m>D||m==D&&_>S)&&(e.orderCreateData.delivery[i].canLocalDelicery=!1)))}else e.orderCreateData.delivery[i].showTimeBar=!1,e.orderCreateData.delivery[i].deliveryWeek="店铺未开启配送时间";n.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),e.orderCreateData.coupon[i]={},void 0!=n.coupon_list[0]&&(e.orderCreateData.coupon[i].coupon_id=n.coupon_list[0].coupon_id,e.orderCreateData.coupon[i].coupon_money=n.coupon_list[0].money,e.selectCouponId=n.coupon_list[0].coupon_id,e.selectCouponMoney=n.coupon_list[0].coupon_id),n.promotionExits=n.promotion&&Object.keys(n.promotion).length>0,e.orderCreateData.buyer_message[i]=""})),t.is_virtual&&(this.orderCreateData.member_address={mobile:""}),t.platform_coupon_list.length>0&&(t.platform_coupon_id=t.platform_coupon_list[0].platformcoupon_id,t.platform_coupon_money=t.platform_coupon_list[0].money,this.orderCreateData.platform_coupon_id=t.platform_coupon_list[0].platformcoupon_id,this.orderCreateData.platform_coupon_money=t.platform_coupon_list[0].money,this.selectPlatCouponId=t.platform_coupon_list[0].platformcoupon_id,this.selectPlatCouponMoney=t.platform_coupon_list[0].money),Object.assign(t,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this;Object.keys(this.orderPaymentData.shop_goods_list).forEach((function(t,i){var o=e.orderPaymentData.shop_goods_list[t];o.is_invoice&&(e.orderCreateData.invoice[t]={},Array.isArray(o.invoice_config)||(e.orderCreateData.invoice[t].is_invoice=o.is_invoice,e.orderCreateData.invoice[t].invoice_type=o.invoice_type,e.orderCreateData.invoice[t].invoice_title=o.invoice_title,e.orderCreateData.invoice[t].taxpayer_number=o.taxpayer_number,e.orderCreateData.invoice[t].invoice_content=o.invoice_content,e.orderCreateData.invoice[t].invoice_full_address=o.invoice_full_address,e.orderCreateData.invoice[t].is_tax_invoice=o.is_tax_invoice,e.orderCreateData.invoice[t].invoice_email=o.invoice_email,e.orderCreateData.invoice[t].invoice_title_type=o.invoice_title_type))}));var t=this.$util.deepClone(this.orderCreateData);t.delivery=JSON.stringify(t.delivery),t.coupon=JSON.stringify(t.coupon),t.invoice=JSON.stringify(t.invoice),t.member_address=JSON.stringify(t.member_address),this.$api.sendRequest({url:"/api/ordercreate/calculate",data:t,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.orderPaymentData.platform_coupon_money=t.data.platform_coupon_money,Object.keys(t.data.shop_goods_list).forEach((function(i,o){var r=t.data.shop_goods_list[i];e.orderPaymentData.shop_goods_list[i].order_money=r.order_money,e.orderPaymentData.shop_goods_list[i].pay_money=r.pay_money,e.orderPaymentData.shop_goods_list[i].coupon_money=r.coupon_money,e.orderPaymentData.shop_goods_list[i].invoice_money=r.invoice_money,e.orderPaymentData.shop_goods_list[i].invoice_delivery_money=r.invoice_delivery_money})),e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.$util.deepClone(this.orderCreateData);o.delivery=JSON.stringify(o.delivery),o.coupon=JSON.stringify(o.coupon),o.invoice=JSON.stringify(o.invoice),o.member_address=JSON.stringify(o.member_address),o.buyer_message=JSON.stringify(o.buyer_message),this.$api.sendRequest({url:"/api/ordercreate/create",data:o,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message})),i.getCartNumber()},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_account.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;if(!/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.orderPaymentData.member_account.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先设置您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list[t].express_type.length){e=!1,this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[t].site_name+"】未设置配送方式"});break}if(!e)return!1;var i=!0;for(var o in this.orderCreateData.delivery){if("{}"==JSON.stringify(this.orderCreateData.delivery[o])){i=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list[o].site_name+"】未设置配送方式，请联系店铺管理员"});break}if("store"==this.orderCreateData.delivery[o].delivery_type&&0==this.orderCreateData.delivery[o].store_id){i=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list[o].site_name+"】没有可提货的门店,请联系店铺管理员"});break}if("local"==this.orderCreateData.delivery[o].delivery_type&&(""==this.orderPaymentData.shop_goods_list[o].shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list[o].shop.shop_info.latitude)){i=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list[o].site_name+"】地址信息未完善,请联系店铺管理员"});break}if("local"==this.orderCreateData.delivery[o].delivery_type){if(!this.orderCreateData.delivery[o].canLocalDelicery){this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[o].site_name+"】已休息"}),i=!1;break}var r=parseInt(this.orderCreateData.delivery[o].buyer_ask_delivery_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery[o].buyer_ask_delivery_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery[o].start_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery[o].start_time.split(":")[1]),c=parseInt(this.orderCreateData.delivery[o].end_time.split(":")[0]),d=parseInt(this.orderCreateData.delivery[o].end_time.split(":")[1]);if(a!=c||n!=d){if(r<a||r==a&&s<n){this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[o].site_name+"】送达时间不能小于配送开始时间"}),i=!1;break}if(!(r>a&&r<c||r==a&&s>n||r==a&&s>=n&&r<c)){this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list[o].site_name+"】送达时间范围：开始时间~结束时间"}),i=!1;break}}}}if(!i)return!1}return!0},openSitePromotion:function(e){this.sitePromotion=e,this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(e,t){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.siteDelivery.site_id=e,this.siteDelivery.data=t,this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery[this.siteDelivery.site_id].delivery_type=e.name,this.orderCreateData.delivery[this.siteDelivery.site_id].delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery[this.siteDelivery.site_id].store_id=e.store_list[0].store_id,this.tempData.delivery[this.siteDelivery.site_id].store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery[this.siteDelivery.site_id].store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(e,t,i){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.siteCoupon.site_id=e,this.selectCouponId=this.orderCreateData.coupon[e].coupon_id,this.selectCouponMoney=this.orderCreateData.coupon[e].coupon_money,this.siteCoupon.data=t,this.$refs.couponPopup.open()},selectCoupon:function(e){this.selectCouponId!=e.coupon_id?(this.selectCouponId=e.coupon_id,this.selectCouponMoney=e.money):(this.selectCouponId=0,this.selectCouponMoney="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},selectPlatCoupon:function(e){this.selectPlatCouponId!=e.platformcoupon_id?(this.selectPlatCouponId=e.platformcoupon_id,this.selectPlatCouponMoney=e.money):(this.selectPlatCouponId=0,this.selectPlatCouponMoney="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e,t){"couponPopup"==e&&(this.orderCreateData.coupon[t].coupon_id=this.selectCouponId,this.orderCreateData.coupon[t].coupon_money=this.selectCouponMoney),"PlatcouponPopup"==e&&(this.orderPaymentData.platform_coupon_id=this.selectPlatCouponId,this.orderPaymentData.platform_coupon_money=this.selectPlatCouponMoney,this.orderCreateData.platform_coupon_id=this.selectPlatCouponId,this.orderCreateData.platform_coupon_money=this.selectPlatCouponMoney),this.orderCalculate(),this.$forceUpdate(),this.tempData=null,this.$refs[e].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e,t){this.orderPaymentData.shop_goods_list[e].goods_list[t].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},getCartNumber:function(){e.getStorageSync("token")&&this.$store.dispatch("getCartNumber")},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list[this.orderInvoice.site_id]=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},openCouponPopup:function(e){this.openPopup("presentCouponPopup"),this.presentCoupon=e},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.subscribeMessage(),this.$refs.choosePaymentPopup.open())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t=[];return e&&Object.keys(e).forEach((function(i){e[i];switch(i){case"manjian":t.push("满减送");break;case"freeshipping":t.push("满额包邮");break}})),t.join(" ")}}};t.default=i}).call(this,i("543d")["default"])},"5a10":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"}},"5a43":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5b30":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"提现详情"}},"5b93":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"个人资料",headImg:"头像",account:"账号",nickname:"昵称",realName:"真实姓名",sex:"性别",birthday:"生日",password:"密码",paypassword:"支付密码",mobilePhone:"手机",bindMobile:"绑定手机",cancellation:"注销账号",lang:"语言",logout:"退出登录",save:"保存",noset:"未设置",nickPlaceholder:"请输入新昵称",pleaseRealName:"请输入真实姓名",nowPassword:"当前密码",newPassword:"新密码",confirmPassword:"确认新密码",phoneNumber:"手机号",confirmCode:"验证码",confirmCodeInput:"请输入验证码",confirmCodeInputerror:"验证码错误",findanimateCode:"获取动态码",animateCode:"动态码",animateCodeInput:"请输入动态码",modifyNickname:"修改昵称",modifyPassword:"修改密码",bindPhone:"绑定手机",alikeNickname:"与原昵称一致，无需修改",noEmityNickname:"昵称不能为空",updateSuccess:"修改成功",pleaseInputOldPassword:"请输入原始密码",pleaseInputNewPassword:"请输入新密码",passwordLength:"密码长度不能小于6位",alikePassword:"两次密码不一致",samePassword:"新密码不能与原密码相同",surePhoneNumber:"请输入正确的手机号",alikePhone:"与原手机号一致，无需修改",modify:"修改"}},"5bb4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={baseUrl:"{{$baseUrl}}",imgDomain:"{{$imgDomain}}",webSocket:"{{$webSocket}}",pingInterval:1500,h5Domain:"{{$h5Domain}}",mpKey:"{{$mpKey}}",apiSecurity:!1,publicKey:"{{$publicKey}}",version:"5.0.1"}},"5bc3":function(e,t,i){var o=i("a395");function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}e.exports=function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5e0b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"店铺笔记"}},"5ff3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},6069:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=["zh-cn","en-us"],r=e.getStorageSync("lang")||"zh-cn",s={langList:["zh-cn","en-us"],lang:function(e){var t=getCurrentPages()[getCurrentPages().length-1];if(t){var o,s="";try{var a=i("2075")("./"+r+"/common.js").lang,n=t.route.split("/");o=n.slice(1,n.length-1);var c=i("4897")("./"+r+"/"+o.join("/")+".js").lang;for(var d in c)a[d]=c[d];var u=e.split(".");if(u.length>1)for(var l in u){var h=parseInt(l)+1;h<u.length&&(s=a[u[l]][u[h]])}else s=a[e]}catch(f){s=-1!=e.indexOf("common.")||-1!=e.indexOf("tabBar.")?a[e]:e}if(arguments.length>1)for(var p=1;p<arguments.length;p++)s=s.replace("{"+(p-1)+"}",arguments[p]);return(void 0==s||"title"==s&&"title"==e)&&(s=""),s}},change:function(t){var i=getCurrentPages()[getCurrentPages().length-1];i&&(e.setStorageSync("lang",t),r=e.getStorageSync("lang")||"zh-cn",this.refresh(),e.reLaunch({url:"/pages/member/index/index"}))},refresh:function(){var t=getCurrentPages()[getCurrentPages().length-1];t&&(this.title(this.lang("title")),e.setTabBarItem({index:0,text:this.lang("tabBar.home")}),e.setTabBarItem({index:1,text:this.lang("tabBar.category")}),e.setTabBarItem({index:2,text:this.lang("tabBar.cart")}),e.setTabBarItem({index:3,text:this.lang("tabBar.member")}))},title:function(t){t&&e.setNavigationBarTitle({title:t})},list:function(){var e=[];try{for(var t=0;t<o.length;t++){var r=i("2075")("./"+o[t]+"/common.js").lang;e.push({name:r.common.name,value:o[t]})}}catch(s){}return e}};t.default=s}).call(this,i("543d")["default"])},6222:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:""},orderPaymentData:{member_account:{balance:0,is_pay_password:0,mobile:""},shop_goods_list:{site_name:"",express_type:[],invoice_config:{invoice_status:0}},pintuan_info:{},pintuan_group_info:{}},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},isSub:!1,tempData:null,siteDelivery:{site_id:0,data:[]}}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/pintuan/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("pintuanOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.orderCreateData.buyer_message="",this.$api.sendRequest({url:"/pintuan/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";for(var e=0;e<this.orderPaymentData.shop_goods_list.goods_list.length;e++)this.orderPaymentData.shop_goods_list.goods_list[e].goods_image=this.orderPaymentData.shop_goods_list.goods_list[e].goods_image?this.orderPaymentData.shop_goods_list.goods_list[e].goods_image.split(",")[0]:"";var t=this.orderPaymentData,i=(new Date).getHours().toString(),o=(new Date).getMinutes().toString();1==i.length&&(i="0"+i),1==o.length&&(o="0"+o);var r=i+":"+o,s=["周日","周一","周二","周三","周四","周五","周六"],a=["0","1","2","3","4","5","6"][(new Date).getDay()];if(void 0!=t.shop_goods_list.express_type&&void 0!=t.shop_goods_list.express_type[0]){var n=t.shop_goods_list.express_type;this.orderCreateData.delivery.delivery_type=n[0].name,this.orderCreateData.delivery.delivery_type_name=n[0].title,this.orderCreateData.delivery.store_id=0,"store"==n[0].name&&void 0!=n[0].store_list[0]&&(this.orderCreateData.delivery.store_id=n[0].store_list[0].store_id)}if(0==t.is_virtual&&t.shop_goods_list.local_config)if(t.shop_goods_list.local_config.info&&1==t.shop_goods_list.local_config.info.time_is_open){if(this.orderCreateData.delivery.showTimeBar=!0,this.orderCreateData.delivery.buyer_ask_delivery_time=r,0==t.shop_goods_list.local_config.info.time_week.length||7==t.shop_goods_list.local_config.info.time_week.length||t.shop_goods_list.local_config.info.time_week.indexOf(a)>-1?this.orderCreateData.delivery.canLocalDelicery=!0:this.orderCreateData.delivery.canLocalDelicery=!1,0==t.shop_goods_list.local_config.info.time_type)this.orderCreateData.delivery.deliveryWeek="全天";else if(t.shop_goods_list.local_config.info.time_week.length>0)if(7==t.shop_goods_list.local_config.info.time_week.length)this.orderCreateData.delivery.deliveryWeek="全天",this.orderCreateData.delivery.showTime=!1;else{this.orderCreateData.delivery.showTime=!0;var c=t.shop_goods_list.local_config.info.time_week,d=!1;for(e=0;e<c.length;e++)if(e+1<c.length){var u=c[e+1]-c[e];if(u>1){d=!0;break}}if(d){var l=[];for(e=0;e<c.length;e++)l.push(s[c[e]]);this.orderCreateData.delivery.deliveryWeek=l.join("、")}else this.orderCreateData.delivery.deliveryWeek=s[c[0]]+"至"+s[c[c.length-1]]}else this.orderCreateData.delivery.deliveryWeek="店铺未设置配送时间";var h=t.shop_goods_list.local_config.info.start_time;this.orderCreateData.delivery.start_time=this.getTimeStr(h);var p=t.shop_goods_list.local_config.info.end_time;this.orderCreateData.delivery.end_time=this.getTimeStr(p);var f=new Date(this.$util.timeStampTurnTime(t.timestamp)),g=f.getHours(),m=f.getMinutes(),_=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),v=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),y=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),D=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);this.orderCreateData.delivery.canLocalDelicery&&(_==y&&v==D||((g<_||g==_&&m<v)&&(this.orderCreateData.delivery.buyer_ask_delivery_time=(1==_.toString().length?"0"+_:_)+":"+(1==v.toString().length?"0"+v:v)),(g>y||g==y&&m>D)&&(this.orderCreateData.delivery.canLocalDelicery=!1)))}else this.orderCreateData.delivery.showTimeBar=!1,this.orderCreateData.delivery.deliveryWeek="店铺未开启配送时间";t.shop_goods_list.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),Object.assign(t,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.orderPaymentData.shop_goods_list.site_id,i={};i[t]=this.orderCreateData.delivery;var o={};o[t]=this.orderCreateData.buyer_message,this.orderPaymentData.shop_goods_list.is_invoice&&(this.orderCreateData.invoice[t]={},Array.isArray(this.orderPaymentData.shop_goods_list.invoice_config)||(this.orderCreateData.invoice[t].is_invoice=this.orderPaymentData.shop_goods_list.is_invoice,this.orderCreateData.invoice[t].invoice_type=this.orderPaymentData.shop_goods_list.invoice_type,this.orderCreateData.invoice[t].invoice_title=this.orderPaymentData.shop_goods_list.invoice_title,this.orderCreateData.invoice[t].taxpayer_number=this.orderPaymentData.shop_goods_list.taxpayer_number,this.orderCreateData.invoice[t].invoice_content=this.orderPaymentData.shop_goods_list.invoice_content,this.orderCreateData.invoice[t].invoice_full_address=this.orderPaymentData.shop_goods_list.invoice_full_address,this.orderCreateData.invoice[t].is_tax_invoice=this.orderPaymentData.shop_goods_list.is_tax_invoice,this.orderCreateData.invoice[t].invoice_email=this.orderPaymentData.shop_goods_list.invoice_email,this.orderCreateData.invoice[t].invoice_title_type=this.orderPaymentData.shop_goods_list.invoice_title_type));var r=this.$util.deepClone(this.orderCreateData);r.delivery=JSON.stringify(i),r.invoice=JSON.stringify(r.invoice),r.member_address=JSON.stringify(r.member_address),r.buyer_message=JSON.stringify(o),this.$api.sendRequest({url:"/pintuan/api/ordercreate/calculate",data:r,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.orderPaymentData.shop_goods_list.site_id,r={};r[o]=this.orderCreateData.delivery;var s={};s[o]=this.orderCreateData.buyer_message;var a=this.$util.deepClone(this.orderCreateData);a.delivery=JSON.stringify(r),a.invoice=JSON.stringify(a.invoice),a.member_address=JSON.stringify(a.member_address),a.buyer_message=JSON.stringify(s),this.$api.sendRequest({url:"/pintuan/api/ordercreate/create",data:a,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_account.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;if(!/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.orderPaymentData.member_account.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list.express_type.length){e=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式"});break}if(!e)return!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式,请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】没有可提货的门店,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type&&(""==this.orderPaymentData.shop_goods_list.shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list.shop.shop_info.latitude))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】地址信息未完善,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.canLocalDelicery)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】已休息"}),!1;var i=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[0]),o=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[1]),r=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);if(r!=a||s!=n){if(i<r||i==r&&o<s)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间不能小于配送开始时间"}),!1;if(!(i>r&&i<a||i==r&&o>s||i==r&&o>=s&&i<a))return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间范围：开始时间~结束时间"}),!1}}}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery.store_id=e.store_list[0].store_id,this.tempData.delivery.store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].goods_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.$refs.choosePaymentPopup.open(),this.subscribeMessage())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"64c8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"砸金蛋"}},6547:function(e,t,i){"use strict";var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("7037")),s=o(i("970b")),a=o(i("5bc3")),n=o(i("948f")),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(t.date,t.selected),o=t.startDate,r=t.endDate,a=t.range;(0,s.default)(this,e),this.date=this.getDate(new Date),this.selected=i||[],this.startDate=o,this.endDate=r,this.range=a,this.cleanMultipleStatus(),this.weeks={}}return(0,a.default)(e,[{key:"setDate",value:function(e){this.selectDate=this.getDate(e),this._getWeek(this.selectDate.fullDate)}},{key:"cleanMultipleStatus",value:function(){this.multipleStatus={before:"",after:"",data:[]}}},{key:"resetSatrtDate",value:function(e){this.startDate=e}},{key:"resetEndDate",value:function(e){this.endDate=e}},{key:"getDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day";e||(e=new Date),"object"!==(0,r.default)(e)&&(e=e.replace(/-/g,"/"));var o=new Date(e);switch(i){case"day":o.setDate(o.getDate()+t);break;case"month":31===o.getDate()?o.setDate(o.getDate()+t):o.setMonth(o.getMonth()+t);break;case"year":o.setFullYear(o.getFullYear()+t);break}var s=o.getFullYear(),a=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,n=o.getDate()<10?"0"+o.getDate():o.getDate();return{fullDate:s+"-"+a+"-"+n,year:s,month:a,date:n,day:o.getDay()}}},{key:"_getLastMonthDays",value:function(e,t){for(var i=[],o=e;o>0;o--){var r=new Date(t.year,t.month-1,1-o).getDate();i.push({date:r,month:t.month-1,lunar:this.getlunar(t.year,t.month-1,r),disable:!0})}return i}},{key:"_currentMonthDys",value:function(e,t){for(var i=this,o=[],r=this.date.fullDate,s=function(e){var s=t.year+"-"+(t.month,t.month+"-")+(e<10?"0"+e:e),a=r===s,n=i.selected&&i.selected.find((function(e){if(i.dateEqual(s,e.date))return e})),c=!0,d=!0;if(i.startDate){var u=i.dateCompare(i.startDate,r);c=i.dateCompare(u?i.startDate:r,s)}if(i.endDate){var l=i.dateCompare(r,i.endDate);d=i.dateCompare(s,l?i.endDate:r)}var h=i.multipleStatus.data,p=!1,f=-1;i.range&&(h&&(f=h.findIndex((function(e){return i.dateEqual(e,s)}))),-1!==f&&(p=!0));var g={fullDate:s,year:t.year,date:e,multiple:!!i.range&&p,beforeMultiple:i.dateEqual(i.multipleStatus.before,s),afterMultiple:i.dateEqual(i.multipleStatus.after,s),month:t.month,lunar:i.getlunar(t.year,t.month,e),disable:!c||!d,isDay:a};n&&(g.extraInfo=n),o.push(g)},a=1;a<=e;a++)s(a);return o}},{key:"_getNextMonthDays",value:function(e,t){for(var i=[],o=1;o<e+1;o++)i.push({date:o,month:Number(t.month)+1,lunar:this.getlunar(t.year,Number(t.month)+1,o),disable:!0});return i}},{key:"getInfo",value:function(e){var t=this;e||(e=new Date);var i=this.canlender.find((function(i){return i.fullDate===t.getDate(e).fullDate}));return i}},{key:"dateCompare",value:function(e,t){return e=new Date(e.replace("-","/").replace("-","/")),t=new Date(t.replace("-","/").replace("-","/")),e<=t}},{key:"dateEqual",value:function(e,t){return e=new Date(e.replace("-","/").replace("-","/")),t=new Date(t.replace("-","/").replace("-","/")),e.getTime()-t.getTime()===0}},{key:"geDateAll",value:function(e,t){var i=[],o=e.split("-"),r=t.split("-"),s=new Date;s.setFullYear(o[0],o[1]-1,o[2]);var a=new Date;a.setFullYear(r[0],r[1]-1,r[2]);for(var n=s.getTime()-864e5,c=a.getTime()-864e5,d=n;d<=c;)d+=864e5,i.push(this.getDate(new Date(parseInt(d))).fullDate);return i}},{key:"getlunar",value:function(e,t,i){return n.default.solar2lunar(e,t,i)}},{key:"setSelectInfo",value:function(e,t){this.selected=t,this._getWeek(e)}},{key:"setMultiple",value:function(e){var t=this.multipleStatus,i=t.before,o=t.after;this.range&&(i&&o?(this.multipleStatus.before="",this.multipleStatus.after="",this.multipleStatus.data=[]):i?(this.multipleStatus.after=e,this.dateCompare(this.multipleStatus.before,this.multipleStatus.after)?this.multipleStatus.data=this.geDateAll(this.multipleStatus.before,this.multipleStatus.after):this.multipleStatus.data=this.geDateAll(this.multipleStatus.after,this.multipleStatus.before)):this.multipleStatus.before=e,this._getWeek(e))}},{key:"_getWeek",value:function(e){var t=this.getDate(e),i=(t.fullDate,t.year),o=t.month,r=(t.date,t.day,new Date(i,o-1,1).getDay()),s=new Date(i,o,0).getDate(),a={lastMonthDays:this._getLastMonthDays(r,this.getDate(e)),currentMonthDys:this._currentMonthDys(s,this.getDate(e)),nextMonthDays:[],weeks:[]},n=[],c=42-(a.lastMonthDays.length+a.currentMonthDys.length);a.nextMonthDays=this._getNextMonthDays(c,this.getDate(e)),n=n.concat(a.lastMonthDays,a.currentMonthDys,a.nextMonthDays);for(var d={},u=0;u<n.length;u++)u%7===0&&(d[parseInt(u/7)]=new Array(7)),d[parseInt(u/7)][u%7]=n[u];this.canlender=n,this.weeks=d}}]),e}(),d=c;t.default=d},6613:function(e,t,i){var o=i("5a43");e.exports=function(e,t){if(e){if("string"===typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"66fd":function(e,t,i){"use strict";i.r(t),function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function o(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function s(e){return!0===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function n(e){return null!==e&&"object"===typeof e}var c=Object.prototype.toString;function d(e){return"[object Object]"===c.call(e)}function u(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function l(e){return r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function h(e){return null==e?"":Array.isArray(e)||d(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function p(e){var t=parseFloat(e);return isNaN(t)?e:t}function f(e,t){for(var i=Object.create(null),o=e.split(","),r=0;r<o.length;r++)i[o[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}f("slot,component",!0);var g=f("key,ref,slot,slot-scope,is");function m(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var _=Object.prototype.hasOwnProperty;function v(e,t){return _.call(e,t)}function y(e){var t=Object.create(null);return function(i){var o=t[i];return o||(t[i]=e(i))}}var D=/-(\w)/g,S=y((function(e){return e.replace(D,(function(e,t){return t?t.toUpperCase():""}))})),b=y((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),C=/\B([A-Z])/g,P=y((function(e){return e.replace(C,"-$1").toLowerCase()}));var w=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function i(i){var o=arguments.length;return o?o>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i};function T(e,t){t=t||0;var i=e.length-t,o=new Array(i);while(i--)o[i]=e[i+t];return o}function k(e,t){for(var i in t)e[i]=t[i];return e}function L(e){for(var t={},i=0;i<e.length;i++)e[i]&&k(t,e[i]);return t}function Y(e,t,i){}var $=function(e,t,i){return!1},Z=function(e){return e};function I(e,t){if(e===t)return!0;var i=n(e),o=n(t);if(!i||!o)return!i&&!o&&String(e)===String(t);try{var r=Array.isArray(e),s=Array.isArray(t);if(r&&s)return e.length===t.length&&e.every((function(e,i){return I(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||s)return!1;var a=Object.keys(e),c=Object.keys(t);return a.length===c.length&&a.every((function(i){return I(e[i],t[i])}))}catch(d){return!1}}function M(e,t){for(var i=0;i<e.length;i++)if(I(e[i],t))return i;return-1}function J(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var x=["component","directive","filter"],X=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:$,isReservedAttr:$,isUnknownElement:$,getTagNamespace:Y,parsePlatformTagName:Z,mustUseProp:$,async:!0,_lifecycleHooks:X},O=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function B(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function E(e,t,i,o){Object.defineProperty(e,t,{value:i,enumerable:!!o,writable:!0,configurable:!0})}var Q=new RegExp("[^"+O.source+".$_\\d]");var R,N="__proto__"in{},j="undefined"!==typeof window,A="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,G=A&&WXEnvironment.platform.toLowerCase(),F=j&&window.navigator.userAgent.toLowerCase(),W=F&&/msie|trident/.test(F),K=(F&&F.indexOf("msie 9.0"),F&&F.indexOf("edge/")>0),U=(F&&F.indexOf("android"),F&&/iphone|ipad|ipod|ios/.test(F)||"ios"===G),q=(F&&/chrome\/\d+/.test(F),F&&/phantomjs/.test(F),F&&F.match(/firefox\/(\d+)/),{}.watch);if(j)try{var V={};Object.defineProperty(V,"passive",{get:function(){}}),window.addEventListener("test-passive",null,V)}catch(Xi){}var z=function(){return void 0===R&&(R=!j&&!A&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),R},ee=j&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function te(e){return"function"===typeof e&&/native code/.test(e.toString())}var ie,oe="undefined"!==typeof Symbol&&te(Symbol)&&"undefined"!==typeof Reflect&&te(Reflect.ownKeys);ie="undefined"!==typeof Set&&te(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var re=Y,se=0,ae=function(){this.id=se++,this.subs=[]};function ne(e){ae.SharedObject.targetStack.push(e),ae.SharedObject.target=e,ae.target=e}function ce(){ae.SharedObject.targetStack.pop(),ae.SharedObject.target=ae.SharedObject.targetStack[ae.SharedObject.targetStack.length-1],ae.target=ae.SharedObject.target}ae.prototype.addSub=function(e){this.subs.push(e)},ae.prototype.removeSub=function(e){m(this.subs,e)},ae.prototype.depend=function(){ae.SharedObject.target&&ae.SharedObject.target.addDep(this)},ae.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},ae.SharedObject={},ae.SharedObject.target=null,ae.SharedObject.targetStack=[];var de=function(e,t,i,o,r,s,a,n){this.tag=e,this.data=t,this.children=i,this.text=o,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=n,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ue={child:{configurable:!0}};ue.child.get=function(){return this.componentInstance},Object.defineProperties(de.prototype,ue);var le=function(e){void 0===e&&(e="");var t=new de;return t.text=e,t.isComment=!0,t};function he(e){return new de(void 0,void 0,void 0,String(e))}var pe=Array.prototype,fe=Object.create(pe);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=pe[e];E(fe,e,(function(){var i=[],o=arguments.length;while(o--)i[o]=arguments[o];var r,s=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),s}))}));var ge=Object.getOwnPropertyNames(fe),me=!0;function _e(e){me=e}var ve=function(e){this.value=e,this.dep=new ae,this.vmCount=0,E(e,"__ob__",this),Array.isArray(e)?(N?e.push!==e.__proto__.push?ye(e,fe,ge):function(e,t){e.__proto__=t}(e,fe):ye(e,fe,ge),this.observeArray(e)):this.walk(e)};function ye(e,t,i){for(var o=0,r=i.length;o<r;o++){var s=i[o];E(e,s,t[s])}}function De(e,t){var i;if(n(e)&&!(e instanceof de))return v(e,"__ob__")&&e.__ob__ instanceof ve?i=e.__ob__:!me||z()||!Array.isArray(e)&&!d(e)||!Object.isExtensible(e)||e._isVue||e.__v_isMPComponent||(i=new ve(e)),t&&i&&i.vmCount++,i}function Se(e,t,i,o,r){var s=new ae,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var n=a&&a.get,c=a&&a.set;n&&!c||2!==arguments.length||(i=e[t]);var d=!r&&De(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=n?n.call(e):i;return ae.SharedObject.target&&(s.depend(),d&&(d.dep.depend(),Array.isArray(t)&&Pe(t))),t},set:function(t){var o=n?n.call(e):i;t===o||t!==t&&o!==o||n&&!c||(c?c.call(e,t):i=t,d=!r&&De(t),s.notify())}})}}function be(e,t,i){if(Array.isArray(e)&&u(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var o=e.__ob__;return e._isVue||o&&o.vmCount?i:o?(Se(o.value,t,i),o.dep.notify(),i):(e[t]=i,i)}function Ce(e,t){if(Array.isArray(e)&&u(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||v(e,t)&&(delete e[t],i&&i.dep.notify())}}function Pe(e){for(var t=void 0,i=0,o=e.length;i<o;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Pe(t)}ve.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Se(e,t[i])},ve.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)De(e[t])};var we=H.optionMergeStrategies;function Te(e,t){if(!t)return e;for(var i,o,r,s=oe?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)i=s[a],"__ob__"!==i&&(o=e[i],r=t[i],v(e,i)?o!==r&&d(o)&&d(r)&&Te(o,r):be(e,i,r));return e}function ke(e,t,i){return i?function(){var o="function"===typeof t?t.call(i,i):t,r="function"===typeof e?e.call(i,i):e;return o?Te(o,r):r}:t?e?function(){return Te("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Le(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(i):i}function Ye(e,t,i,o){var r=Object.create(e||null);return t?k(r,t):r}we.data=function(e,t,i){return i?ke(e,t,i):t&&"function"!==typeof t?e:ke(e,t)},X.forEach((function(e){we[e]=Le})),x.forEach((function(e){we[e+"s"]=Ye})),we.watch=function(e,t,i,o){if(e===q&&(e=void 0),t===q&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var s in k(r,e),t){var a=r[s],n=t[s];a&&!Array.isArray(a)&&(a=[a]),r[s]=a?a.concat(n):Array.isArray(n)?n:[n]}return r},we.props=we.methods=we.inject=we.computed=function(e,t,i,o){if(!e)return t;var r=Object.create(null);return k(r,e),t&&k(r,t),r},we.provide=ke;var $e=function(e,t){return void 0===t?e:t};function Ze(e,t,i){if("function"===typeof t&&(t=t.options),function(e,t){var i=e.props;if(i){var o,r,s,a={};if(Array.isArray(i)){o=i.length;while(o--)r=i[o],"string"===typeof r&&(s=S(r),a[s]={type:null})}else if(d(i))for(var n in i)r=i[n],s=S(n),a[s]=d(r)?r:{type:r};else 0;e.props=a}}(t),function(e,t){var i=e.inject;if(i){var o=e.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)o[i[r]]={from:i[r]};else if(d(i))for(var s in i){var a=i[s];o[s]=d(a)?k({from:s},a):{from:a}}else 0}}(t),function(e){var t=e.directives;if(t)for(var i in t){var o=t[i];"function"===typeof o&&(t[i]={bind:o,update:o})}}(t),!t._base&&(t.extends&&(e=Ze(e,t.extends,i)),t.mixins))for(var o=0,r=t.mixins.length;o<r;o++)e=Ze(e,t.mixins[o],i);var s,a={};for(s in e)n(s);for(s in t)v(e,s)||n(s);function n(o){var r=we[o]||$e;a[o]=r(e[o],t[o],i,o)}return a}function Ie(e,t,i,o){if("string"===typeof i){var r=e[t];if(v(r,i))return r[i];var s=S(i);if(v(r,s))return r[s];var a=b(s);if(v(r,a))return r[a];var n=r[i]||r[s]||r[a];return n}}function Me(e,t,i,o){var r=t[e],s=!v(i,e),a=i[e],n=Xe(Boolean,r.type);if(n>-1)if(s&&!v(r,"default"))a=!1;else if(""===a||a===P(e)){var c=Xe(String,r.type);(c<0||n<c)&&(a=!0)}if(void 0===a){a=function(e,t,i){if(!v(t,"default"))return;var o=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i])return e._props[i];return"function"===typeof o&&"Function"!==Je(t.type)?o.call(e):o}(o,r,e);var d=me;_e(!0),De(a),_e(d)}return a}function Je(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function xe(e,t){return Je(e)===Je(t)}function Xe(e,t){if(!Array.isArray(t))return xe(t,e)?0:-1;for(var i=0,o=t.length;i<o;i++)if(xe(t[i],e))return i;return-1}function He(e,t,i){ne();try{if(t){var o=t;while(o=o.$parent){var r=o.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var a=!1===r[s].call(o,e,t,i);if(a)return}catch(Xi){Be(Xi,o,"errorCaptured hook")}}}Be(e,t,i)}finally{ce()}}function Oe(e,t,i,o,r){var s;try{s=i?e.apply(t,i):e.call(t),s&&!s._isVue&&l(s)&&!s._handled&&(s.catch((function(e){return He(e,o,r+" (Promise/async)")})),s._handled=!0)}catch(Xi){He(Xi,o,r)}return s}function Be(e,t,i){if(H.errorHandler)try{return H.errorHandler.call(null,e,t,i)}catch(Xi){Xi!==e&&Ee(Xi,null,"config.errorHandler")}Ee(e,t,i)}function Ee(e,t,i){if(!j&&!A||"undefined"===typeof console)throw e;console.error(e)}var Qe,Re=[],Ne=!1;function je(){Ne=!1;var e=Re.slice(0);Re.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&te(Promise)){var Ae=Promise.resolve();Qe=function(){Ae.then(je),U&&setTimeout(Y)}}else if(W||"undefined"===typeof MutationObserver||!te(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Qe="undefined"!==typeof setImmediate&&te(setImmediate)?function(){setImmediate(je)}:function(){setTimeout(je,0)};else{var Ge=1,Fe=new MutationObserver(je),We=document.createTextNode(String(Ge));Fe.observe(We,{characterData:!0}),Qe=function(){Ge=(Ge+1)%2,We.data=String(Ge)}}function Ke(e,t){var i;if(Re.push((function(){if(e)try{e.call(t)}catch(Xi){He(Xi,t,"nextTick")}else i&&i(t)})),Ne||(Ne=!0,Qe()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}var Ue=new ie;function qe(e){(function e(t,i){var o,r,s=Array.isArray(t);if(!s&&!n(t)||Object.isFrozen(t)||t instanceof de)return;if(t.__ob__){var a=t.__ob__.dep.id;if(i.has(a))return;i.add(a)}if(s){o=t.length;while(o--)e(t[o],i)}else{r=Object.keys(t),o=r.length;while(o--)e(t[r[o]],i)}})(e,Ue),Ue.clear()}var Ve=y((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var o="!"===e.charAt(0);return e=o?e.slice(1):e,{name:e,once:i,capture:o,passive:t}}));function ze(e,t){function i(){var e=arguments,o=i.fns;if(!Array.isArray(o))return Oe(o,null,arguments,t,"v-on handler");for(var r=o.slice(),s=0;s<r.length;s++)Oe(r[s],null,e,t,"v-on handler")}return i.fns=e,i}function et(e,t,i,s){var a=t.options.mpOptions&&t.options.mpOptions.properties;if(o(a))return i;var n=t.options.mpOptions.externalClasses||[],c=e.attrs,d=e.props;if(r(c)||r(d))for(var u in a){var l=P(u),h=tt(i,d,u,l,!0)||tt(i,c,u,l,!1);h&&i[u]&&-1!==n.indexOf(l)&&s[S(i[u])]&&(i[u]=s[S(i[u])])}return i}function tt(e,t,i,o,s){if(r(t)){if(v(t,i))return e[i]=t[i],s||delete t[i],!0;if(v(t,o))return e[i]=t[o],s||delete t[o],!0}return!1}function it(e){return a(e)?[he(e)]:Array.isArray(e)?function e(t,i){var n,c,d,u,l=[];for(n=0;n<t.length;n++)c=t[n],o(c)||"boolean"===typeof c||(d=l.length-1,u=l[d],Array.isArray(c)?c.length>0&&(c=e(c,(i||"")+"_"+n),ot(c[0])&&ot(u)&&(l[d]=he(u.text+c[0].text),c.shift()),l.push.apply(l,c)):a(c)?ot(u)?l[d]=he(u.text+c):""!==c&&l.push(he(c)):ot(c)&&ot(u)?l[d]=he(u.text+c.text):(s(t._isVList)&&r(c.tag)&&o(c.key)&&r(i)&&(c.key="__vlist"+i+"_"+n+"__"),l.push(c)));return l}(e):void 0}function ot(e){return r(e)&&r(e.text)&&function(e){return!1===e}(e.isComment)}function rt(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function st(e){var t=at(e.$options.inject,e);t&&(_e(!1),Object.keys(t).forEach((function(i){Se(e,i,t[i])})),_e(!0))}function at(e,t){if(e){for(var i=Object.create(null),o=oe?Reflect.ownKeys(e):Object.keys(e),r=0;r<o.length;r++){var s=o[r];if("__ob__"!==s){var a=e[s].from,n=t;while(n){if(n._provided&&v(n._provided,a)){i[s]=n._provided[a];break}n=n.$parent}if(!n)if("default"in e[s]){var c=e[s].default;i[s]="function"===typeof c?c.call(t):c}else 0}}return i}}function nt(e,t){if(!e||!e.length)return{};for(var i={},o=0,r=e.length;o<r;o++){var s=e[o],a=s.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==t&&s.fnContext!==t||!a||null==a.slot)s.asyncMeta&&s.asyncMeta.data&&"page"===s.asyncMeta.data.slot?(i["page"]||(i["page"]=[])).push(s):(i.default||(i.default=[])).push(s);else{var n=a.slot,c=i[n]||(i[n]=[]);"template"===s.tag?c.push.apply(c,s.children||[]):c.push(s)}}for(var d in i)i[d].every(ct)&&delete i[d];return i}function ct(e){return e.isComment&&!e.asyncFactory||" "===e.text}function dt(e,t,o){var r,s=Object.keys(t).length>0,a=e?!!e.$stable:!s,n=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&o&&o!==i&&n===o.$key&&!s&&!o.$hasNormal)return o;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=ut(t,c,e[c]))}else r={};for(var d in t)d in r||(r[d]=lt(t,d));return e&&Object.isExtensible(e)&&(e._normalized=r),E(r,"$stable",a),E(r,"$key",n),E(r,"$hasNormal",s),r}function ut(e,t,i){var o=function(){var e=arguments.length?i.apply(null,arguments):i({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:it(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:o,enumerable:!0,configurable:!0}),o}function lt(e,t){return function(){return e[t]}}function ht(e,t){var i,o,s,a,c;if(Array.isArray(e)||"string"===typeof e)for(i=new Array(e.length),o=0,s=e.length;o<s;o++)i[o]=t(e[o],o,o,o);else if("number"===typeof e)for(i=new Array(e),o=0;o<e;o++)i[o]=t(o+1,o,o,o);else if(n(e))if(oe&&e[Symbol.iterator]){i=[];var d=e[Symbol.iterator](),u=d.next();while(!u.done)i.push(t(u.value,i.length,o,o++)),u=d.next()}else for(a=Object.keys(e),i=new Array(a.length),o=0,s=a.length;o<s;o++)c=a[o],i[o]=t(e[c],c,o,o);return r(i)||(i=[]),i._isVList=!0,i}function pt(e,t,i,o){var r,s=this.$scopedSlots[e];s?(i=i||{},o&&(i=k(k({},o),i)),r=s(i,this,i._i)||t):r=this.$slots[e]||t;var a=i&&i.slot;return a?this.$createElement("template",{slot:a},r):r}function ft(e){return Ie(this.$options,"filters",e)||Z}function gt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function mt(e,t,i,o,r){var s=H.keyCodes[t]||i;return r&&o&&!H.keyCodes[t]?gt(r,o):s?gt(s,e):o?P(o)!==t:void 0}function _t(e,t,i,o,r){if(i)if(n(i)){var s;Array.isArray(i)&&(i=L(i));var a=function(a){if("class"===a||"style"===a||g(a))s=e;else{var n=e.attrs&&e.attrs.type;s=o||H.mustUseProp(t,n,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=S(a),d=P(a);if(!(c in s)&&!(d in s)&&(s[a]=i[a],r)){var u=e.on||(e.on={});u["update:"+a]=function(e){i[a]=e}}};for(var c in i)a(c)}else;return e}function vt(e,t){var i=this._staticTrees||(this._staticTrees=[]),o=i[e];return o&&!t||(o=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Dt(o,"__static__"+e,!1)),o}function yt(e,t,i){return Dt(e,"__once__"+t+(i?"_"+i:""),!0),e}function Dt(e,t,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)e[o]&&"string"!==typeof e[o]&&St(e[o],t+"_"+o,i);else St(e,t,i)}function St(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function bt(e,t){if(t)if(d(t)){var i=e.on=e.on?k({},e.on):{};for(var o in t){var r=i[o],s=t[o];i[o]=r?[].concat(r,s):s}}else;return e}function Ct(e,t,i,o){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var s=e[r];Array.isArray(s)?Ct(s,t,i):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return o&&(t.$key=o),t}function Pt(e,t){for(var i=0;i<t.length;i+=2){var o=t[i];"string"===typeof o&&o&&(e[t[i]]=t[i+1])}return e}function wt(e,t){return"string"===typeof e?t+e:e}function Tt(e){e._o=yt,e._n=p,e._s=h,e._l=ht,e._t=pt,e._q=I,e._i=M,e._m=vt,e._f=ft,e._k=mt,e._b=_t,e._v=he,e._e=le,e._u=Ct,e._g=bt,e._d=Pt,e._p=wt}function kt(e,t,o,r,a){var n,c=this,d=a.options;v(r,"_uid")?(n=Object.create(r),n._original=r):(n=r,r=r._original);var u=s(d._compiled),l=!u;this.data=e,this.props=t,this.children=o,this.parent=r,this.listeners=e.on||i,this.injections=at(d.inject,r),this.slots=function(){return c.$slots||dt(e.scopedSlots,c.$slots=nt(o,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return dt(e.scopedSlots,this.slots())}}),u&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=dt(e.scopedSlots,this.$slots)),d._scopeId?this._c=function(e,t,i,o){var s=Jt(n,e,t,i,o,l);return s&&!Array.isArray(s)&&(s.fnScopeId=d._scopeId,s.fnContext=r),s}:this._c=function(e,t,i,o){return Jt(n,e,t,i,o,l)}}function Lt(e,t,i,o,r){var s=function(e){var t=new de(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}(e);return s.fnContext=i,s.fnOptions=o,t.slot&&((s.data||(s.data={})).slot=t.slot),s}function Yt(e,t){for(var i in t)e[S(i)]=t[i]}Tt(kt.prototype);var $t={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;$t.prepatch(i,i)}else{var o=e.componentInstance=function(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},o=e.data.inlineTemplate;r(o)&&(i.render=o.render,i.staticRenderFns=o.staticRenderFns);return new e.componentOptions.Ctor(i)}(e,Nt);o.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var o=t.componentOptions,r=t.componentInstance=e.componentInstance;(function(e,t,o,r,s){0;var a=r.data.scopedSlots,n=e.$scopedSlots,c=!!(a&&!a.$stable||n!==i&&!n.$stable||a&&e.$scopedSlots.$key!==a.$key),d=!!(s||e.$options._renderChildren||c);e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r);if(e.$options._renderChildren=s,e.$attrs=r.data.attrs||i,e.$listeners=o||i,t&&e.$options.props){_e(!1);for(var u=e._props,l=e.$options._propKeys||[],h=0;h<l.length;h++){var p=l[h],f=e.$options.props;u[p]=Me(p,f,t,e)}_e(!0),e.$options.propsData=t}e._$updateProperties&&e._$updateProperties(e),o=o||i;var g=e.$options._parentListeners;e.$options._parentListeners=o,Rt(e,o,g),d&&(e.$slots=nt(s,r.context),e.$forceUpdate());0})(r,o.propsData,o.listeners,t,o.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(Gt(i,"onServiceCreated"),Gt(i,"onServiceAttached"),i._isMounted=!0,Gt(i,"mounted")),e.data.keepAlive&&(t._isMounted?function(e){e._inactive=!1,Wt.push(e)}(i):At(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,i){if(i&&(t._directInactive=!0,jt(t)))return;if(!t._inactive){t._inactive=!0;for(var o=0;o<t.$children.length;o++)e(t.$children[o]);Gt(t,"deactivated")}}(t,!0):t.$destroy())}},Zt=Object.keys($t);function It(e,t,a,c,d){if(!o(e)){var u=a.$options._base;if(n(e)&&(e=u.extend(e)),"function"===typeof e){var h;if(o(e.cid)&&(h=e,e=function(e,t){if(s(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=Xt;i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i);if(s(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var a=e.owners=[i],c=!0,d=null,u=null;i.$on("hook:destroyed",(function(){return m(a,i)}));var h=function(e){for(var t=0,i=a.length;t<i;t++)a[t].$forceUpdate();e&&(a.length=0,null!==d&&(clearTimeout(d),d=null),null!==u&&(clearTimeout(u),u=null))},p=J((function(i){e.resolved=Ht(i,t),c?a.length=0:h(!0)})),f=J((function(t){r(e.errorComp)&&(e.error=!0,h(!0))})),g=e(p,f);return n(g)&&(l(g)?o(e.resolved)&&g.then(p,f):l(g.component)&&(g.component.then(p,f),r(g.error)&&(e.errorComp=Ht(g.error,t)),r(g.loading)&&(e.loadingComp=Ht(g.loading,t),0===g.delay?e.loading=!0:d=setTimeout((function(){d=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,h(!1))}),g.delay||200)),r(g.timeout)&&(u=setTimeout((function(){u=null,o(e.resolved)&&f(null)}),g.timeout)))),c=!1,e.loading?e.loadingComp:e.resolved}}(h,u),void 0===e))return function(e,t,i,o,r){var s=le();return s.asyncFactory=e,s.asyncMeta={data:t,context:i,children:o,tag:r},s}(h,t,a,c,d);t=t||{},pi(e),r(t.model)&&function(e,t){var i=e.model&&e.model.prop||"value",o=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var s=t.on||(t.on={}),a=s[o],n=t.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(n):a!==n)&&(s[o]=[n].concat(a)):s[o]=n}(e.options,t);var p=function(e,t,i,s){var a=t.options.props;if(o(a))return et(e,t,{},s);var n={},c=e.attrs,d=e.props;if(r(c)||r(d))for(var u in a){var l=P(u);tt(n,d,u,l,!0)||tt(n,c,u,l,!1)}return et(e,t,n,s)}(t,e,0,a);if(s(e.options.functional))return function(e,t,o,s,a){var n=e.options,c={},d=n.props;if(r(d))for(var u in d)c[u]=Me(u,d,t||i);else r(o.attrs)&&Yt(c,o.attrs),r(o.props)&&Yt(c,o.props);var l=new kt(o,c,a,s,e),h=n.render.call(null,l._c,l);if(h instanceof de)return Lt(h,o,l.parent,n,l);if(Array.isArray(h)){for(var p=it(h)||[],f=new Array(p.length),g=0;g<p.length;g++)f[g]=Lt(p[g],o,l.parent,n,l);return f}}(e,p,t,a,c);var f=t.on;if(t.on=t.nativeOn,s(e.options.abstract)){var g=t.slot;t={},g&&(t.slot=g)}(function(e){for(var t=e.hook||(e.hook={}),i=0;i<Zt.length;i++){var o=Zt[i],r=t[o],s=$t[o];r===s||r&&r._merged||(t[o]=r?Mt(s,r):s)}})(t);var _=e.options.name||d,v=new de("vue-component-"+e.cid+(_?"-"+_:""),t,void 0,void 0,void 0,a,{Ctor:e,propsData:p,listeners:f,tag:d,children:c},h);return v}}}function Mt(e,t){var i=function(i,o){e(i,o),t(i,o)};return i._merged=!0,i}function Jt(e,t,i,c,d,u){return(Array.isArray(i)||a(i))&&(d=c,c=i,i=void 0),s(u)&&(d=2),function(e,t,i,a,c){if(r(i)&&r(i.__ob__))return le();r(i)&&r(i.is)&&(t=i.is);if(!t)return le();0;Array.isArray(a)&&"function"===typeof a[0]&&(i=i||{},i.scopedSlots={default:a[0]},a.length=0);2===c?a=it(a):1===c&&(a=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(a));var d,u;if("string"===typeof t){var l;u=e.$vnode&&e.$vnode.ns||H.getTagNamespace(t),d=H.isReservedTag(t)?new de(H.parsePlatformTagName(t),i,a,void 0,void 0,e):i&&i.pre||!r(l=Ie(e.$options,"components",t))?new de(t,i,a,void 0,void 0,e):It(l,i,e,a,t)}else d=It(t,i,e,a);return Array.isArray(d)?d:r(d)?(r(u)&&function e(t,i,a){t.ns=i,"foreignObject"===t.tag&&(i=void 0,a=!0);if(r(t.children))for(var n=0,c=t.children.length;n<c;n++){var d=t.children[n];r(d.tag)&&(o(d.ns)||s(a)&&"svg"!==d.tag)&&e(d,i,a)}}(d,u),r(i)&&function(e){n(e.style)&&qe(e.style);n(e.class)&&qe(e.class)}(i),d):le()}(e,t,i,c,d)}var xt,Xt=null;function Ht(e,t){return(e.__esModule||oe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),n(e)?t.extend(e):e}function Ot(e){return e.isComment&&e.asyncFactory}function Bt(e,t){xt.$on(e,t)}function Et(e,t){xt.$off(e,t)}function Qt(e,t){var i=xt;return function o(){var r=t.apply(null,arguments);null!==r&&i.$off(e,o)}}function Rt(e,t,i){xt=e,function(e,t,i,r,a,n){var c,d,u,l;for(c in e)d=e[c],u=t[c],l=Ve(c),o(d)||(o(u)?(o(d.fns)&&(d=e[c]=ze(d,n)),s(l.once)&&(d=e[c]=a(l.name,d,l.capture)),i(l.name,d,l.capture,l.passive,l.params)):d!==u&&(u.fns=d,e[c]=u));for(c in t)o(e[c])&&(l=Ve(c),r(l.name,t[c],l.capture))}(t,i||{},Bt,Et,Qt,e),xt=void 0}var Nt=null;function jt(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function At(e,t){if(t){if(e._directInactive=!1,jt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)At(e.$children[i]);Gt(e,"activated")}}function Gt(e,t){ne();var i=e.$options[t],o=t+" hook";if(i)for(var r=0,s=i.length;r<s;r++)Oe(i[r],e,null,e,o);e._hasHookEvent&&e.$emit("hook:"+t),ce()}var Ft=[],Wt=[],Kt={},Ut=!1,qt=!1,Vt=0;var zt=Date.now;if(j&&!W){var ei=window.performance;ei&&"function"===typeof ei.now&&zt()>document.createEvent("Event").timeStamp&&(zt=function(){return ei.now()})}function ti(){var e,t;for(zt(),qt=!0,Ft.sort((function(e,t){return e.id-t.id})),Vt=0;Vt<Ft.length;Vt++)e=Ft[Vt],e.before&&e.before(),t=e.id,Kt[t]=null,e.run();var i=Wt.slice(),o=Ft.slice();(function(){Vt=Ft.length=Wt.length=0,Kt={},Ut=qt=!1})(),function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,At(e[t],!0)}(i),function(e){var t=e.length;while(t--){var i=e[t],o=i.vm;o._watcher===i&&o._isMounted&&!o._isDestroyed&&Gt(o,"updated")}}(o),ee&&H.devtools&&ee.emit("flush")}var ii=0,oi=function(e,t,i,o,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync,this.before=o.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++ii,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ie,this.newDepIds=new ie,this.expression="","function"===typeof t?this.getter=t:(this.getter=function(e){if(!Q.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}(t),this.getter||(this.getter=Y)),this.value=this.lazy?void 0:this.get()};oi.prototype.get=function(){var e;ne(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Xi){if(!this.user)throw Xi;He(Xi,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&qe(e),ce(),this.cleanupDeps()}return e},oi.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},oi.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},oi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Kt[t]){if(Kt[t]=!0,qt){var i=Ft.length-1;while(i>Vt&&Ft[i].id>e.id)i--;Ft.splice(i+1,0,e)}else Ft.push(e);Ut||(Ut=!0,Ke(ti))}}(this)},oi.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||n(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Xi){He(Xi,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},oi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},oi.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},oi.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var ri={enumerable:!0,configurable:!0,get:Y,set:Y};function si(e,t,i){ri.get=function(){return this[t][i]},ri.set=function(e){this[t][i]=e},Object.defineProperty(e,i,ri)}function ai(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var i=e.$options.propsData||{},o=e._props={},r=e.$options._propKeys=[],s=!e.$parent;s||_e(!1);var a=function(s){r.push(s);var a=Me(s,t,i,e);Se(o,s,a),s in e||si(e,"_props",s)};for(var n in t)a(n);_e(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?Y:w(t[i],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;t=e._data="function"===typeof t?function(e,t){ne();try{return e.call(t,t)}catch(Xi){return He(Xi,t,"data()"),{}}finally{ce()}}(t,e):t||{},d(t)||(t={});var i=Object.keys(t),o=e.$options.props,r=(e.$options.methods,i.length);while(r--){var s=i[r];0,o&&v(o,s)||B(s)||si(e,"_data",s)}De(t,!0)}(e):De(e._data={},!0),t.computed&&function(e,t){var i=e._computedWatchers=Object.create(null),o=z();for(var r in t){var s=t[r],a="function"===typeof s?s:s.get;0,o||(i[r]=new oi(e,a||Y,Y,ni)),r in e||ci(e,r,s)}}(e,t.computed),t.watch&&t.watch!==q&&function(e,t){for(var i in t){var o=t[i];if(Array.isArray(o))for(var r=0;r<o.length;r++)li(e,i,o[r]);else li(e,i,o)}}(e,t.watch)}var ni={lazy:!0};function ci(e,t,i){var o=!z();"function"===typeof i?(ri.get=o?di(t):ui(i),ri.set=Y):(ri.get=i.get?o&&!1!==i.cache?di(t):ui(i.get):Y,ri.set=i.set||Y),Object.defineProperty(e,t,ri)}function di(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ae.SharedObject.target&&t.depend(),t.value}}function ui(e){return function(){return e.call(this,this)}}function li(e,t,i,o){return d(i)&&(o=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,o)}var hi=0;function pi(e){var t=e.options;if(e.super){var i=pi(e.super),o=e.superOptions;if(i!==o){e.superOptions=i;var r=function(e){var t,i=e.options,o=e.sealedOptions;for(var r in i)i[r]!==o[r]&&(t||(t={}),t[r]=i[r]);return t}(e);r&&k(e.extendOptions,r),t=e.options=Ze(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function fi(e){this._init(e)}function gi(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,o=i.cid,r=e._Ctor||(e._Ctor={});if(r[o])return r[o];var s=e.name||i.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=t++,a.options=Ze(i.options,e),a["super"]=i,a.options.props&&function(e){var t=e.options.props;for(var i in t)si(e.prototype,"_props",i)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var i in t)ci(e.prototype,i,t[i])}(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,x.forEach((function(e){a[e]=i[e]})),s&&(a.options.components[s]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=k({},a.options),r[o]=a,a}}function mi(e){return e&&(e.Ctor.options.name||e.tag)}function _i(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!function(e){return"[object RegExp]"===c.call(e)}(e)&&e.test(t)}function vi(e,t){var i=e.cache,o=e.keys,r=e._vnode;for(var s in i){var a=i[s];if(a){var n=mi(a.componentOptions);n&&!t(n)&&yi(i,s,o,r)}}}function yi(e,t,i,o){var r=e[t];!r||o&&r.tag===o.tag||r.componentInstance.$destroy(),e[t]=null,m(i,t)}(function(e){e.prototype._init=function(e){var t=this;t._uid=hi++,t._isVue=!0,e&&e._isComponent?function(e,t){var i=e.$options=Object.create(e.constructor.options),o=t._parentVnode;i.parent=t.parent,i._parentVnode=o;var r=o.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Ze(pi(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Rt(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,o=e.$vnode=t._parentVnode,r=o&&o.context;e.$slots=nt(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,i,o,r){return Jt(e,t,i,o,r,!1)},e.$createElement=function(t,i,o,r){return Jt(e,t,i,o,r,!0)};var s=o&&o.data;Se(e,"$attrs",s&&s.attrs||i,null,!0),Se(e,"$listeners",t._parentListeners||i,null,!0)}(t),Gt(t,"beforeCreate"),!t._$fallback&&st(t),ai(t),!t._$fallback&&rt(t),!t._$fallback&&Gt(t,"created"),t.$options.el&&t.$mount(t.$options.el)}})(fi),function(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=be,e.prototype.$delete=Ce,e.prototype.$watch=function(e,t,i){if(d(t))return li(this,e,t,i);i=i||{},i.user=!0;var o=new oi(this,e,t,i);if(i.immediate)try{t.call(this,o.value)}catch(r){He(r,this,'callback for immediate watcher "'+o.expression+'"')}return function(){o.teardown()}}}(fi),function(e){var t=/^hook:/;e.prototype.$on=function(e,i){var o=this;if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++)o.$on(e[r],i);else(o._events[e]||(o._events[e]=[])).push(i),t.test(e)&&(o._hasHookEvent=!0);return o},e.prototype.$once=function(e,t){var i=this;function o(){i.$off(e,o),t.apply(i,arguments)}return o.fn=t,i.$on(e,o),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var o=0,r=e.length;o<r;o++)i.$off(e[o],t);return i}var s,a=i._events[e];if(!a)return i;if(!t)return i._events[e]=null,i;var n=a.length;while(n--)if(s=a[n],s===t||s.fn===t){a.splice(n,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?T(i):i;for(var o=T(arguments,1),r='event handler for "'+e+'"',s=0,a=i.length;s<a;s++)Oe(i[s],t,o,t,r)}return t}}(fi),function(e){e.prototype._update=function(e,t){var i=this,o=i.$el,r=i._vnode,s=function(e){var t=Nt;return Nt=e,function(){Nt=t}}(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),s(),o&&(o.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Gt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||m(t.$children,e),e._watcher&&e._watcher.teardown();var i=e._watchers.length;while(i--)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Gt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(fi),function(e){Tt(e.prototype),e.prototype.$nextTick=function(e){return Ke(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,o=i.render,r=i._parentVnode;r&&(t.$scopedSlots=dt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{Xt=t,e=o.call(t._renderProxy,t.$createElement)}catch(Xi){He(Xi,t,"render"),e=t._vnode}finally{Xt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof de||(e=le()),e.parent=r,e}}(fi);var Di=[String,RegExp,Array],Si={name:"keep-alive",abstract:!0,props:{include:Di,exclude:Di,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)yi(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){vi(e,(function(e){return _i(t,e)}))})),this.$watch("exclude",(function(t){vi(e,(function(e){return!_i(t,e)}))}))},render:function(){var e=this.$slots.default,t=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||Ot(i)))return i}}(e),i=t&&t.componentOptions;if(i){var o=mi(i),s=this.include,a=this.exclude;if(s&&(!o||!_i(s,o))||a&&o&&_i(a,o))return t;var n=this.cache,c=this.keys,d=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;n[d]?(t.componentInstance=n[d].componentInstance,m(c,d),c.push(d)):(n[d]=t,c.push(d),this.max&&c.length>parseInt(this.max)&&yi(n,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},bi={KeepAlive:Si};(function(e){var t={get:function(){return H}};Object.defineProperty(e,"config",t),e.util={warn:re,extend:k,mergeOptions:Ze,defineReactive:Se},e.set=be,e.delete=Ce,e.nextTick=Ke,e.observable=function(e){return De(e),e},e.options=Object.create(null),x.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,k(e.options.components,bi),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=T(arguments,1);return i.unshift(this),"function"===typeof e.install?e.install.apply(e,i):"function"===typeof e&&e.apply(null,i),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Ze(this.options,e),this}}(e),gi(e),function(e){x.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&d(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"===typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}(e)})(fi),Object.defineProperty(fi.prototype,"$isServer",{get:z}),Object.defineProperty(fi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(fi,"FunctionalRenderContext",{value:kt}),fi.version="2.6.11";var Ci="[object Array]",Pi="[object Object]";function wi(e,t){var i={};return function e(t,i){if(t===i)return;var o=ki(t),r=ki(i);if(o==Pi&&r==Pi){if(Object.keys(t).length>=Object.keys(i).length)for(var s in i){var a=t[s];void 0===a?t[s]=null:e(a,i[s])}}else o==Ci&&r==Ci&&t.length>=i.length&&i.forEach((function(i,o){e(t[o],i)}))}(e,t),function e(t,i,o,r){if(t===i)return;var s=ki(t),a=ki(i);if(s==Pi)if(a!=Pi||Object.keys(t).length<Object.keys(i).length)Ti(r,o,t);else{var n=function(s){var a=t[s],n=i[s],c=ki(a),d=ki(n);if(c!=Ci&&c!=Pi)a!==i[s]&&function(e,t){if(("[object Null]"===e||"[object Undefined]"===e)&&("[object Null]"===t||"[object Undefined]"===t))return!1;return!0}(c,d)&&Ti(r,(""==o?"":o+".")+s,a);else if(c==Ci)d!=Ci||a.length<n.length?Ti(r,(""==o?"":o+".")+s,a):a.forEach((function(t,i){e(t,n[i],(""==o?"":o+".")+s+"["+i+"]",r)}));else if(c==Pi)if(d!=Pi||Object.keys(a).length<Object.keys(n).length)Ti(r,(""==o?"":o+".")+s,a);else for(var u in a)e(a[u],n[u],(""==o?"":o+".")+s+"."+u,r)};for(var c in t)n(c)}else s==Ci?a!=Ci||t.length<i.length?Ti(r,o,t):t.forEach((function(t,s){e(t,i[s],o+"["+s+"]",r)})):Ti(r,o,t)}(e,t,"",i),i}function Ti(e,t,i){e[t]=i}function ki(e){return Object.prototype.toString.call(e)}function Li(e){if(e.__next_tick_callbacks&&e.__next_tick_callbacks.length){if(Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"duo",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG){var t=e.$scope;console.log("["+ +new Date+"]["+(t.is||t.route)+"]["+e._uid+"]:flushCallbacks["+e.__next_tick_callbacks.length+"]")}var i=e.__next_tick_callbacks.slice(0);e.__next_tick_callbacks.length=0;for(var o=0;o<i.length;o++)i[o]()}}function Yi(e,t){if(!e.__next_tick_pending&&!function(e){return Ft.find((function(t){return e._watcher===t}))}(e)){if(Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"duo",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG){var i=e.$scope;console.log("["+ +new Date+"]["+(i.is||i.route)+"]["+e._uid+"]:nextVueTick")}return Ke(t,e)}if(Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"duo",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG){var o=e.$scope;console.log("["+ +new Date+"]["+(o.is||o.route)+"]["+e._uid+"]:nextMPTick")}var r;if(e.__next_tick_callbacks||(e.__next_tick_callbacks=[]),e.__next_tick_callbacks.push((function(){if(t)try{t.call(e)}catch(Xi){He(Xi,e,"nextTick")}else r&&r(e)})),!t&&"undefined"!==typeof Promise)return new Promise((function(e){r=e}))}function $i(e,t){return t&&(t._isVue||t.__v_isMPComponent)?{}:t}function Zi(){}function Ii(e){return Array.isArray(e)?function(e){for(var t,i="",o=0,s=e.length;o<s;o++)r(t=Ii(e[o]))&&""!==t&&(i&&(i+=" "),i+=t);return i}(e):n(e)?function(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}(e):"string"===typeof e?e:""}var Mi=y((function(e){var t={},i=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var o=e.split(i);o.length>1&&(t[o[0].trim()]=o[1].trim())}})),t}));var Ji=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];var xi=["onLaunch","onShow","onHide","onUniNViewMessage","onPageNotFound","onThemeChange","onError","onUnhandledRejection","onInit","onLoad","onReady","onUnload","onPullDownRefresh","onReachBottom","onTabItemTap","onAddToFavorites","onShareTimeline","onShareAppMessage","onResize","onPageScroll","onNavigationBarButtonTap","onBackPress","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarSearchInputClicked","onUploadDouyinVideo","onNFCReadMessage","onPageShow","onPageHide","onPageResize"];fi.prototype.__patch__=function(e,t){var i=this;if(null!==t&&("page"===this.mpType||"component"===this.mpType)){var o=this.$scope,r=Object.create(null);try{r=function(e){var t=Object.create(null),i=[].concat(Object.keys(e._data||{}),Object.keys(e._computedWatchers||{}));i.reduce((function(t,i){return t[i]=e[i],t}),t);var o=e.__composition_api_state__||e.__secret_vfa_state__,r=o&&o.rawBindings;return r&&Object.keys(r).forEach((function(i){t[i]=e[i]})),Object.assign(t,e.$mp.data||{}),Array.isArray(e.$options.behaviors)&&-1!==e.$options.behaviors.indexOf("uni://form-field")&&(t["name"]=e.name,t["value"]=e.value),JSON.parse(JSON.stringify(t,$i))}(this)}catch(n){console.error(n)}r.__webviewId__=o.data.__webviewId__;var s=Object.create(null);Object.keys(r).forEach((function(e){s[e]=o.data[e]}));var a=!1===this.$shouldDiffData?r:wi(r,s);Object.keys(a).length?(Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"duo",VUE_APP_PLATFORM:"mp-weixin",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG&&console.log("["+ +new Date+"]["+(o.is||o.route)+"]["+this._uid+"]差量更新",JSON.stringify(a)),this.__next_tick_pending=!0,o.setData(a,(function(){i.__next_tick_pending=!1,Li(i)}))):Li(this)}},fi.prototype.$mount=function(e,t){return function(e,t,i){return e.mpType?("app"===e.mpType&&(e.$options.render=Zi),e.$options.render||(e.$options.render=Zi),!e._$fallback&&Gt(e,"beforeMount"),new oi(e,(function(){e._update(e._render(),i)}),Y,{before:function(){e._isMounted&&!e._isDestroyed&&Gt(e,"beforeUpdate")}},!0),i=!1,e):e}(this,0,t)},function(e){var t=e.extend;e.extend=function(e){e=e||{};var i=e.methods;return i&&Object.keys(i).forEach((function(t){-1!==xi.indexOf(t)&&(e[t]=i[t],delete i[t])})),t.call(this,e)};var i=e.config.optionMergeStrategies,o=i.created;xi.forEach((function(e){i[e]=o})),e.prototype.__lifecycle_hooks__=xi}(fi),function(e){e.config.errorHandler=function(t,i,o){e.util.warn("Error in "+o+': "'+t.toString()+'"',i),console.error(t);var r="function"===typeof getApp&&getApp();r&&r.onError&&r.onError(t)};var t=e.prototype.$emit;e.prototype.$emit=function(e){if(this.$scope&&e){var i=this.$scope["_triggerEvent"]||this.$scope["triggerEvent"];if(i)try{i.call(this.$scope,e,{__args__:T(arguments,1)})}catch(o){}}return t.apply(this,arguments)},e.prototype.$nextTick=function(e){return Yi(this,e)},Ji.forEach((function(t){e.prototype[t]=function(e){return this.$scope&&this.$scope[t]?this.$scope[t](e):"undefined"!==typeof my?"createSelectorQuery"===t?my.createSelectorQuery(e):"createIntersectionObserver"===t?my.createIntersectionObserver(e):void 0:void 0}})),e.prototype.__init_provide=rt,e.prototype.__init_injections=st,e.prototype.__call_hook=function(e,t){var i=this;ne();var o,r=i.$options[e],s=e+" hook";if(r)for(var a=0,n=r.length;a<n;a++)o=Oe(r[a],i,t?[t]:null,i,s);return i._hasHookEvent&&i.$emit("hook:"+e,t),ce(),o},e.prototype.__set_model=function(t,i,o,r){Array.isArray(r)&&(-1!==r.indexOf("trim")&&(o=o.trim()),-1!==r.indexOf("number")&&(o=this._n(o))),t||(t=this),e.set(t,i,o)},e.prototype.__set_sync=function(t,i,o){t||(t=this),e.set(t,i,o)},e.prototype.__get_orig=function(e){return d(e)&&e["$orig"]||e},e.prototype.__get_value=function(e,t){return function e(t,i){var o=i.split("."),r=o[0];return 0===r.indexOf("__$n")&&(r=parseInt(r.replace("__$n",""))),1===o.length?t[r]:e(t[r],o.slice(1).join("."))}(t||this,e)},e.prototype.__get_class=function(e,t){return function(e,t){return r(e)||r(t)?function(e,t){return e?t?e+" "+t:e:t||""}(e,Ii(t)):""}(t,e)},e.prototype.__get_style=function(e,t){if(!e&&!t)return"";var i=function(e){return Array.isArray(e)?L(e):"string"===typeof e?Mi(e):e}(e),o=t?k(t,i):i;return Object.keys(o).map((function(e){return P(e)+":"+o[e]})).join(";")},e.prototype.__map=function(e,t){var i,o,r,s,a;if(Array.isArray(e)){for(i=new Array(e.length),o=0,r=e.length;o<r;o++)i[o]=t(e[o],o);return i}if(n(e)){for(s=Object.keys(e),i=Object.create(null),o=0,r=s.length;o<r;o++)a=s[o],i[a]=t(e[a],a,o);return i}if("number"===typeof e){for(i=new Array(e),o=0,r=e;o<r;o++)i[o]=t(o,o);return i}return[]}}(fi),t["default"]=fi}.call(this,i("c8ba"))},6916:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={tabBar:{home:"首页",category:"分类",cart:"购物车",member:"个人中心"},common:{name:"中文",mescrollTextInOffset:"下拉刷新",mescrollTextOutOffset:"释放更新",mescrollEmpty:"暂无相关数据",goodsRecommendTitle:"猜你喜欢",currencySymbol:"¥",submit:"提交"}}},"6be9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},"6da2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{listStyle:"",loadingType:"loading",orderType:"",priceOrder:"desc",categoryList:[],goodsList:[],order:"",sort:"desc",showScreen:!1,keyword:"",categoryId:0,minPrice:"",maxPrice:"",isFreeShipping:!1,isIphoneX:!1,coupon:0,emptyShow:!1,isList:!0,brandId:0,attr:[],currAttr:[],platformcouponTypeId:0,isOwn:2,brandList:[],showBrandMore:!1,attributeList:[],siteId:0}},onLoad:function(e){this.categoryId=e.category_id||0,this.brandId=e.brand_id||0,this.keyword=e.keyword||"",this.loadCategoryList(this.categoryId),this.isIphoneX=this.$util.uniappIsIPhoneX(),this.coupon=e.coupon||0,this.platformcouponTypeId=e.platformcouponTypeId||0,this.siteId=e.site_id||0},onShow:function(){this.$langConfig.refresh()},methods:{getGoodsList:function(e){var t=this;this.$api.sendRequest({url:"/api/goodssku/page",data:{page:e.num,page_size:e.size,keyword:this.keyword,category_id:this.categoryId,min_price:this.minPrice,max_price:this.maxPrice,is_free_shipping:this.isFreeShipping?1:0,order:this.order,sort:this.sort,coupon:this.coupon,brand_id:this.brandId,is_own:2==this.isOwn?"":this.isOwn,attr:this.currAttr.length>0?JSON.stringify(this.currAttr):"",platform_coupon_type:this.platformcouponTypeId,site_id:this.siteId},success:function(i){var o=[],r=i.message;0==i.code&&i.data?(0==i.data.page_count&&(t.emptyShow=!0),o=i.data.list):t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},changeListStyle:function(){this.isList=!this.isList},loadCategoryList:function(e,t){var i=this;this.$api.sendRequest({url:"/api/goodscategory/tree",data:{},success:function(e){null!=e.data&&(i.categoryList=e.data)}})},sortTabClick:function(e){if("sale_num"==e)this.order="sale_num",this.sort="desc";else if("discount_price"==e)this.order="discount_price",this.sort="desc";else{if("screen"==e)return void(this.showScreen=!0);this.order="",this.sort=""}this.orderType===e&&"discount_price"!==e||(this.orderType=e,"discount_price"===e?(this.priceOrder="asc"===this.priceOrder?"desc":"asc",this.sort=this.priceOrder):this.priceOrder="",this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh())},toDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.sku_id})},search:function(){this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh()},selectedCategory:function(e){var t=this;this.categoryId=e,this.$refs.mescroll.refresh(),this.$api.sendRequest({url:"/api/goodscategory/relevanceinfo",data:{category_id:this.categoryId},success:function(e){var i=e.data;i&&(i.brand_list&&(t.brandList=i.brand_list),i.attribute_list&&(t.attributeList=i.attribute_list))}})},selectedAttr:function(e,t){for(var i in this.attr[e]&&this.attr[e].attr_value_id==t?delete this.attr[e]:this.attr[e]={attr_id:e,attr_value_id:t},this.currAttr=[],this.attr)this.currAttr.push(this.attr[i])},isSelectedAttr:function(e,t){var i=!1;for(var o in this.currAttr)if(this.currAttr[o].attr_id==e&&this.currAttr[o].attr_value_id==t){i=!0;break}return i},screenData:function(){if(""!=this.minPrice||""!=this.maxPrice){if(!Number(this.minPrice)&&this.minPrice)return void this.$util.showToast({title:"请输入最低价"});if(!Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最输入最高价"});if(Number(this.minPrice)<0||Number(this.maxPrice)<0)return void this.$util.showToast({title:"筛选价格不能小于0"});if(""!=this.minPrice&&Number(this.minPrice)>Number(this.maxPrice)&&this.maxPrice)return void this.$util.showToast({title:"最低价不能大于最高价"});if(""!=this.maxPrice&&Number(this.maxPrice)<Number(this.minPrice))return void this.$util.showToast({title:"最高价不能小于最低价"})}this.emptyShow=!1,this.goodsList=[],this.$refs.mescroll.refresh(),this.showScreen=!1},resetData:function(){this.categoryId=0,this.minPrice="",this.maxPrice="",this.isFreeShipping=!1},goodsImg:function(e){var t=e.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},imgError:function(e){this.goodsList[e].goods_image=this.$util.getDefaultImage().default_goods_img},showPrice:function(e){var t=e.discount_price;return e.member_price&&parseFloat(e.member_price)<parseFloat(t)&&(t=e.member_price),t}}};t.default=o},"6f8f":function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports["default"]=e.exports},7010:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的优惠券"}},7037:function(e,t){function i(t){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,i(t)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},7067:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"找回密码",findPassword:"找回密码",accountPlaceholder:"请输入手机号",captchaPlaceholder:"请输入验证码",dynacodePlaceholder:"请输入动态码",passwordPlaceholder:"请输入新密码",rePasswordPlaceholder:"请确认新密码",next:"下一步",save:"确认修改"}},7271:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(e){this.mescroll&&this.mescroll.onPageScroll(e)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(e){this.mescroll=e,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var e=this.$refs.mescrollRef;e&&(this.mescroll=e.mescroll)}},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(){var e=this;setTimeout((function(){e.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},r=o;t.default=r},"730a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"笔记详情"}},7487:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},"750b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"代付款订单"}},"76d0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"门店信息"}},"77ef":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Weixin=void 0;t.Weixin=function(){var e=i("2eb7");this.init=function(t){e.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseWXPay","openAddress","updateAppMessageShareData","updateTimelineShareData","scanQRCode"]})},this.pay=function(t,i){e.ready((function(){e.chooseWXPay({timestamp:t.timestamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(e){"function"==typeof i&&i(e)}})}))},this.openAddress=function(t){e.ready((function(){e.openAddress({success:function(e){"function"==typeof t&&t(e)},fail:function(e){alert(JSON.stringify(e))}})}))},this.setShareData=function(t,i){e.ready((function(){e.updateAppMessageShareData({title:t.title||"",desc:t.desc||"",link:t.link||"",imgUrl:t.imgUrl||"",success:function(){"function"==typeof i&&i(res)}}),e.updateTimelineShareData({title:t.title||"",link:t.link||"",imgUrl:t.imgUrl||"",success:function(){"function"==typeof i&&i(res)}})}))},this.scanQRCode=function(t){e.ready((function(){e.scanQRCode({needResult:1,scanType:["qrCode"],success:function(e){"function"==typeof t&&t(e)}})}))}}},"78ed":function(e,t,i){var o,r,s,a=i("7037");(function(i,n){"object"===a(t)&&"undefined"!==typeof e?n(t):(r=[t],o=n,s="function"===typeof o?o.apply(t,r):o,void 0===s||(e.exports=s))})(0,(function(e){"use strict";function t(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function i(e,t){return e&t}function o(e,t){return e|t}function r(e,t){return e^t}function s(e,t){return e&~t}function a(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function n(e){var t=0;while(0!=e)e&=e-1,++t;return t}var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function d(e){var t,i,o="";for(t=0;t+3<=e.length;t+=3)i=parseInt(e.substring(t,t+3),16),o+=c.charAt(i>>6)+c.charAt(63&i);t+1==e.length?(i=parseInt(e.substring(t,t+1),16),o+=c.charAt(i<<2)):t+2==e.length&&(i=parseInt(e.substring(t,t+2),16),o+=c.charAt(i>>2)+c.charAt((3&i)<<4));while((3&o.length)>0)o+="=";return o}function u(e){var i,o="",r=0,s=0;for(i=0;i<e.length;++i){if("="==e.charAt(i))break;var a=c.indexOf(e.charAt(i));a<0||(0==r?(o+=t(a>>2),s=3&a,r=1):1==r?(o+=t(s<<2|a>>4),s=15&a,r=2):2==r?(o+=t(s),o+=t(a>>2),s=3&a,r=3):(o+=t(s<<2|a>>4),o+=t(15&a),r=0))}return 1==r&&(o+=t(s<<2)),o}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */var l,h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},h(e,t)};var p,f={decode:function(e){var t;if(void 0===l){var i="0123456789ABCDEF";for(l={},t=0;t<16;++t)l[i.charAt(t)]=t;for(i=i.toLowerCase(),t=10;t<16;++t)l[i.charAt(t)]=t;for(t=0;t<" \f\n\r\t \u2028\u2029".length;++t)l[" \f\n\r\t \u2028\u2029".charAt(t)]=-1}var o=[],r=0,s=0;for(t=0;t<e.length;++t){var a=e.charAt(t);if("="==a)break;if(a=l[a],-1!=a){if(void 0===a)throw new Error("Illegal character at offset "+t);r|=a,++s>=2?(o[o.length]=r,r=0,s=0):r<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return o}},g={decode:function(e){var t;if(void 0===p){for(p=Object.create(null),t=0;t<64;++t)p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(t=0;t<"= \f\n\r\t \u2028\u2029".length;++t)p["= \f\n\r\t \u2028\u2029".charAt(t)]=-1}var i=[],o=0,r=0;for(t=0;t<e.length;++t){var s=e.charAt(t);if("="==s)break;if(s=p[s],-1!=s){if(void 0===s)throw new Error("Illegal character at offset "+t);o|=s,++r>=4?(i[i.length]=o>>16,i[i.length]=o>>8&255,i[i.length]=255&o,o=0,r=0):o<<=6}}switch(r){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=o>>10;break;case 3:i[i.length]=o>>16,i[i.length]=o>>8&255;break}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(e){var t=g.re.exec(e);if(t)if(t[1])e=t[1];else{if(!t[2])throw new Error("RegExp out of sync");e=t[2]}return g.decode(e)}},m=1e13,_=function(){function e(e){this.buf=[+e||0]}return e.prototype.mulAdd=function(e,t){var i,o,r=this.buf,s=r.length;for(i=0;i<s;++i)o=r[i]*e+t,o<m?t=0:(t=0|o/m,o-=t*m),r[i]=o;t>0&&(r[i]=t)},e.prototype.sub=function(e){var t,i,o=this.buf,r=o.length;for(t=0;t<r;++t)i=o[t]-e,i<0?(i+=m,e=1):e=0,o[t]=i;while(0===o[o.length-1])o.pop()},e.prototype.toString=function(e){if(10!=(e||10))throw new Error("only base 10 is supported");for(var t=this.buf,i=t[t.length-1].toString(),o=t.length-2;o>=0;--o)i+=(m+t[o]).toString().substring(1);return i},e.prototype.valueOf=function(){for(var e=this.buf,t=0,i=e.length-1;i>=0;--i)t=t*m+e[i];return t},e.prototype.simplify=function(){var e=this.buf;return 1==e.length?e[0]:this},e}(),v=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,y=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function D(e,t){return e.length>t&&(e=e.substring(0,t)+"…"),e}var S,b=function(){function e(t,i){this.hexDigits="0123456789ABCDEF",t instanceof e?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=i)}return e.prototype.get=function(e){if(void 0===e&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset "+e+" on a stream of length "+this.enc.length);return"string"===typeof this.enc?this.enc.charCodeAt(e):this.enc[e]},e.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(15&e)},e.prototype.hexDump=function(e,t,i){for(var o="",r=e;r<t;++r)if(o+=this.hexByte(this.get(r)),!0!==i)switch(15&r){case 7:o+="  ";break;case 15:o+="\n";break;default:o+=" "}return o},e.prototype.isASCII=function(e,t){for(var i=e;i<t;++i){var o=this.get(i);if(o<32||o>176)return!1}return!0},e.prototype.parseStringISO=function(e,t){for(var i="",o=e;o<t;++o)i+=String.fromCharCode(this.get(o));return i},e.prototype.parseStringUTF=function(e,t){for(var i="",o=e;o<t;){var r=this.get(o++);i+=r<128?String.fromCharCode(r):r>191&&r<224?String.fromCharCode((31&r)<<6|63&this.get(o++)):String.fromCharCode((15&r)<<12|(63&this.get(o++))<<6|63&this.get(o++))}return i},e.prototype.parseStringBMP=function(e,t){for(var i,o,r="",s=e;s<t;)i=this.get(s++),o=this.get(s++),r+=String.fromCharCode(i<<8|o);return r},e.prototype.parseTime=function(e,t,i){var o=this.parseStringISO(e,t),r=(i?v:y).exec(o);return r?(i&&(r[1]=+r[1],r[1]+=+r[1]<70?2e3:1900),o=r[1]+"-"+r[2]+"-"+r[3]+" "+r[4],r[5]&&(o+=":"+r[5],r[6]&&(o+=":"+r[6],r[7]&&(o+="."+r[7]))),r[8]&&(o+=" UTC","Z"!=r[8]&&(o+=r[8],r[9]&&(o+=":"+r[9]))),o):"Unrecognized time: "+o},e.prototype.parseInteger=function(e,t){var i,o=this.get(e),r=o>127,s=r?255:0,a="";while(o==s&&++e<t)o=this.get(e);if(i=t-e,0===i)return r?-1:0;if(i>4){a=o,i<<=3;while(0==(128&(+a^s)))a=+a<<1,--i;a="("+i+" bit)\n"}r&&(o-=256);for(var n=new _(o),c=e+1;c<t;++c)n.mulAdd(256,this.get(c));return a+n.toString()},e.prototype.parseBitString=function(e,t,i){for(var o=this.get(e),r=(t-e-1<<3)-o,s="("+r+" bit)\n",a="",n=e+1;n<t;++n){for(var c=this.get(n),d=n==t-1?o:0,u=7;u>=d;--u)a+=c>>u&1?"1":"0";if(a.length>i)return s+D(a,i)}return s+a},e.prototype.parseOctetString=function(e,t,i){if(this.isASCII(e,t))return D(this.parseStringISO(e,t),i);var o=t-e,r="("+o+" byte)\n";i/=2,o>i&&(t=e+i);for(var s=e;s<t;++s)r+=this.hexByte(this.get(s));return o>i&&(r+="…"),r},e.prototype.parseOID=function(e,t,i){for(var o="",r=new _,s=0,a=e;a<t;++a){var n=this.get(a);if(r.mulAdd(128,127&n),s+=7,!(128&n)){if(""===o)if(r=r.simplify(),r instanceof _)r.sub(80),o="2."+r.toString();else{var c=r<80?r<40?0:1:2;o=c+"."+(r-40*c)}else o+="."+r.toString();if(o.length>i)return D(o,i);r=new _,s=0}}return s>0&&(o+=".incomplete"),o},e}(),C=function(){function e(e,t,i,o,r){if(!(o instanceof P))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=i,this.tag=o,this.sub=r}return e.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},e.prototype.content=function(e){if(void 0===this.tag)return null;void 0===e&&(e=1/0);var t=this.posContent(),i=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+i,e);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(t)?"false":"true";case 2:return this.stream.parseInteger(t,t+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+i,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+i,e);case 6:return this.stream.parseOID(t,t+i,e);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return D(this.stream.parseStringUTF(t,t+i),e);case 18:case 19:case 20:case 21:case 22:case 26:return D(this.stream.parseStringISO(t,t+i),e);case 30:return D(this.stream.parseStringBMP(t,t+i),e);case 23:case 24:return this.stream.parseTime(t,t+i,23==this.tag.tagNumber)}return null},e.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},e.prototype.toPrettyString=function(e){void 0===e&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(t+=" (encapsulates)"),t+="\n",null!==this.sub){e+="  ";for(var i=0,o=this.sub.length;i<o;++i)t+=this.sub[i].toPrettyString(e)}return t},e.prototype.posStart=function(){return this.stream.pos},e.prototype.posContent=function(){return this.stream.pos+this.header},e.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},e.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},e.decodeLength=function(e){var t=e.get(),i=127&t;if(i==t)return i;if(i>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(0===i)return null;t=0;for(var o=0;o<i;++o)t=256*t+e.get();return t},e.prototype.getHexStringValue=function(){var e=this.toHexString(),t=2*this.header,i=2*this.length;return e.substr(t,i)},e.decode=function(t){var i;i=t instanceof b?t:new b(t,0);var o=new b(i),r=new P(i),s=e.decodeLength(i),a=i.pos,n=a-o.pos,c=null,d=function(){var t=[];if(null!==s){var o=a+s;while(i.pos<o)t[t.length]=e.decode(i);if(i.pos!=o)throw new Error("Content size is not correct for container starting at offset "+a)}else try{for(;;){var r=e.decode(i);if(r.tag.isEOC())break;t[t.length]=r}s=a-i.pos}catch(n){throw new Error("Exception while decoding undefined length content: "+n)}return t};if(r.tagConstructed)c=d();else if(r.isUniversal()&&(3==r.tagNumber||4==r.tagNumber))try{if(3==r.tagNumber&&0!=i.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");c=d();for(var u=0;u<c.length;++u)if(c[u].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(l){c=null}if(null===c){if(null===s)throw new Error("We can't skip over an invalid tag with undefined length at offset "+a);i.pos=a+Math.abs(s)}return new e(o,n,s,r,c)},e}(),P=function(){function e(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=0!==(32&t),this.tagNumber=31&t,31==this.tagNumber){var i=new _;do{t=e.get(),i.mulAdd(128,127&t)}while(128&t);this.tagNumber=i.simplify()}}return e.prototype.isUniversal=function(){return 0===this.tagClass},e.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},e}(),w=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],T=(1<<26)/w[w.length-1],k=function(){function e(e,t,i){null!=e&&("number"==typeof e?this.fromNumber(e,t,i):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var i;if(16==e)i=4;else if(8==e)i=3;else if(2==e)i=1;else if(32==e)i=5;else{if(4!=e)return this.toRadix(e);i=2}var o,r=(1<<i)-1,s=!1,a="",n=this.t,c=this.DB-n*this.DB%i;if(n-- >0){c<this.DB&&(o=this[n]>>c)>0&&(s=!0,a=t(o));while(n>=0)c<i?(o=(this[n]&(1<<c)-1)<<i-c,o|=this[--n]>>(c+=this.DB-i)):(o=this[n]>>(c-=i)&r,c<=0&&(c+=this.DB,--n)),o>0&&(s=!0),s&&(a+=t(o))}return s?a:"0"},e.prototype.negate=function(){var t=I();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(t=i-e.t,0!=t)return this.s<0?-t:t;while(--i>=0)if(0!=(t=this[i]-e[i]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+B(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var i=I();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i},e.prototype.modPowInt=function(e,t){var i;return i=e<256||t.isEven()?new Y(t):new $(t),this.exp(e,i)},e.prototype.clone=function(){var e=I();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var i,o=this.DB-e*this.DB%8,r=0;if(e-- >0){o<this.DB&&(i=this[e]>>o)!=(this.s&this.DM)>>o&&(t[r++]=i|this.s<<this.DB-o);while(e>=0)o<8?(i=(this[e]&(1<<o)-1)<<8-o,i|=this[--e]>>(o+=this.DB-8)):(i=this[e]>>(o-=8)&255,o<=0&&(o+=this.DB,--e)),0!=(128&i)&&(i|=-256),0==r&&(128&this.s)!=(128&i)&&++r,(r>0||i!=this.s)&&(t[r++]=i)}return t},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=I();return this.bitwiseTo(e,i,t),t},e.prototype.or=function(e){var t=I();return this.bitwiseTo(e,o,t),t},e.prototype.xor=function(e){var t=I();return this.bitwiseTo(e,r,t),t},e.prototype.andNot=function(e){var t=I();return this.bitwiseTo(e,s,t),t},e.prototype.not=function(){for(var e=I(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},e.prototype.shiftLeft=function(e){var t=I();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.shiftRight=function(e){var t=I();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},e.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+a(this[e]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=n(this[i]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,o)},e.prototype.clearBit=function(e){return this.changeBit(e,s)},e.prototype.flipBit=function(e){return this.changeBit(e,r)},e.prototype.add=function(e){var t=I();return this.addTo(e,t),t},e.prototype.subtract=function(e){var t=I();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=I();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=I();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=I();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=I(),i=I();return this.divRemTo(e,t,i),[t,i]},e.prototype.modPow=function(e,t){var i,o,r=e.bitLength(),s=O(1);if(r<=0)return s;i=r<18?1:r<48?3:r<144?4:r<768?5:6,o=r<8?new Y(t):t.isEven()?new Z(t):new $(t);var a=[],n=3,c=i-1,d=(1<<i)-1;if(a[1]=o.convert(this),i>1){var u=I();o.sqrTo(a[1],u);while(n<=d)a[n]=I(),o.mulTo(u,a[n-2],a[n]),n+=2}var l,h,p=e.t-1,f=!0,g=I();r=B(e[p])-1;while(p>=0){r>=c?l=e[p]>>r-c&d:(l=(e[p]&(1<<r+1)-1)<<c-r,p>0&&(l|=e[p-1]>>this.DB+r-c)),n=i;while(0==(1&l))l>>=1,--n;if((r-=n)<0&&(r+=this.DB,--p),f)a[l].copyTo(s),f=!1;else{while(n>1)o.sqrTo(s,g),o.sqrTo(g,s),n-=2;n>0?o.sqrTo(s,g):(h=s,s=g,g=h),o.mulTo(g,a[l],s)}while(p>=0&&0==(e[p]&1<<r))o.sqrTo(s,g),h=s,s=g,g=h,--r<0&&(r=this.DB-1,--p)}return o.revert(s)},e.prototype.modInverse=function(t){var i=t.isEven();if(this.isEven()&&i||0==t.signum())return e.ZERO;var o=t.clone(),r=this.clone(),s=O(1),a=O(0),n=O(0),c=O(1);while(0!=o.signum()){while(o.isEven())o.rShiftTo(1,o),i?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);while(r.isEven())r.rShiftTo(1,r),i?(n.isEven()&&c.isEven()||(n.addTo(this,n),c.subTo(t,c)),n.rShiftTo(1,n)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);o.compareTo(r)>=0?(o.subTo(r,o),i&&s.subTo(n,s),a.subTo(c,a)):(r.subTo(o,r),i&&n.subTo(s,n),c.subTo(a,c))}return 0!=r.compareTo(e.ONE)?e.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},e.prototype.pow=function(e){return this.exp(e,new L)},e.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var o=t;t=i,i=o}var r=t.getLowestSetBit(),s=i.getLowestSetBit();if(s<0)return t;r<s&&(s=r),s>0&&(t.rShiftTo(s,t),i.rShiftTo(s,i));while(t.signum()>0)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=i.getLowestSetBit())>0&&i.rShiftTo(r,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return s>0&&i.lShiftTo(s,i),i},e.prototype.isProbablePrime=function(e){var t,i=this.abs();if(1==i.t&&i[0]<=w[w.length-1]){for(t=0;t<w.length;++t)if(i[0]==w[t])return!0;return!1}if(i.isEven())return!1;t=1;while(t<w.length){var o=w[t],r=t+1;while(r<w.length&&o<T)o*=w[r++];o=i.modInt(o);while(t<r)if(o%w[t++]==0)return!1}return i.millerRabin(e)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,i){var o;if(16==i)o=4;else if(8==i)o=3;else if(256==i)o=8;else if(2==i)o=1;else if(32==i)o=5;else{if(4!=i)return void this.fromRadix(t,i);o=2}this.t=0,this.s=0;var r=t.length,s=!1,a=0;while(--r>=0){var n=8==o?255&+t[r]:H(t,r);n<0?"-"==t.charAt(r)&&(s=!0):(s=!1,0==a?this[this.t++]=n:a+o>this.DB?(this[this.t-1]|=(n&(1<<this.DB-a)-1)<<a,this[this.t++]=n>>this.DB-a):this[this.t-1]|=n<<a,a+=o,a>=this.DB&&(a-=this.DB))}8==o&&0!=(128&+t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){var e=this.s&this.DM;while(this.t>0&&this[this.t-1]==e)--this.t},e.prototype.dlShiftTo=function(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var i=e%this.DB,o=this.DB-i,r=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM,n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>o|a,a=(this[n]&r)<<i;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var o=e%this.DB,r=this.DB-o,s=(1<<o)-1;t[0]=this[i]>>o;for(var a=i+1;a<this.t;++a)t[a-i-1]|=(this[a]&s)<<r,t[a-i]=this[a]>>o;o>0&&(t[this.t-i-1]|=(this.s&s)<<r),t.t=this.t-i,t.clamp()}},e.prototype.subTo=function(e,t){var i=0,o=0,r=Math.min(e.t,this.t);while(i<r)o+=this[i]-e[i],t[i++]=o&this.DM,o>>=this.DB;if(e.t<this.t){o-=e.s;while(i<this.t)o+=this[i],t[i++]=o&this.DM,o>>=this.DB;o+=this.s}else{o+=this.s;while(i<e.t)o-=e[i],t[i++]=o&this.DM,o>>=this.DB;o-=e.s}t.s=o<0?-1:0,o<-1?t[i++]=this.DV+o:o>0&&(t[i++]=o),t.t=i,t.clamp()},e.prototype.multiplyTo=function(t,i){var o=this.abs(),r=t.abs(),s=o.t;i.t=s+r.t;while(--s>=0)i[s]=0;for(s=0;s<r.t;++s)i[s+o.t]=o.am(0,r[s],i,s,0,o.t);i.s=0,i.clamp(),this.s!=t.s&&e.ZERO.subTo(i,i)},e.prototype.squareTo=function(e){var t=this.abs(),i=e.t=2*t.t;while(--i>=0)e[i]=0;for(i=0;i<t.t-1;++i){var o=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,o,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,i,o){var r=t.abs();if(!(r.t<=0)){var s=this.abs();if(s.t<r.t)return null!=i&&i.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=I());var a=I(),n=this.s,c=t.s,d=this.DB-B(r[r.t-1]);d>0?(r.lShiftTo(d,a),s.lShiftTo(d,o)):(r.copyTo(a),s.copyTo(o));var u=a.t,l=a[u-1];if(0!=l){var h=l*(1<<this.F1)+(u>1?a[u-2]>>this.F2:0),p=this.FV/h,f=(1<<this.F1)/h,g=1<<this.F2,m=o.t,_=m-u,v=null==i?I():i;a.dlShiftTo(_,v),o.compareTo(v)>=0&&(o[o.t++]=1,o.subTo(v,o)),e.ONE.dlShiftTo(u,v),v.subTo(a,a);while(a.t<u)a[a.t++]=0;while(--_>=0){var y=o[--m]==l?this.DM:Math.floor(o[m]*p+(o[m-1]+g)*f);if((o[m]+=a.am(0,y,o,_,0,u))<y){a.dlShiftTo(_,v),o.subTo(v,o);while(o[m]<--y)o.subTo(v,o)}}null!=i&&(o.drShiftTo(u,i),n!=c&&e.ZERO.subTo(i,i)),o.t=u,o.clamp(),d>0&&o.rShiftTo(d,o),n<0&&e.ZERO.subTo(o,o)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,i){if(t>4294967295||t<1)return e.ONE;var o=I(),r=I(),s=i.convert(this),a=B(t)-1;s.copyTo(o);while(--a>=0)if(i.sqrTo(o,r),(t&1<<a)>0)i.mulTo(r,s,o);else{var n=o;o=r,r=n}return i.revert(o)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),o=O(i),r=I(),s=I(),a="";this.divRemTo(o,r,s);while(r.signum()>0)a=(i+s.intValue()).toString(e).substr(1)+a,r.divRemTo(o,r,s);return s.intValue().toString(e)+a},e.prototype.fromRadix=function(t,i){this.fromInt(0),null==i&&(i=10);for(var o=this.chunkSize(i),r=Math.pow(i,o),s=!1,a=0,n=0,c=0;c<t.length;++c){var d=H(t,c);d<0?"-"==t.charAt(c)&&0==this.signum()&&(s=!0):(n=i*n+d,++a>=o&&(this.dMultiply(r),this.dAddOffset(n,0),a=0,n=0))}a>0&&(this.dMultiply(Math.pow(i,a)),this.dAddOffset(n,0)),s&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,i,r){if("number"==typeof i)if(t<2)this.fromInt(1);else{this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),o,this),this.isEven()&&this.dAddOffset(1,0);while(!this.isProbablePrime(i))this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this)}else{var s=[],a=7&t;s.length=1+(t>>3),i.nextBytes(s),a>0?s[0]&=(1<<a)-1:s[0]=0,this.fromString(s,256)}},e.prototype.bitwiseTo=function(e,t,i){var o,r,s=Math.min(e.t,this.t);for(o=0;o<s;++o)i[o]=t(this[o],e[o]);if(e.t<this.t){for(r=e.s&this.DM,o=s;o<this.t;++o)i[o]=t(this[o],r);i.t=this.t}else{for(r=this.s&this.DM,o=s;o<e.t;++o)i[o]=t(r,e[o]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()},e.prototype.changeBit=function(t,i){var o=e.ONE.shiftLeft(t);return this.bitwiseTo(o,i,o),o},e.prototype.addTo=function(e,t){var i=0,o=0,r=Math.min(e.t,this.t);while(i<r)o+=this[i]+e[i],t[i++]=o&this.DM,o>>=this.DB;if(e.t<this.t){o+=e.s;while(i<this.t)o+=this[i],t[i++]=o&this.DM,o>>=this.DB;o+=this.s}else{o+=this.s;while(i<e.t)o+=e[i],t[i++]=o&this.DM,o>>=this.DB;o+=e.s}t.s=o<0?-1:0,o>0?t[i++]=o:o<-1&&(t[i++]=this.DV+o),t.t=i,t.clamp()},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){while(this.t<=t)this[this.t++]=0;this[t]+=e;while(this[t]>=this.DV)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,i){var o=Math.min(this.t+e.t,t);i.s=0,i.t=o;while(o>0)i[--o]=0;for(var r=i.t-this.t;o<r;++o)i[o+this.t]=this.am(0,e[o],i,o,0,this.t);for(r=Math.min(e.t,t);o<r;++o)this.am(0,e[o],i,o,0,t-o);i.clamp()},e.prototype.multiplyUpperTo=function(e,t,i){--t;var o=i.t=this.t+e.t-t;i.s=0;while(--o>=0)i[o]=0;for(o=Math.max(t-this.t,0);o<e.t;++o)i[this.t+o-t]=this.am(t-o,e[o],i,0,0,this.t+o-t);i.clamp(),i.drShiftTo(1,i)},e.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this[0]%e;else for(var o=this.t-1;o>=0;--o)i=(t*i+this[o])%e;return i},e.prototype.millerRabin=function(t){var i=this.subtract(e.ONE),o=i.getLowestSetBit();if(o<=0)return!1;var r=i.shiftRight(o);t=t+1>>1,t>w.length&&(t=w.length);for(var s=I(),a=0;a<t;++a){s.fromInt(w[Math.floor(Math.random()*w.length)]);var n=s.modPow(r,this);if(0!=n.compareTo(e.ONE)&&0!=n.compareTo(i)){var c=1;while(c++<o&&0!=n.compareTo(i))if(n=n.modPowInt(2,this),0==n.compareTo(e.ONE))return!1;if(0!=n.compareTo(i))return!1}}return!0},e.prototype.square=function(){var e=I();return this.squareTo(e),e},e.prototype.gcda=function(e,t){var i=this.s<0?this.negate():this.clone(),o=e.s<0?e.negate():e.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),a=o.getLowestSetBit();if(a<0)t(i);else{s<a&&(a=s),a>0&&(i.rShiftTo(a,i),o.rShiftTo(a,o));setTimeout((function e(){(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o)),i.signum()>0?setTimeout(e,0):(a>0&&o.lShiftTo(a,o),setTimeout((function(){t(o)}),0))}),10)}},e.prototype.fromNumberAsync=function(t,i,r,s){if("number"==typeof i)if(t<2)this.fromInt(1);else{this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),o,this),this.isEven()&&this.dAddOffset(1,0);var a=this;setTimeout((function o(){a.dAddOffset(2,0),a.bitLength()>t&&a.subTo(e.ONE.shiftLeft(t-1),a),a.isProbablePrime(i)?setTimeout((function(){s()}),0):setTimeout(o,0)}),0)}else{var n=[],c=7&t;n.length=1+(t>>3),i.nextBytes(n),c>0?n[0]&=(1<<c)-1:n[0]=0,this.fromString(n,256)}},e}(),L=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),Y=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),$=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=I();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(k.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=I();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){while(e.t<=this.mt2)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],o=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;i=t+this.m.t,e[i]+=this.m.am(0,o,e,t,0,this.m.t);while(e[i]>=e.DV)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),Z=function(){function e(e){this.m=e,this.r2=I(),this.q3=I(),k.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return e.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=I();return e.copyTo(t),this.reduce(t),t},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(e.compareTo(this.r2)<0)e.dAddOffset(1,this.m.t+1);e.subTo(this.r2,e);while(e.compareTo(this.m)>=0)e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function I(){return new k(null)}function M(e,t){return new k(e,t)}navigator&&"Microsoft Internet Explorer"==navigator.appName?(k.prototype.am=function(e,t,i,o,r,s){var a=32767&t,n=t>>15;while(--s>=0){var c=32767&this[e],d=this[e++]>>15,u=n*c+d*a;c=a*c+((32767&u)<<15)+i[o]+(1073741823&r),r=(c>>>30)+(u>>>15)+n*d+(r>>>30),i[o++]=1073741823&c}return r},S=30):navigator&&"Netscape"!=navigator.appName?(k.prototype.am=function(e,t,i,o,r,s){while(--s>=0){var a=t*this[e++]+i[o]+r;r=Math.floor(a/67108864),i[o++]=67108863&a}return r},S=26):(k.prototype.am=function(e,t,i,o,r,s){var a=16383&t,n=t>>14;while(--s>=0){var c=16383&this[e],d=this[e++]>>14,u=n*c+d*a;c=a*c+((16383&u)<<14)+i[o]+r,r=(c>>28)+(u>>14)+n*d,i[o++]=268435455&c}return r},S=28),k.prototype.DB=S,k.prototype.DM=(1<<S)-1,k.prototype.DV=1<<S;k.prototype.FV=Math.pow(2,52),k.prototype.F1=52-S,k.prototype.F2=2*S-52;var J,x,X=[];for(J="0".charCodeAt(0),x=0;x<=9;++x)X[J++]=x;for(J="a".charCodeAt(0),x=10;x<36;++x)X[J++]=x;for(J="A".charCodeAt(0),x=10;x<36;++x)X[J++]=x;function H(e,t){var i=X[e.charCodeAt(t)];return null==i?-1:i}function O(e){var t=I();return t.fromInt(e),t}function B(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}k.ZERO=O(0),k.ONE=O(1);var E=function(){function e(){this.i=0,this.j=0,this.S=[]}return e.prototype.init=function(e){var t,i,o;for(t=0;t<256;++t)this.S[t]=t;for(i=0,t=0;t<256;++t)i=i+this.S[t]+e[t%e.length]&255,o=this.S[t],this.S[t]=this.S[i],this.S[i]=o;this.i=0,this.j=0},e.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},e}();var Q,R,N=null;if(null==N){N=[],R=0;var j=void 0;if(window&&window.crypto&&window.crypto.getRandomValues){var A=new Uint32Array(256);for(window.crypto.getRandomValues(A),j=0;j<A.length;++j)N[R++]=255&A[j]}var G=function e(t){if(this.count=this.count||0,this.count>=256||R>=256)window.removeEventListener?window.removeEventListener("mousemove",e,!1):window.detachEvent&&window.detachEvent("onmousemove",e);else try{var i=t.x+t.y;N[R++]=255&i,this.count+=1}catch(o){}};window&&window.addEventListener?window.addEventListener("mousemove",G,!1):window&&window.attachEvent&&window.attachEvent("onmousemove",G)}function F(){if(null==Q){Q=function(){return new E}();while(R<256){var e=Math.floor(65536*Math.random());N[R++]=255&e}for(Q.init(N),R=0;R<N.length;++R)N[R]=0;R=0}return Q.next()}var W=function(){function e(){}return e.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=F()},e}();var K=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);while(t.compareTo(i)<0)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=M(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)return console.error("Message too long for RSA"),null;var i=[],o=e.length-1;while(o>=0&&t>0){var r=e.charCodeAt(o--);r<128?i[--t]=r:r>127&&r<2048?(i[--t]=63&r|128,i[--t]=r>>6|192):(i[--t]=63&r|128,i[--t]=r>>6&63|128,i[--t]=r>>12|224)}i[--t]=0;var s=new W,a=[];while(t>2){a[0]=0;while(0==a[0])s.nextBytes(a);i[--t]=a[0]}return i[--t]=2,i[--t]=0,new k(i)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var i=this.doPublic(t);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},e.prototype.setPrivate=function(e,t,i){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=M(e,16),this.e=parseInt(t,16),this.d=M(i,16)):console.error("Invalid RSA private key")},e.prototype.setPrivateEx=function(e,t,i,o,r,s,a,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=M(e,16),this.e=parseInt(t,16),this.d=M(i,16),this.p=M(o,16),this.q=M(r,16),this.dmp1=M(s,16),this.dmq1=M(a,16),this.coeff=M(n,16)):console.error("Invalid RSA private key")},e.prototype.generate=function(e,t){var i=new W,o=e>>1;this.e=parseInt(t,16);for(var r=new k(t,16);;){for(;;)if(this.p=new k(e-o,1,i),0==this.p.subtract(k.ONE).gcd(r).compareTo(k.ONE)&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new k(o,1,i),0==this.q.subtract(k.ONE).gcd(r).compareTo(k.ONE)&&this.q.isProbablePrime(10))break;if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(k.ONE),n=this.q.subtract(k.ONE),c=a.multiply(n);if(0==c.gcd(r).compareTo(k.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(c),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(n),this.coeff=this.q.modInverse(this.p);break}}},e.prototype.decrypt=function(e){var t=M(e,16),i=this.doPrivate(t);return null==i?null:function(e,t){var i=e.toByteArray(),o=0;while(o<i.length&&0==i[o])++o;if(i.length-o!=t-1||2!=i[o])return null;++o;while(0!=i[o])if(++o>=i.length)return null;var r="";while(++o<i.length){var s=255&i[o];s<128?r+=String.fromCharCode(s):s>191&&s<224?(r+=String.fromCharCode((31&s)<<6|63&i[o+1]),++o):(r+=String.fromCharCode((15&s)<<12|(63&i[o+1])<<6|63&i[o+2]),o+=2)}return r}(i,this.n.bitLength()+7>>3)},e.prototype.generateAsync=function(e,t,i){var o=new W,r=e>>1;this.e=parseInt(t,16);var s=new k(t,16),a=this;setTimeout((function t(){var n=function(){if(a.p.compareTo(a.q)<=0){var e=a.p;a.p=a.q,a.q=e}var o=a.p.subtract(k.ONE),r=a.q.subtract(k.ONE),n=o.multiply(r);0==n.gcd(s).compareTo(k.ONE)?(a.n=a.p.multiply(a.q),a.d=s.modInverse(n),a.dmp1=a.d.mod(o),a.dmq1=a.d.mod(r),a.coeff=a.q.modInverse(a.p),setTimeout((function(){i()}),0)):setTimeout(t,0)},c=function e(){a.q=I(),a.q.fromNumberAsync(r,1,o,(function(){a.q.subtract(k.ONE).gcda(s,(function(t){0==t.compareTo(k.ONE)&&a.q.isProbablePrime(10)?setTimeout(n,0):setTimeout(e,0)}))}))};setTimeout((function t(){a.p=I(),a.p.fromNumberAsync(e-r,1,o,(function(){a.p.subtract(k.ONE).gcda(s,(function(e){0==e.compareTo(k.ONE)&&a.p.isProbablePrime(10)?setTimeout(c,0):setTimeout(t,0)}))}))}),0)}),0)},e.prototype.sign=function(e,t,i){var o=function(e){return U[e]||""}(i),r=o+t(e).toString(),s=function(e,t){if(t<e.length+22)return console.error("Message too long for RSA"),null;for(var i=t-e.length-6,o="",r=0;r<i;r+=2)o+="ff";var s="0001"+o+"00"+e;return M(s,16)}(r,this.n.bitLength()/4);if(null==s)return null;var a=this.doPrivate(s);if(null==a)return null;var n=a.toString(16);return 0==(1&n.length)?n:"0"+n},e.prototype.verify=function(e,t,i){var o=M(t,16),r=this.doPublic(o);if(null==r)return null;var s=r.toString(16).replace(/^1f+00/,""),a=function(e){for(var t in U)if(U.hasOwnProperty(t)){var i=U[t],o=i.length;if(e.substr(0,o)==i)return e.substr(o)}return e}
/*!
  Copyright (c) 2011, Yahoo! Inc. All rights reserved.
  Code licensed under the BSD License:
  http://developer.yahoo.com/yui/license.html
  version: 2.9.0
  */(s);return a==i(e).toString()},e}();var U={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};var q={};q.lang={extend:function(e,t,i){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var o=function(){};if(o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),i){var r;for(r in i)e.prototype[r]=i[r];var s=function(){},a=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(s=function(e,t){for(r=0;r<a.length;r+=1){var i=a[r],o=t[i];"function"===typeof o&&o!=Object.prototype[i]&&(e[i]=o)}})}catch(n){}s(e.prototype,i)}}};
/**
   * @fileOverview
   * @name asn1-1.0.js
   * @author Kenji Urushima kenji.urushima@gmail.com
   * @version asn1 1.0.13 (2017-Jun-02)
   * @since jsrsasign 2.1
   * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
   */
var V={};"undefined"!=typeof V.asn1&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1),o=i.length;o%2==1?o+=1:t.match(/^[0-7]/)||(o+=2);for(var r="",s=0;s<o;s++)r+="f";var a=new k(r,16),n=a.xor(e).add(k.ONE);t=n.toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return hextopem(e,t)},this.newObject=function(e){var t=V,i=t.asn1,o=i.DERBoolean,r=i.DERInteger,s=i.DERBitString,a=i.DEROctetString,n=i.DERNull,c=i.DERObjectIdentifier,d=i.DEREnumerated,u=i.DERUTF8String,l=i.DERNumericString,h=i.DERPrintableString,p=i.DERTeletexString,f=i.DERIA5String,g=i.DERUTCTime,m=i.DERGeneralizedTime,_=i.DERSequence,v=i.DERSet,y=i.DERTaggedObject,D=i.ASN1Util.newObject,S=Object.keys(e);if(1!=S.length)throw"key of param shall be only one.";var b=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+b+":"))throw"undefined key: "+b;if("bool"==b)return new o(e[b]);if("int"==b)return new r(e[b]);if("bitstr"==b)return new s(e[b]);if("octstr"==b)return new a(e[b]);if("null"==b)return new n(e[b]);if("oid"==b)return new c(e[b]);if("enum"==b)return new d(e[b]);if("utf8str"==b)return new u(e[b]);if("numstr"==b)return new l(e[b]);if("prnstr"==b)return new h(e[b]);if("telstr"==b)return new p(e[b]);if("ia5str"==b)return new f(e[b]);if("utctime"==b)return new g(e[b]);if("gentime"==b)return new m(e[b]);if("seq"==b){for(var C=e[b],P=[],w=0;w<C.length;w++){var T=D(C[w]);P.push(T)}return new _({array:P})}if("set"==b){for(C=e[b],P=[],w=0;w<C.length;w++){T=D(C[w]);P.push(T)}return new v({array:P})}if("tag"==b){var k=e[b];if("[object Array]"===Object.prototype.toString.call(k)&&3==k.length){var L=D(k[2]);return new y({tag:k[0],explicit:k[1],obj:L})}var Y={};if(void 0!==k.explicit&&(Y.explicit=k.explicit),void 0!==k.tag&&(Y.tag=k.tag),void 0===k.obj)throw"obj shall be specified for 'tag'.";return Y.obj=D(k.obj),new y(Y)}},this.jsonToASN1HEX=function(e){var t=this.newObject(e);return t.getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",i=parseInt(e.substr(0,2),16),o=Math.floor(i/40),r=i%40,s=(t=o+"."+r,""),a=2;a<e.length;a+=2){var n=parseInt(e.substr(a,2),16),c=("00000000"+n.toString(2)).slice(-8);if(s+=c.substr(1,7),"0"==c.substr(0,1)){var d=new k(s,2);t=t+"."+d.toString(10),s=""}}return t},V.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",o=new k(e,10),r=o.toString(2),s=7-r.length%7;7==s&&(s=0);for(var a="",n=0;n<s;n++)a+="0";r=a+r;for(n=0;n<r.length-1;n+=7){var c=r.substr(n,7);n!=r.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var o="",r=e.split("."),s=40*parseInt(r[0])+parseInt(r[1]);o+=t(s),r.splice(0,2);for(var a=0;a<r.length;a++)o+=i(r[a]);return o},V.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if("undefined"==typeof this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var i=t.length/2;if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var o=128+i;return o.toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},V.asn1.DERAbstractString=function(e){V.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e?this.setString(e):"undefined"!=typeof e["str"]?this.setString(e["str"]):"undefined"!=typeof e["hex"]&&this.setStringHex(e["hex"]))},q.lang.extend(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(e){V.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){utc=e.getTime()+6e4*e.getTimezoneOffset();var t=new Date(utc);return t},this.formatDate=function(e,t,i){var o=this.zeroPadding,r=this.localDateToUTC(e),s=String(r.getFullYear());"utc"==t&&(s=s.substr(2,2));var a=o(String(r.getMonth()+1),2),n=o(String(r.getDate()),2),c=o(String(r.getHours()),2),d=o(String(r.getMinutes()),2),u=o(String(r.getSeconds()),2),l=s+a+n+c+d+u;if(!0===i){var h=r.getMilliseconds();if(0!=h){var p=o(String(h),3);p=p.replace(/[0]+$/,""),l=l+"."+p}}return l+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,i,o,r,s){var a=new Date(Date.UTC(e,t-1,i,o,r,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},q.lang.extend(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(e){V.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,"undefined"!=typeof e&&"undefined"!=typeof e["array"]&&(this.asn1Array=e["array"])},q.lang.extend(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},q.lang.extend(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(e){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["bigint"]?this.setByBigInteger(e["bigint"]):"undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},q.lang.extend(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=V.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var i="0"+e;this.hTLV=null,this.isModified=!0,this.hV=i+t},this.setByBinaryString=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var i=0;i<=t;i++)e+="0";var o="";for(i=0;i<e.length-1;i+=8){var r=e.substr(i,8),s=parseInt(r,2).toString(16);1==s.length&&(s="0"+s),o+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+o},this.setByBooleanArray=function(e){for(var t="",i=0;i<e.length;i++)1==e[i]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=!1;return t},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):"undefined"!=typeof e["hex"]?this.setHexValueIncludingUnusedBits(e["hex"]):"undefined"!=typeof e["bin"]?this.setByBinaryString(e["bin"]):"undefined"!=typeof e["array"]&&this.setByBooleanArray(e["array"]))},q.lang.extend(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(e){if(void 0!==e&&"undefined"!==typeof e.obj){var t=V.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},q.lang.extend(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},q.lang.extend(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",o=new k(e,10),r=o.toString(2),s=7-r.length%7;7==s&&(s=0);for(var a="",n=0;n<s;n++)a+="0";r=a+r;for(n=0;n<r.length-1;n+=7){var c=r.substr(n,7);n!=r.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i};V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var o="",r=e.split("."),s=40*parseInt(r[0])+parseInt(r[1]);o+=t(s),r.splice(0,2);for(var a=0;a<r.length;a++)o+=i(r[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=o},this.setValueName=function(e){var t=V.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"===typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},q.lang.extend(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(e){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["int"]?this.setByInteger(e["int"]):"number"==typeof e?this.setByInteger(e):"undefined"!=typeof e["hex"]&&this.setValueHex(e["hex"]))},q.lang.extend(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(e){V.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},q.lang.extend(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(e){V.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},q.lang.extend(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(e){V.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},q.lang.extend(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(e){V.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},q.lang.extend(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(e){V.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},q.lang.extend(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(e){V.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return"undefined"==typeof this.date&&"undefined"==typeof this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},q.lang.extend(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(e){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},q.lang.extend(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(e){V.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var i=this.asn1Array[t];e+=i.getEncodedHex()}return this.hV=e,this.hV}},q.lang.extend(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(e){V.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var i=this.asn1Array[t];e.push(i.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},"undefined"!=typeof e&&"undefined"!=typeof e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},q.lang.extend(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(e){V.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,i){this.hT=t,this.isExplicit=e,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},"undefined"!=typeof e&&("undefined"!=typeof e["tag"]&&(this.hT=e["tag"]),"undefined"!=typeof e["explicit"]&&(this.isExplicit=e["explicit"]),"undefined"!=typeof e["obj"]&&(this.asn1Object=e["obj"],this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},q.lang.extend(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var z=function(e){function t(i){var o=e.call(this)||this;return i&&("string"===typeof i?o.parseKey(i):(t.hasPrivateKeyProperty(i)||t.hasPublicKeyProperty(i))&&o.parsePropertiesFrom(i)),o}return function(e,t){function i(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype.parseKey=function(e){try{var t=0,i=0,o=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(e)?f.decode(e):g.unarmor(e),r=C.decode(o);if(3===r.sub.length&&(r=r.sub[2].sub[0]),9===r.sub.length){t=r.sub[1].getHexStringValue(),this.n=M(t,16),i=r.sub[2].getHexStringValue(),this.e=parseInt(i,16);var s=r.sub[3].getHexStringValue();this.d=M(s,16);var a=r.sub[4].getHexStringValue();this.p=M(a,16);var n=r.sub[5].getHexStringValue();this.q=M(n,16);var c=r.sub[6].getHexStringValue();this.dmp1=M(c,16);var d=r.sub[7].getHexStringValue();this.dmq1=M(d,16);var u=r.sub[8].getHexStringValue();this.coeff=M(u,16)}else{if(2!==r.sub.length)return!1;var l=r.sub[1],h=l.sub[0];t=h.sub[0].getHexStringValue(),this.n=M(t,16),i=h.sub[1].getHexStringValue(),this.e=parseInt(i,16)}return!0}catch(p){return!1}},t.prototype.getPrivateBaseKey=function(){var e={array:[new V.asn1.DERInteger({int:0}),new V.asn1.DERInteger({bigint:this.n}),new V.asn1.DERInteger({int:this.e}),new V.asn1.DERInteger({bigint:this.d}),new V.asn1.DERInteger({bigint:this.p}),new V.asn1.DERInteger({bigint:this.q}),new V.asn1.DERInteger({bigint:this.dmp1}),new V.asn1.DERInteger({bigint:this.dmq1}),new V.asn1.DERInteger({bigint:this.coeff})]},t=new V.asn1.DERSequence(e);return t.getEncodedHex()},t.prototype.getPrivateBaseKeyB64=function(){return d(this.getPrivateBaseKey())},t.prototype.getPublicBaseKey=function(){var e=new V.asn1.DERSequence({array:[new V.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new V.asn1.DERNull]}),t=new V.asn1.DERSequence({array:[new V.asn1.DERInteger({bigint:this.n}),new V.asn1.DERInteger({int:this.e})]}),i=new V.asn1.DERBitString({hex:"00"+t.getEncodedHex()}),o=new V.asn1.DERSequence({array:[e,i]});return o.getEncodedHex()},t.prototype.getPublicBaseKeyB64=function(){return d(this.getPublicBaseKey())},t.wordwrap=function(e,t){if(t=t||64,!e)return e;var i="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(RegExp(i,"g")).join("\n")},t.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n";return e+=t.wordwrap(this.getPrivateBaseKeyB64())+"\n",e+="-----END RSA PRIVATE KEY-----",e},t.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n";return e+=t.wordwrap(this.getPublicBaseKeyB64())+"\n",e+="-----END PUBLIC KEY-----",e},t.hasPublicKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")},t.hasPrivateKeyProperty=function(e){return e=e||{},e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&e.hasOwnProperty("d")&&e.hasOwnProperty("p")&&e.hasOwnProperty("q")&&e.hasOwnProperty("dmp1")&&e.hasOwnProperty("dmq1")&&e.hasOwnProperty("coeff")},t.prototype.parsePropertiesFrom=function(e){this.n=e.n,this.e=e.e,e.hasOwnProperty("d")&&(this.d=e.d,this.p=e.p,this.q=e.q,this.dmp1=e.dmp1,this.dmq1=e.dmq1,this.coeff=e.coeff)},t}(K),ee=function(){function e(e){e=e||{},this.default_key_size=parseInt(e.default_key_size,10)||1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return e.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new z(e)},e.prototype.setPrivateKey=function(e){this.setKey(e)},e.prototype.setPublicKey=function(e){this.setKey(e)},e.prototype.decrypt=function(e){try{return this.getKey().decrypt(u(e))}catch(t){return!1}},e.prototype.encrypt=function(e){try{return d(this.getKey().encrypt(e))}catch(t){return!1}},e.prototype.encryptLong=function(e){var t=this.getKey();try{var i="",o=new Array;o.push(0);var r,s,a=0;r=e.length;for(var n=0,c=0;c<r;c++)s=e.charCodeAt(c),a+=s>=65536&&s<=1114111?4:s>=2048&&s<=65535?3:s>=128&&s<=2047?2:1,(a%117>=114||a%117==0)&&a-n>=114&&(o.push(c),n=a);if(o.length>1){for(c=0;c<o.length-1;c++){var u;u=0==c?e.substring(0,o[c+1]+1):e.substring(o[c]+1,o[c+1]+1);var l=t.encrypt(u);i+=l}if(o[o.length-1]!=e.length-1){var h=e.substring(o[o.length-1]+1);i+=t.encrypt(h)}return d(i)}var p=t.encrypt(e),f=d(p);return f}catch(g){return!1}},e.prototype.sign=function(e,t,i){try{return d(this.getKey().sign(e,t,i))}catch(o){return!1}},e.prototype.verify=function(e,t,i){try{return this.getKey().verify(e,u(t),i)}catch(o){return!1}},e.prototype.getKey=function(e){if(!this.key){if(this.key=new z,e&&"[object Function]"==={}.toString.call(e))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},e.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},e.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},e.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},e.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},e.version="3.0.0-rc.1",e}();window&&(window.JSEncrypt=ee),e.JSEncrypt=ee,e.default=ee,Object.defineProperty(e,"__esModule",{value:!0})}))},"7b48":function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("2eee")),s=o(i("c973")),a={data:function(){return{categoryAdvImage:"",isLoadingCate:!1,join_cart:"join_cart",goodsList:[],isAll:!1,isToken:!1,page_size:10,page_num:1,isNetwork:1,isLoading:!1,goodsSkuDetail:{},currentRoute:"",token:"",cartFlag:!1}},props:{value:{type:Object},siteId:{type:[Number,String],default:0},categoryHeight:{type:[Number,String],default:0}},computed:{storeToken:function(){return this.isAll=!1,this.$store.state.token},addonIsExit:function(){return this.$store.state.addonIsExit},mainHeight:function(){var e=this.categoryHeight?this.categoryHeight+"px":"100%";return e="height:"+e,e}},watch:{storeToken:function(e,t){e&&this.getGoodsList()}},methods:{cartNumChange:function(t,i){var o=this;if(!e.getStorageSync("token")){var r="/pages/goods/category/category";return this.siteId&&(r="/otherpages/shop/category/category"),void this.$refs.login.open(r)}var s,a={num:1,cart_id:i.cart_id,sku_id:i.sku_id,site_id:this.siteId},n="",c=i.max_buy,d=c>0?c-i.purchased_num:i.stock,u=1;if(i.min_buy>1&&(u=i.min_buy),a.num=u,i.unit=i.unit||"件","add"==t){if(i.cart_id?(s="edit",n="/api/cart/edit"):(s="add",n="/api/cart/add"),0==d)return void this.$util.showToast({title:"库存不足"});if(i.cart_id&&i.num<d)a.num=++i.num;else{if(c>0&&i.purchased_num>0)return void this.$util.showToast({title:"该商品每人限购"+c+i.unit+"，您已购买了"+i.purchased_num+i.unit});if(c>0&&i.num>0&&i.num+a.num>c){var l=c-i.num;return void(l>0?this.$util.showToast({title:"该商品每人限购"+c+i.unit+"，购物车已加入了"+i.num+i.unit+"，还能购买"+l+i.unit}):this.$util.showToast({title:"该商品每人限购"+c+i.unit}))}}}else"minus"==t&&(a.num=i.num-1?i.num-1:0,n=a.num>0?"/api/cart/edit":"/api/cart/delete",s=a.num>0?"edit":"delete");if(this.cartFlag)return!1;this.cartFlag=!0,this.shopDataChange(a),this.$api.sendRequest({url:n,data:a,success:function(e){if(e.code>=0){if(e.data>0){if(o.$store.dispatch("getCartNumber"),"edit"==s)return o.cartFlag=!1,!1;a.cart_id="add"==s?e.data:"","add"==s&&o.$util.showToast({title:"加入购物车成功"})}else a.num=i.num,o.$util.showToast({title:e.message});o.shopDataChange(a)}o.cartFlag=!1}})},shopDataChange:function(e){if(3!=this.value.level)for(var t=0;t<this.goodsList.length;t++){var i=this.goodsList[t];e.sku_id==i.sku_id&&(i.num=e.num,i.cart_id=e.cart_id)}else{var o=this.cateList[this.oneIndex].child_list[this.twoIndex].child_list;for(t=0;t<o.length;t++)if(-1!=this.threeIndex.indexOf(t))for(var r=0;r<o[t].goods_list.length;r++)e.sku_id==o[t].goods_list[r].sku_id&&(o[t].goods_list[r].num=e.num,o[t].goods_list[r].cart_id=e.cart_id)}this.$forceUpdate()},getGoodsSkuDetail:function(t){var i=this;return(0,s.default)(r.default.mark((function o(){var s,a;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e.getStorageSync("token")){o.next=3;break}return i.$refs.login.open(i.currentRoute),o.abrupt("return");case 3:return o.next=5,i.$api.sendRequest({url:"/api/goodssku/getInfoForCategory",async:!1,data:{sku_id:t}});case 5:s=o.sent,a=s.data,a?(i.goodsSkuDetail=a,i.skuId=i.goodsSkuDetail.sku_id,i.goodsSkuDetail.unit=i.goodsSkuDetail.unit||"件",i.goodsSkuDetail.show_price=i.goodsSkuDetail.discount_price,i.goodsSkuDetail.sku_spec_format&&(i.goodsSkuDetail.sku_spec_format=JSON.parse(i.goodsSkuDetail.sku_spec_format)),i.goodsSkuDetail.goods_spec_format&&(i.goodsSkuDetail.goods_spec_format=JSON.parse(i.goodsSkuDetail.goods_spec_format)),i.$refs.goodSkuNew.show("join_cart",i.goodsSkuDetail,(function(){i.getCartCount()}))):i.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 8:case"end":return o.stop()}}),o)})))()},refreshGoodsSkuDetail:function(e){Object.assign(this.goodsSkuDetail,e)},getCartCount:function(){var e=this;this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},toDetail:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},goodsImgError:function(e,t){this.goodsList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()}}};t.default=a}).call(this,i("543d")["default"])},"7c6e":function(e,t,i){(function(t){var o=i("970b"),r=i("5bc3"),s={KEY_ERR:311,KEY_ERR_MSG:"key格式错误",PARAM_ERR:310,PARAM_ERR_MSG:"请求参数信息有误",SYSTEM_ERR:600,SYSTEM_ERR_MSG:"系统错误",WX_ERR_CODE:1e3,WX_OK_CODE:200},a="https://apis.map.qq.com/ws/",n=a+"place/v1/suggestion",c={driving:"driving",transit:"transit"},d={safeAdd:function(e,t){var i=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(i>>16);return o<<16|65535&i},bitRotateLeft:function(e,t){return e<<t|e>>>32-t},md5cmn:function(e,t,i,o,r,s){return this.safeAdd(this.bitRotateLeft(this.safeAdd(this.safeAdd(t,e),this.safeAdd(o,s)),r),i)},md5ff:function(e,t,i,o,r,s,a){return this.md5cmn(t&i|~t&o,e,t,r,s,a)},md5gg:function(e,t,i,o,r,s,a){return this.md5cmn(t&o|i&~o,e,t,r,s,a)},md5hh:function(e,t,i,o,r,s,a){return this.md5cmn(t^i^o,e,t,r,s,a)},md5ii:function(e,t,i,o,r,s,a){return this.md5cmn(i^(t|~o),e,t,r,s,a)},binlMD5:function(e,t){var i,o,r,s,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n=1732584193,c=-271733879,d=-1732584194,u=271733878;for(i=0;i<e.length;i+=16)o=n,r=c,s=d,a=u,n=this.md5ff(n,c,d,u,e[i],7,-680876936),u=this.md5ff(u,n,c,d,e[i+1],12,-389564586),d=this.md5ff(d,u,n,c,e[i+2],17,606105819),c=this.md5ff(c,d,u,n,e[i+3],22,-1044525330),n=this.md5ff(n,c,d,u,e[i+4],7,-176418897),u=this.md5ff(u,n,c,d,e[i+5],12,1200080426),d=this.md5ff(d,u,n,c,e[i+6],17,-1473231341),c=this.md5ff(c,d,u,n,e[i+7],22,-45705983),n=this.md5ff(n,c,d,u,e[i+8],7,1770035416),u=this.md5ff(u,n,c,d,e[i+9],12,-1958414417),d=this.md5ff(d,u,n,c,e[i+10],17,-42063),c=this.md5ff(c,d,u,n,e[i+11],22,-1990404162),n=this.md5ff(n,c,d,u,e[i+12],7,1804603682),u=this.md5ff(u,n,c,d,e[i+13],12,-40341101),d=this.md5ff(d,u,n,c,e[i+14],17,-1502002290),c=this.md5ff(c,d,u,n,e[i+15],22,1236535329),n=this.md5gg(n,c,d,u,e[i+1],5,-165796510),u=this.md5gg(u,n,c,d,e[i+6],9,-1069501632),d=this.md5gg(d,u,n,c,e[i+11],14,643717713),c=this.md5gg(c,d,u,n,e[i],20,-373897302),n=this.md5gg(n,c,d,u,e[i+5],5,-701558691),u=this.md5gg(u,n,c,d,e[i+10],9,38016083),d=this.md5gg(d,u,n,c,e[i+15],14,-660478335),c=this.md5gg(c,d,u,n,e[i+4],20,-405537848),n=this.md5gg(n,c,d,u,e[i+9],5,568446438),u=this.md5gg(u,n,c,d,e[i+14],9,-1019803690),d=this.md5gg(d,u,n,c,e[i+3],14,-187363961),c=this.md5gg(c,d,u,n,e[i+8],20,1163531501),n=this.md5gg(n,c,d,u,e[i+13],5,-1444681467),u=this.md5gg(u,n,c,d,e[i+2],9,-51403784),d=this.md5gg(d,u,n,c,e[i+7],14,1735328473),c=this.md5gg(c,d,u,n,e[i+12],20,-1926607734),n=this.md5hh(n,c,d,u,e[i+5],4,-378558),u=this.md5hh(u,n,c,d,e[i+8],11,-2022574463),d=this.md5hh(d,u,n,c,e[i+11],16,1839030562),c=this.md5hh(c,d,u,n,e[i+14],23,-35309556),n=this.md5hh(n,c,d,u,e[i+1],4,-1530992060),u=this.md5hh(u,n,c,d,e[i+4],11,1272893353),d=this.md5hh(d,u,n,c,e[i+7],16,-155497632),c=this.md5hh(c,d,u,n,e[i+10],23,-1094730640),n=this.md5hh(n,c,d,u,e[i+13],4,681279174),u=this.md5hh(u,n,c,d,e[i],11,-358537222),d=this.md5hh(d,u,n,c,e[i+3],16,-722521979),c=this.md5hh(c,d,u,n,e[i+6],23,76029189),n=this.md5hh(n,c,d,u,e[i+9],4,-640364487),u=this.md5hh(u,n,c,d,e[i+12],11,-421815835),d=this.md5hh(d,u,n,c,e[i+15],16,530742520),c=this.md5hh(c,d,u,n,e[i+2],23,-995338651),n=this.md5ii(n,c,d,u,e[i],6,-198630844),u=this.md5ii(u,n,c,d,e[i+7],10,1126891415),d=this.md5ii(d,u,n,c,e[i+14],15,-1416354905),c=this.md5ii(c,d,u,n,e[i+5],21,-57434055),n=this.md5ii(n,c,d,u,e[i+12],6,1700485571),u=this.md5ii(u,n,c,d,e[i+3],10,-1894986606),d=this.md5ii(d,u,n,c,e[i+10],15,-1051523),c=this.md5ii(c,d,u,n,e[i+1],21,-2054922799),n=this.md5ii(n,c,d,u,e[i+8],6,1873313359),u=this.md5ii(u,n,c,d,e[i+15],10,-30611744),d=this.md5ii(d,u,n,c,e[i+6],15,-1560198380),c=this.md5ii(c,d,u,n,e[i+13],21,1309151649),n=this.md5ii(n,c,d,u,e[i+4],6,-145523070),u=this.md5ii(u,n,c,d,e[i+11],10,-1120210379),d=this.md5ii(d,u,n,c,e[i+2],15,718787259),c=this.md5ii(c,d,u,n,e[i+9],21,-343485551),n=this.safeAdd(n,o),c=this.safeAdd(c,r),d=this.safeAdd(d,s),u=this.safeAdd(u,a);return[n,c,d,u]},binl2rstr:function(e){var t,i="",o=32*e.length;for(t=0;t<o;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i},rstr2binl:function(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i},rstrMD5:function(e){return this.binl2rstr(this.binlMD5(this.rstr2binl(e),8*e.length))},rstrHMACMD5:function(e,t){var i,o,r=this.rstr2binl(e),s=[],a=[];for(s[15]=a[15]=void 0,r.length>16&&(r=this.binlMD5(r,8*e.length)),i=0;i<16;i+=1)s[i]=909522486^r[i],a[i]=1549556828^r[i];return o=this.binlMD5(s.concat(this.rstr2binl(t)),512+8*t.length),this.binl2rstr(this.binlMD5(a.concat(o),640))},rstr2hex:function(e){var t,i,o="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),o+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return o},str2rstrUTF8:function(e){return unescape(encodeURIComponent(e))},rawMD5:function(e){return this.rstrMD5(this.str2rstrUTF8(e))},hexMD5:function(e){return this.rstr2hex(this.rawMD5(e))},rawHMACMD5:function(e,t){return this.rstrHMACMD5(this.str2rstrUTF8(e),str2rstrUTF8(t))},hexHMACMD5:function(e,t){return this.rstr2hex(this.rawHMACMD5(e,t))},md5:function(e,t,i){return t?i?this.rawHMACMD5(t,e):this.hexHMACMD5(t,e):i?this.rawMD5(e):this.hexMD5(e)},getSig:function(e,t,i,o){var r=null,s=[];return Object.keys(e).sort().forEach((function(t){s.push(t+"="+e[t])})),"search"==i&&(r="/ws/place/v1/search?"+s.join("&")+t),"suggest"==i&&(r="/ws/place/v1/suggestion?"+s.join("&")+t),"reverseGeocoder"==i&&(r="/ws/geocoder/v1/?"+s.join("&")+t),"geocoder"==i&&(r="/ws/geocoder/v1/?"+s.join("&")+t),"getCityList"==i&&(r="/ws/district/v1/list?"+s.join("&")+t),"getDistrictByCityId"==i&&(r="/ws/district/v1/getchildren?"+s.join("&")+t),"calculateDistance"==i&&(r="/ws/distance/v1/?"+s.join("&")+t),"direction"==i&&(r="/ws/direction/v1/"+o+"?"+s.join("&")+t),r=this.md5(r),r},location2query:function(e){if("string"==typeof e)return e;for(var t="",i=0;i<e.length;i++){var o=e[i];t&&(t+=";"),o.location&&(t=t+o.location.lat+","+o.location.lng),o.latitude&&o.longitude&&(t=t+o.latitude+","+o.longitude)}return t},rad:function(e){return e*Math.PI/180},getEndLocation:function(e){for(var t=e.split(";"),i=[],o=0;o<t.length;o++)i.push({lat:parseFloat(t[o].split(",")[0]),lng:parseFloat(t[o].split(",")[1])});return i},getDistance:function(e,t,i,o){var r=this.rad(e),s=this.rad(i),a=r-s,n=this.rad(t)-this.rad(o),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(s)*Math.pow(Math.sin(n/2),2)));return c*=6378136.49,c=Math.round(1e4*c)/1e4,parseFloat(c.toFixed(0))},getWXLocation:function(e,i,o){t.getLocation({type:"gcj02",success:e,fail:i,complete:o})},getLocationParam:function(e){if("string"==typeof e){var t=e.split(",");e=2===t.length?{latitude:e.split(",")[0],longitude:e.split(",")[1]}:{}}return e},polyfillParam:function(e){e.success=e.success||function(){},e.fail=e.fail||function(){},e.complete=e.complete||function(){}},checkParamKeyEmpty:function(e,t){if(!e[t]){var i=this.buildErrorConfig(s.PARAM_ERR,s.PARAM_ERR_MSG+t+"参数格式有误");return e.fail(i),e.complete(i),!0}return!1},checkKeyword:function(e){return!this.checkParamKeyEmpty(e,"keyword")},checkLocation:function(e){var t=this.getLocationParam(e.location);if(!t||!t.latitude||!t.longitude){var i=this.buildErrorConfig(s.PARAM_ERR,s.PARAM_ERR_MSG+" location参数格式有误");return e.fail(i),e.complete(i),!1}return!0},buildErrorConfig:function(e,t){return{status:e,message:t}},handleData:function(e,t,i){if("search"==i){for(var o=t.data,r=[],s=0;s<o.length;s++)r.push({id:o[s].id||null,title:o[s].title||null,latitude:o[s].location&&o[s].location.lat||null,longitude:o[s].location&&o[s].location.lng||null,address:o[s].address||null,category:o[s].category||null,tel:o[s].tel||null,adcode:o[s].ad_info&&o[s].ad_info.adcode||null,city:o[s].ad_info&&o[s].ad_info.city||null,district:o[s].ad_info&&o[s].ad_info.district||null,province:o[s].ad_info&&o[s].ad_info.province||null});e.success(t,{searchResult:o,searchSimplify:r})}else if("suggest"==i){var a=t.data,n=[];for(s=0;s<a.length;s++)n.push({adcode:a[s].adcode||null,address:a[s].address||null,category:a[s].category||null,city:a[s].city||null,district:a[s].district||null,id:a[s].id||null,latitude:a[s].location&&a[s].location.lat||null,longitude:a[s].location&&a[s].location.lng||null,province:a[s].province||null,title:a[s].title||null,type:a[s].type||null});e.success(t,{suggestResult:a,suggestSimplify:n})}else if("reverseGeocoder"==i){var c=t.result,d={address:c.address||null,latitude:c.location&&c.location.lat||null,longitude:c.location&&c.location.lng||null,adcode:c.ad_info&&c.ad_info.adcode||null,city:c.address_component&&c.address_component.city||null,district:c.address_component&&c.address_component.district||null,nation:c.address_component&&c.address_component.nation||null,province:c.address_component&&c.address_component.province||null,street:c.address_component&&c.address_component.street||null,street_number:c.address_component&&c.address_component.street_number||null,recommend:c.formatted_addresses&&c.formatted_addresses.recommend||null,rough:c.formatted_addresses&&c.formatted_addresses.rough||null};if(c.pois){var u=c.pois,l=[];for(s=0;s<u.length;s++)l.push({id:u[s].id||null,title:u[s].title||null,latitude:u[s].location&&u[s].location.lat||null,longitude:u[s].location&&u[s].location.lng||null,address:u[s].address||null,category:u[s].category||null,adcode:u[s].ad_info&&u[s].ad_info.adcode||null,city:u[s].ad_info&&u[s].ad_info.city||null,district:u[s].ad_info&&u[s].ad_info.district||null,province:u[s].ad_info&&u[s].ad_info.province||null});e.success(t,{reverseGeocoderResult:c,reverseGeocoderSimplify:d,pois:u,poisSimplify:l})}else e.success(t,{reverseGeocoderResult:c,reverseGeocoderSimplify:d})}else if("geocoder"==i){var h=t.result,p={title:h.title||null,latitude:h.location&&h.location.lat||null,longitude:h.location&&h.location.lng||null,adcode:h.ad_info&&h.ad_info.adcode||null,province:h.address_components&&h.address_components.province||null,city:h.address_components&&h.address_components.city||null,district:h.address_components&&h.address_components.district||null,street:h.address_components&&h.address_components.street||null,street_number:h.address_components&&h.address_components.street_number||null,level:h.level||null};e.success(t,{geocoderResult:h,geocoderSimplify:p})}else if("getCityList"==i){var f=t.result[0],g=t.result[1],m=t.result[2];e.success(t,{provinceResult:f,cityResult:g,districtResult:m})}else if("getDistrictByCityId"==i){var _=t.result[0];e.success(t,_)}else if("calculateDistance"==i){var v=t.result.elements,y=[];for(s=0;s<v.length;s++)y.push(v[s].distance);e.success(t,{calculateDistanceResult:v,distance:y})}else if("direction"==i){var D=t.result.routes;e.success(t,D)}else e.success(t)},buildWxRequestConfig:function(e,t,i){var o=this;return t.header={"content-type":"application/json"},t.method="GET",t.success=function(t){var r=t.data;0===r.status?o.handleData(e,r,i):e.fail(r)},t.fail=function(t){t.statusCode=s.WX_ERR_CODE,e.fail(o.buildErrorConfig(s.WX_ERR_CODE,t.errMsg))},t.complete=function(t){var i=+t.statusCode;switch(i){case s.WX_ERR_CODE:e.complete(o.buildErrorConfig(s.WX_ERR_CODE,t.errMsg));break;case s.WX_OK_CODE:var r=t.data;0===r.status?e.complete(r):e.complete(o.buildErrorConfig(r.status,r.message));break;default:e.complete(o.buildErrorConfig(s.SYSTEM_ERR,s.SYSTEM_ERR_MSG))}},t},locationProcess:function(e,t,i,o){var r=this;if(i=i||function(t){t.statusCode=s.WX_ERR_CODE,e.fail(r.buildErrorConfig(s.WX_ERR_CODE,t.errMsg))},o=o||function(t){t.statusCode==s.WX_ERR_CODE&&e.complete(r.buildErrorConfig(s.WX_ERR_CODE,t.errMsg))},e.location){if(r.checkLocation(e)){var a=d.getLocationParam(e.location);t(a)}}else r.getWXLocation(t,i,o)}},u=function(){"use strict";function e(t){if(o(this,e),!t.key)throw Error("key值不能为空");this.key=t.key}return r(e,[{key:"search",value:function(e){if(e=e||{},d.polyfillParam(e),d.checkKeyword(e)){var i={keyword:e.keyword,orderby:e.orderby||"_distance",page_size:e.page_size||10,page_index:e.page_index||1,output:"json",key:this.key};e.address_format&&(i.address_format=e.address_format),e.filter&&(i.filter=e.filter);var o=e.distance||"1000",r=e.auto_extend||1,s=null,a=null;e.region&&(s=e.region),e.rectangle&&(a=e.rectangle);d.locationProcess(e,(function(n){s&&!a?(i.boundary="region("+s+","+r+","+n.latitude+","+n.longitude+")",e.sig&&(i.sig=d.getSig(i,e.sig,"search"))):a&&!s?(i.boundary="rectangle("+a+")",e.sig&&(i.sig=d.getSig(i,e.sig,"search"))):(i.boundary="nearby("+n.latitude+","+n.longitude+","+o+","+r+")",e.sig&&(i.sig=d.getSig(i,e.sig,"search"))),t.request(d.buildWxRequestConfig(e,{url:"https://apis.map.qq.com/ws/place/v1/search",data:i},"search"))}))}}},{key:"getSuggestion",value:function(e){if(e=e||{},d.polyfillParam(e),d.checkKeyword(e)){var i={keyword:e.keyword,region:e.region||"全国",region_fix:e.region_fix||0,policy:e.policy||0,page_size:e.page_size||10,page_index:e.page_index||1,get_subpois:e.get_subpois||0,output:"json",key:this.key};if(e.address_format&&(i.address_format=e.address_format),e.filter&&(i.filter=e.filter),e.location){d.locationProcess(e,(function(o){i.location=o.latitude+","+o.longitude,e.sig&&(i.sig=d.getSig(i,e.sig,"suggest")),t.request(d.buildWxRequestConfig(e,{url:n,data:i},"suggest"))}))}else e.sig&&(i.sig=d.getSig(i,e.sig,"suggest")),t.request(d.buildWxRequestConfig(e,{url:n,data:i},"suggest"))}}},{key:"reverseGeocoder",value:function(e){e=e||{},d.polyfillParam(e);var i={coord_type:e.coord_type||5,get_poi:e.get_poi||0,output:"json",key:this.key};e.poi_options&&(i.poi_options=e.poi_options);d.locationProcess(e,(function(o){i.location=o.latitude+","+o.longitude,e.sig&&(i.sig=d.getSig(i,e.sig,"reverseGeocoder")),t.request(d.buildWxRequestConfig(e,{url:"https://apis.map.qq.com/ws/geocoder/v1/",data:i},"reverseGeocoder"))}))}},{key:"geocoder",value:function(e){if(e=e||{},d.polyfillParam(e),!d.checkParamKeyEmpty(e,"address")){var i={address:e.address,output:"json",key:this.key};e.region&&(i.region=e.region),e.sig&&(i.sig=d.getSig(i,e.sig,"geocoder")),t.request(d.buildWxRequestConfig(e,{url:"https://apis.map.qq.com/ws/geocoder/v1/",data:i},"geocoder"))}}},{key:"getCityList",value:function(e){e=e||{},d.polyfillParam(e);var i={output:"json",key:this.key};e.sig&&(i.sig=d.getSig(i,e.sig,"getCityList")),t.request(d.buildWxRequestConfig(e,{url:"https://apis.map.qq.com/ws/district/v1/list",data:i},"getCityList"))}},{key:"getDistrictByCityId",value:function(e){if(e=e||{},d.polyfillParam(e),!d.checkParamKeyEmpty(e,"id")){var i={id:e.id||"",output:"json",key:this.key};e.sig&&(i.sig=d.getSig(i,e.sig,"getDistrictByCityId")),t.request(d.buildWxRequestConfig(e,{url:"https://apis.map.qq.com/ws/district/v1/getchildren",data:i},"getDistrictByCityId"))}}},{key:"calculateDistance",value:function(e){if(e=e||{},d.polyfillParam(e),!d.checkParamKeyEmpty(e,"to")){var i={mode:e.mode||"walking",to:d.location2query(e.to),output:"json",key:this.key};if(e.from&&(e.location=e.from),"straight"==i.mode){var o=function(t){for(var o=d.getEndLocation(i.to),r={message:"query ok",result:{elements:[]},status:0},s=0;s<o.length;s++)r.result.elements.push({distance:d.getDistance(t.latitude,t.longitude,o[s].lat,o[s].lng),duration:0,from:{lat:t.latitude,lng:t.longitude},to:{lat:o[s].lat,lng:o[s].lng}});var a=r.result.elements,n=[];for(s=0;s<a.length;s++)n.push(a[s].distance);return e.success(r,{calculateResult:a,distanceResult:n})};d.locationProcess(e,o)}else{o=function(o){i.from=o.latitude+","+o.longitude,e.sig&&(i.sig=d.getSig(i,e.sig,"calculateDistance")),t.request(d.buildWxRequestConfig(e,{url:"https://apis.map.qq.com/ws/distance/v1/",data:i},"calculateDistance"))};d.locationProcess(e,o)}}}},{key:"direction",value:function(e){if(e=e||{},d.polyfillParam(e),!d.checkParamKeyEmpty(e,"to")){var i={output:"json",key:this.key};"string"==typeof e.to?i.to=e.to:i.to=e.to.latitude+","+e.to.longitude;var o;e.mode=e.mode||c.driving,o="https://apis.map.qq.com/ws/direction/v1/"+e.mode,e.from&&(e.location=e.from),e.mode==c.driving&&(e.from_poi&&(i.from_poi=e.from_poi),e.heading&&(i.heading=e.heading),e.speed&&(i.speed=e.speed),e.accuracy&&(i.accuracy=e.accuracy),e.road_type&&(i.road_type=e.road_type),e.to_poi&&(i.to_poi=e.to_poi),e.from_track&&(i.from_track=e.from_track),e.waypoints&&(i.waypoints=e.waypoints),e.policy&&(i.policy=e.policy),e.plate_number&&(i.plate_number=e.plate_number)),e.mode==c.transit&&(e.departure_time&&(i.departure_time=e.departure_time),e.policy&&(i.policy=e.policy));d.locationProcess(e,(function(r){i.from=r.latitude+","+r.longitude,e.sig&&(i.sig=d.getSig(i,e.sig,"direction",e.mode)),t.request(d.buildWxRequestConfig(e,{url:o,data:i},"direction"))}))}}}]),e}();e.exports=u}).call(this,i("bc2e")["default"])},"7d62":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"退款详情"}},"7ec2":function(e,t,i){var o=i("7037")["default"];function r(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=r=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},i=Object.prototype,s=i.hasOwnProperty,a=Object.defineProperty||function(e,t,i){e[t]=i.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",d=n.asyncIterator||"@@asyncIterator",u=n.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(Z){l=function(e,t,i){return e[t]=i}}function h(e,t,i,o){var r=t&&t.prototype instanceof g?t:g,s=Object.create(r.prototype),n=new L(o||[]);return a(s,"_invoke",{value:P(e,i,n)}),s}function p(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(Z){return{type:"throw",arg:Z}}}t.wrap=h;var f={};function g(){}function m(){}function _(){}var v={};l(v,c,(function(){return this}));var y=Object.getPrototypeOf,D=y&&y(y(Y([])));D&&D!==i&&s.call(D,c)&&(v=D);var S=_.prototype=g.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){var i;a(this,"_invoke",{value:function(r,a){function n(){return new t((function(i,n){(function i(r,a,n,c){var d=p(e[r],e,a);if("throw"!==d.type){var u=d.arg,l=u.value;return l&&"object"==o(l)&&s.call(l,"__await")?t.resolve(l.__await).then((function(e){i("next",e,n,c)}),(function(e){i("throw",e,n,c)})):t.resolve(l).then((function(e){u.value=e,n(u)}),(function(e){return i("throw",e,n,c)}))}c(d.arg)})(r,a,i,n)}))}return i=i?i.then(n,n):n()}})}function P(e,t,i){var o="suspendedStart";return function(r,s){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw s;return $()}for(i.method=r,i.arg=s;;){var a=i.delegate;if(a){var n=w(a,i);if(n){if(n===f)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===o)throw o="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o="executing";var c=p(e,t,i);if("normal"===c.type){if(o=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o="completed",i.method="throw",i.arg=c.arg)}}}function w(e,t){var i=t.method,o=e.iterator[i];if(void 0===o)return t.delegate=null,"throw"===i&&e.iterator["return"]&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var r=p(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var s=r.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function Y(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(s.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:$}}function $(){return{value:void 0,done:!0}}return m.prototype=_,a(S,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:m,configurable:!0}),m.displayName=l(_,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},b(C.prototype),l(C.prototype,d,(function(){return this})),t.AsyncIterator=C,t.async=function(e,i,o,r,s){void 0===s&&(s=Promise);var a=new C(h(e,i,o,r),s);return t.isGeneratorFunction(i)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(S),l(S,u,"Generator"),l(S,c,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),i=[];for(var o in t)i.push(o);return i.reverse(),function e(){for(;i.length;){var o=i.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=Y,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,o){return a.type="throw",a.arg=e,t.next=i,o&&(t.method="next",t.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var n=s.call(r,"catchLoc"),c=s.call(r,"finallyLoc");if(n&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(n){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&s.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),k(i),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var o=i.completion;if("throw"===o.type){var r=o.arg;k(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:Y(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=void 0),f}},t}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"7f79":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},8439:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={emjoyList:{"[emjoy_01]":"public/static/img/emjoy/emjoy_01.gif","[emjoy_02]":"public/static/img/emjoy/emjoy_02.gif","[emjoy_03]":"public/static/img/emjoy/emjoy_03.gif","[emjoy_04]":"public/static/img/emjoy/emjoy_04.gif","[emjoy_05]":"public/static/img/emjoy/emjoy_05.gif","[emjoy_06]":"public/static/img/emjoy/emjoy_06.gif","[emjoy_07]":"public/static/img/emjoy/emjoy_07.gif","[emjoy_08]":"public/static/img/emjoy/emjoy_08.gif","[emjoy_09]":"public/static/img/emjoy/emjoy_09.gif","[emjoy_10]":"public/static/img/emjoy/emjoy_10.gif","[emjoy_11]":"public/static/img/emjoy/emjoy_11.gif","[emjoy_12]":"public/static/img/emjoy/emjoy_12.gif","[emjoy_13]":"public/static/img/emjoy/emjoy_13.gif","[emjoy_14]":"public/static/img/emjoy/emjoy_14.gif","[emjoy_15]":"public/static/img/emjoy/emjoy_15.gif","[emjoy_16]":"public/static/img/emjoy/emjoy_16.gif","[emjoy_17]":"public/static/img/emjoy/emjoy_17.gif","[emjoy_18]":"public/static/img/emjoy/emjoy_18.gif","[emjoy_19]":"public/static/img/emjoy/emjoy_19.gif","[emjoy_20]":"public/static/img/emjoy/emjoy_20.gif","[emjoy_21]":"public/static/img/emjoy/emjoy_21.gif","[emjoy_22]":"public/static/img/emjoy/emjoy_22.gif","[emjoy_23]":"public/static/img/emjoy/emjoy_23.gif","[emjoy_24]":"public/static/img/emjoy/emjoy_24.gif","[emjoy_25]":"public/static/img/emjoy/emjoy_25.gif","[emjoy_26]":"public/static/img/emjoy/emjoy_26.gif","[emjoy_27]":"public/static/img/emjoy/emjoy_27.gif","[emjoy_28]":"public/static/img/emjoy/emjoy_28.gif","[emjoy_29]":"public/static/img/emjoy/emjoy_29.gif","[emjoy_30]":"public/static/img/emjoy/emjoy_30.gif","[emjoy_31]":"public/static/img/emjoy/emjoy_31.gif","[emjoy_32]":"public/static/img/emjoy/emjoy_32.gif","[emjoy_33]":"public/static/img/emjoy/emjoy_33.gif","[emjoy_34]":"public/static/img/emjoy/emjoy_34.gif","[emjoy_35]":"public/static/img/emjoy/emjoy_35.gif","[emjoy_36]":"public/static/img/emjoy/emjoy_36.gif","[emjoy_37]":"public/static/img/emjoy/emjoy_37.gif","[emjoy_38]":"public/static/img/emjoy/emjoy_38.gif","[emjoy_39]":"public/static/img/emjoy/emjoy_39.gif","[emjoy_40]":"public/static/img/emjoy/emjoy_40.gif","[emjoy_41]":"public/static/img/emjoy/emjoy_41.gif","[emjoy_42]":"public/static/img/emjoy/emjoy_42.gif","[emjoy_43]":"public/static/img/emjoy/emjoy_43.gif","[emjoy_44]":"public/static/img/emjoy/emjoy_44.gif","[emjoy_45]":"public/static/img/emjoy/emjoy_45.gif","[emjoy_46]":"public/static/img/emjoy/emjoy_46.gif","[emjoy_47]":"public/static/img/emjoy/emjoy_47.gif"}}},"87ce":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"}},8939:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},"89f1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"店铺介绍"}},"8a5e":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{orderPay:function(t){var i=this;0==t.adjust_money?this.openChoosePayment():e.showModal({title:"提示",content:"商家已将支付金额调整为"+t.pay_money+"元，是否继续支付？",success:function(e){e.confirm&&i.openChoosePayment()}})},pay:function(){var e=this;this.$api.sendRequest({url:"/api/order/pay",data:{order_ids:this.orderData.order_id},success:function(t){t.code>=0?e.$refs.choosePaymentPopup.getPayInfo(t.data):e.$util.showToast({title:t.message})}})},orderClose:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定要关闭该订单吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/close",data:{order_id:t},success:function(e){e.code>=0?"function"==typeof i&&i():o.$util.showToast({title:"当前订单可能存在拼团，维权等操作，"+e.message+"不可以关闭哦!",duration:2e3})}})}})},orderDelivery:function(t,i){var o=this;e.showModal({title:"提示",content:"您确定已经收到货物了吗？",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/takedelivery",data:{order_id:t},success:function(e){o.$util.showToast({title:e.message}),"function"==typeof i&&i()}})}})},orderExtendTakeDelivery:function(t,i){var o=this;e.showModal({title:"提示",content:"单次延长收货时间？\n 每笔订单只能延迟一次奥",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/order/extendtakedelivery",data:{order_id:t},success:function(e){o.$util.showToast({title:e.message}),"function"==typeof i&&i()}})}})}}};t.default=i}).call(this,i("543d")["default"])},"8af3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"账单"}},"8c39":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"平台维权"}},"8e91":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z0-9_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,r=/^<\/([-A-Za-z0-9_]+)[^>]*>/,s=/([a-zA-Z0-9_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;function a(e){for(var t={},i=e.split(","),o=0;o<i.length;o+=1)t[i[o]]=!0;return t}var n=a("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),c=a("address,code,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),d=a("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),u=a("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=a("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var h=function(e,t){var i,a,h,p=e,f=[];function g(e,i){var o;if(i){for(i=i.toLowerCase(),o=f.length-1;o>=0;o-=1)if(f[o]===i)break}else o=0;if(o>=0){for(var r=f.length-1;r>=o;r-=1)t.end&&t.end(f[r]);f.length=o}}function m(e,i,o,r){if(i=i.toLowerCase(),c[i])while(f.last()&&d[f.last()])g(0,f.last());if(u[i]&&f.last()===i&&g(0,i),r=n[i]||!!r,r||f.push(i),t.start){var a=[];o.replace(s,(function(e,t){var i=arguments[2]||arguments[3]||arguments[4]||(l[t]?t:"");a.push({name:t,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})})),t.start&&t.start(i,a,r)}}f.last=function(){return f[f.length-1]};while(e){if(a=!0,0===e.indexOf("</")?(h=e.match(r),h&&(e=e.substring(h[0].length),h[0].replace(r,g),a=!1)):0===e.indexOf("<")&&(h=e.match(o),h&&(e=e.substring(h[0].length),h[0].replace(o,m),a=!1)),a){i=e.indexOf("<");var _="";while(0===i)_+="<",e=e.substring(1),i=e.indexOf("<");_+=i<0?e:e.substring(0,i),e=i<0?"":e.substring(i),t.chars&&t.chars(_)}if(e===p)throw new Error("Parse Error: ".concat(e));p=e}g()};t.default=h},"8e9e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"拼团分享"}},"8edf":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},"8f49":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{showTop:!1,scrollTop:0,oldLocation:0}},methods:{scrollToTopNative:function(){e.pageScrollTo({duration:200,scrollTop:0})}},onReachBottom:function(){this.$refs.goodrecommend&&this.$refs.goodrecommend.getLikeList(10)},onPageScroll:function(e){this.oldLocation=e.scrollTop,e.scrollTop>400?this.showTop=!0:this.showTop=!1}};t.default=i}).call(this,i("543d")["default"])},"8fa8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"领取优惠券"}},"90a5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"申请退款"}},"91f3":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"订单详情"}},"928f":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:""},orderPaymentData:{member_account:{balance:0,is_pay_password:0,mobile:""},shop_goods_list:{site_name:"",express_type:[],invoice_config:{invoice_status:0}},seckill_info:{name:""}},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},isSub:!1,tempData:null,siteDelivery:{site_id:0,data:[]}}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/seckill/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("seckillOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.orderCreateData.buyer_message="",this.$api.sendRequest({url:"/seckill/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";var e=this.orderPaymentData,t=(new Date).getHours().toString(),i=(new Date).getMinutes().toString();1==t.length&&(t="0"+t),1==i.length&&(i="0"+i);var o=t+":"+i,r=["周日","周一","周二","周三","周四","周五","周六"],s=["0","1","2","3","4","5","6"][(new Date).getDay()];if(void 0!=e.shop_goods_list.express_type&&void 0!=e.shop_goods_list.express_type[0]){var a=e.shop_goods_list.express_type;this.orderCreateData.delivery.delivery_type=a[0].name,this.orderCreateData.delivery.delivery_type_name=a[0].title,this.orderCreateData.delivery.store_id=0,"store"==a[0].name&&void 0!=a[0].store_list[0]&&(this.orderCreateData.delivery.store_id=a[0].store_list[0].store_id)}if(0==e.is_virtual&&e.shop_goods_list.local_config)if(e.shop_goods_list.local_config.info&&1==e.shop_goods_list.local_config.info.time_is_open){if(this.orderCreateData.delivery.showTimeBar=!0,this.orderCreateData.delivery.buyer_ask_delivery_time=o,0==e.shop_goods_list.local_config.info.time_week.length||7==e.shop_goods_list.local_config.info.time_week.length||e.shop_goods_list.local_config.info.time_week.indexOf(s)>-1?this.orderCreateData.delivery.canLocalDelicery=!0:this.orderCreateData.delivery.canLocalDelicery=!1,0==e.shop_goods_list.local_config.info.time_type)this.orderCreateData.delivery.deliveryWeek="全天";else if(e.shop_goods_list.local_config.info.time_week.length>0)if(7==e.shop_goods_list.local_config.info.time_week.length)this.orderCreateData.delivery.deliveryWeek="全天",this.orderCreateData.delivery.showTime=!1;else{this.orderCreateData.delivery.showTime=!0;for(var n=e.shop_goods_list.local_config.info.time_week,c=!1,d=0;d<n.length;d++)if(d+1<n.length){var u=n[d+1]-n[d];if(u>1){c=!0;break}}if(c){var l=[];for(d=0;d<n.length;d++)l.push(r[n[d]]);this.orderCreateData.delivery.deliveryWeek=l.join("、")}else this.orderCreateData.delivery.deliveryWeek=r[n[0]]+"至"+r[n[n.length-1]]}else this.orderCreateData.delivery.deliveryWeek="店铺未设置配送时间";var h=e.shop_goods_list.local_config.info.start_time;this.orderCreateData.delivery.start_time=this.getTimeStr(h);var p=e.shop_goods_list.local_config.info.end_time;this.orderCreateData.delivery.end_time=this.getTimeStr(p);var f=new Date(this.$util.timeStampTurnTime(e.timestamp)),g=f.getHours(),m=f.getMinutes(),_=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),v=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),y=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),D=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);this.orderCreateData.delivery.canLocalDelicery&&(_==y&&v==D||((g<_||g==_&&m<v)&&(this.orderCreateData.delivery.buyer_ask_delivery_time=(1==_.toString().length?"0"+_:_)+":"+(1==v.toString().length?"0"+v:v)),(g>y||g==y&&m>D)&&(this.orderCreateData.delivery.canLocalDelicery=!1)))}else this.orderCreateData.delivery.showTimeBar=!1,this.orderCreateData.delivery.deliveryWeek="店铺未开启配送时间";e.shop_goods_list.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),Object.assign(e,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.orderPaymentData.shop_goods_list.site_id,i={};i[t]=this.orderCreateData.delivery;var o={};o[t]=this.orderCreateData.buyer_message,this.orderPaymentData.shop_goods_list.is_invoice&&(this.orderCreateData.invoice[t]={},Array.isArray(this.orderPaymentData.shop_goods_list.invoice_config)||(this.orderCreateData.invoice[t].is_invoice=this.orderPaymentData.shop_goods_list.is_invoice,this.orderCreateData.invoice[t].invoice_type=this.orderPaymentData.shop_goods_list.invoice_type,this.orderCreateData.invoice[t].invoice_title=this.orderPaymentData.shop_goods_list.invoice_title,this.orderCreateData.invoice[t].taxpayer_number=this.orderPaymentData.shop_goods_list.taxpayer_number,this.orderCreateData.invoice[t].invoice_content=this.orderPaymentData.shop_goods_list.invoice_content,this.orderCreateData.invoice[t].invoice_full_address=this.orderPaymentData.shop_goods_list.invoice_full_address,this.orderCreateData.invoice[t].is_tax_invoice=this.orderPaymentData.shop_goods_list.is_tax_invoice,this.orderCreateData.invoice[t].invoice_email=this.orderPaymentData.shop_goods_list.invoice_email,this.orderCreateData.invoice[t].invoice_title_type=this.orderPaymentData.shop_goods_list.invoice_title_type));var r=this.$util.deepClone(this.orderCreateData);r.delivery=JSON.stringify(i),r.invoice=JSON.stringify(r.invoice),r.member_address=JSON.stringify(r.member_address),r.buyer_message=JSON.stringify(o),this.$api.sendRequest({url:"/seckill/api/ordercreate/calculate",data:r,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.orderPaymentData.shop_goods_list.site_id,r={};r[o]=this.orderCreateData.delivery;var s={};s[o]=this.orderCreateData.buyer_message;var a=this.$util.deepClone(this.orderCreateData);a.delivery=JSON.stringify(r),a.invoice=JSON.stringify(a.invoice),a.member_address=JSON.stringify(a.member_address),a.buyer_message=JSON.stringify(s),this.$api.sendRequest({url:"/seckill/api/ordercreate/create",data:a,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_account.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;if(!/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.orderPaymentData.member_account.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list.express_type.length){e=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式"});break}if(!e)return!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式,请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】没有可提货的门店,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type&&(""==this.orderPaymentData.shop_goods_list.shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list.shop.shop_info.latitude))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】地址信息未完善,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.canLocalDelicery)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】已休息"}),!1;var i=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[0]),o=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[1]),r=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);if(r!=a||s!=n){if(i<r||i==r&&o<s)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间不能小于配送开始时间"}),!1;if(!(i>r&&i<a||i==r&&o>s||i==r&&o>=s&&i<a))return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间范围：开始时间~结束时间"}),!1}}}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery.store_id=e.store_list[0].store_id,this.tempData.delivery.store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.$refs.choosePaymentPopup.open(),this.subscribeMessage())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},"92d2":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={contact:"",person:"",personadd:"","contact-filled":"","person-filled":"","personadd-filled":"",phone:"",email:"",chatbubble:"",chatboxes:"","phone-filled":"","email-filled":"","chatbubble-filled":"","chatboxes-filled":"",weibo:"",weixin:"",pengyouquan:"",chat:"",qq:"",videocam:"",camera:"",mic:"",location:"","mic-filled":"",speech:"","location-filled":"",micoff:"",image:"",map:"",compose:"",trash:"",upload:"",download:"",close:"",redo:"",undo:"",refresh:"",star:"",plus:"",minus:"",circle:"",checkbox:"","close-filled":"",clear:"","refresh-filled":"","star-filled":"","plus-filled":"","minus-filled":"","circle-filled":"","checkbox-filled":"",closeempty:"",refreshempty:"",reload:"",starhalf:"",spinner:"","spinner-cycle":"",search:"",plusempty:"",forward:"",back:"","left-nav":"",checkmarkempty:"",home:"",navigate:"",gear:"",paperplane:"",info:"",help:"",locked:"",more:"",flag:"","home-filled":"","gear-filled":"","info-filled":"","help-filled":"","more-filled":"",settings:"",list:"",bars:"",loop:"",paperclip:"",eye:"",arrowup:"",arrowdown:"",arrowleft:"",arrowright:"",arrowthinup:"",arrowthindown:"",arrowthinleft:"",arrowthinright:"",pulldown:"",closefill:"",sound:"",scan:""}},"93cb":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品评价"}},"940e":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{shopInfo:{},shopDesccredit:0,shopServicecredit:0,shopDeliverycredit:0,workingDay:""}},methods:{getShopInfo:function(){var e=this;this.$api.sendRequest({url:"/api/shop/info",data:{site_id:this.siteId},success:function(t){if(0==t.code){e.shopInfo=t.data,e.shopDesccredit=Math.floor(100*parseFloat(e.shopInfo.shop_desccredit)/5),e.shopServicecredit=Math.floor(100*parseFloat(e.shopInfo.shop_servicecredit)/5),e.shopDeliverycredit=Math.floor(100*parseFloat(e.shopInfo.shop_deliverycredit)/5);var i=e.shopInfo.work_week.split(",");7==i.length&&(e.workingDay="全天");for(var o=0;o<i.length;o++)1==i[o]&&(i[o]="星期一"),2==i[o]&&(i[o]="星期二"),3==i[o]&&(i[o]="星期三"),4==i[o]&&(i[o]="星期四"),5==i[o]&&(i[o]="星期五"),6==i[o]&&(i[o]="星期六"),7==i[o]&&(i[o]="星期天");e.workingDay=i.toString()}else e.$util.showToast({title:t.message});e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})}}};t.default=o},"948f":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={lunarInfo:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],solarMonth:[31,28,31,30,31,30,31,31,30,31,30,31],Gan:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],Zhi:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarTerm:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],sTermInfo:["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],nStr1:["日","一","二","三","四","五","六","七","八","九","十"],nStr2:["初","十","廿","卅"],nStr3:["正","二","三","四","五","六","七","八","九","十","冬","腊"],lYearDays:function(e){var t,i=348;for(t=32768;t>8;t>>=1)i+=this.lunarInfo[e-1900]&t?1:0;return i+this.leapDays(e)},leapMonth:function(e){return 15&this.lunarInfo[e-1900]},leapDays:function(e){return this.leapMonth(e)?65536&this.lunarInfo[e-1900]?30:29:0},monthDays:function(e,t){return t>12||t<1?-1:this.lunarInfo[e-1900]&65536>>t?30:29},solarDays:function(e,t){if(t>12||t<1)return-1;var i=t-1;return 1==i?e%4==0&&e%100!=0||e%400==0?29:28:this.solarMonth[i]},toGanZhiYear:function(e){var t=(e-3)%10,i=(e-3)%12;return 0==t&&(t=10),0==i&&(i=12),this.Gan[t-1]+this.Zhi[i-1]},toAstro:function(e,t){return"魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯".substr(2*e-(t<[20,19,21,21,21,22,23,23,23,23,22,22][e-1]?2:0),2)+"座"},toGanZhi:function(e){return this.Gan[e%10]+this.Zhi[e%12]},getTerm:function(e,t){if(e<1900||e>2100)return-1;if(t<1||t>24)return-1;var i=this.sTermInfo[e-1900],o=[parseInt("0x"+i.substr(0,5)).toString(),parseInt("0x"+i.substr(5,5)).toString(),parseInt("0x"+i.substr(10,5)).toString(),parseInt("0x"+i.substr(15,5)).toString(),parseInt("0x"+i.substr(20,5)).toString(),parseInt("0x"+i.substr(25,5)).toString()],r=[o[0].substr(0,1),o[0].substr(1,2),o[0].substr(3,1),o[0].substr(4,2),o[1].substr(0,1),o[1].substr(1,2),o[1].substr(3,1),o[1].substr(4,2),o[2].substr(0,1),o[2].substr(1,2),o[2].substr(3,1),o[2].substr(4,2),o[3].substr(0,1),o[3].substr(1,2),o[3].substr(3,1),o[3].substr(4,2),o[4].substr(0,1),o[4].substr(1,2),o[4].substr(3,1),o[4].substr(4,2),o[5].substr(0,1),o[5].substr(1,2),o[5].substr(3,1),o[5].substr(4,2)];return parseInt(r[t-1])},toChinaMonth:function(e){if(e>12||e<1)return-1;var t=this.nStr3[e-1];return t+="月",t},toChinaDay:function(e){var t;switch(e){case 10:t="初十";break;case 20:t="二十";break;case 30:t="三十";break;default:t=this.nStr2[Math.floor(e/10)],t+=this.nStr1[e%10]}return t},getAnimal:function(e){return this.Animals[(e-4)%12]},solar2lunar:function(e,t,i){if(e<1900||e>2100)return-1;if(1900==e&&1==t&&i<31)return-1;if(e)o=new Date(e,parseInt(t)-1,i);else var o=new Date;var r,s=0,a=(e=o.getFullYear(),t=o.getMonth()+1,i=o.getDate(),(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate())-Date.UTC(1900,0,31))/864e5);for(r=1900;r<2101&&a>0;r++)s=this.lYearDays(r),a-=s;a<0&&(a+=s,r--);var n=new Date,c=!1;n.getFullYear()==e&&n.getMonth()+1==t&&n.getDate()==i&&(c=!0);var d=o.getDay(),u=this.nStr1[d];0==d&&(d=7);var l=r,h=this.leapMonth(r),p=!1;for(r=1;r<13&&a>0;r++)h>0&&r==h+1&&0==p?(--r,p=!0,s=this.leapDays(l)):s=this.monthDays(l,r),1==p&&r==h+1&&(p=!1),a-=s;0==a&&h>0&&r==h+1&&(p?p=!1:(p=!0,--r)),a<0&&(a+=s,--r);var f=r,g=a+1,m=t-1,_=this.toGanZhiYear(l),v=this.getTerm(e,2*t-1),y=this.getTerm(e,2*t),D=this.toGanZhi(12*(e-1900)+t+11);i>=v&&(D=this.toGanZhi(12*(e-1900)+t+12));var S=!1,b=null;v==i&&(S=!0,b=this.solarTerm[2*t-2]),y==i&&(S=!0,b=this.solarTerm[2*t-1]);var C=Date.UTC(e,m,1,0,0,0,0)/864e5+25567+10,P=this.toGanZhi(C+i-1),w=this.toAstro(t,i);return{lYear:l,lMonth:f,lDay:g,Animal:this.getAnimal(l),IMonthCn:(p?"闰":"")+this.toChinaMonth(f),IDayCn:this.toChinaDay(g),cYear:e,cMonth:t,cDay:i,gzYear:_,gzMonth:D,gzDay:P,isToday:c,isLeap:p,nWeek:d,ncWeek:"星期"+u,isTerm:S,Term:b,astro:w}},lunar2solar:function(e,t,i,o){o=!!o;var r=this.leapMonth(e);this.leapDays(e);if(o&&r!=t)return-1;if(2100==e&&12==t&&i>1||1900==e&&1==t&&i<31)return-1;var s=this.monthDays(e,t),a=s;if(o&&(a=this.leapDays(e,t)),e<1900||e>2100||i>a)return-1;for(var n=0,c=1900;c<e;c++)n+=this.lYearDays(c);var d=0,u=!1;for(c=1;c<t;c++)d=this.leapMonth(e),u||d<=c&&d>0&&(n+=this.leapDays(e),u=!0),n+=this.monthDays(e,c);o&&(n+=s);var l=Date.UTC(1900,1,30,0,0,0),h=new Date(864e5*(n+i-31)+l),p=h.getUTCFullYear(),f=h.getUTCMonth()+1,g=h.getUTCDate();return this.solar2lunar(p,f,g)}},r=o;t.default=r},9500:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"礼品订单"}},9523:function(e,t,i){var o=i("a395");e.exports=function(e,t,i){return t=o(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},9584:function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("16e3")),c=(i("77ef"),{data:function(){return{bargain_id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:{},showKefu:0,goodsCircle:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.bargain_id=t.bargain_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("bargain_id")&&(i.bargain_id=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$langConfig.refresh(),t.$store.dispatch("getAddonIsexit").then(function(){var i=(0,a.default)(s.default.mark((function i(o){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o.bargain){i.next=5;break}t.$util.showToast({title:"砍价未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3),i.next=12;break;case 5:return e.getStorageSync("token")&&(t.getCartCount(),t.getMemberId()),t.canGoConnect(),t.getKekuConfig(),i.next=10,t.getGoodsSkuDetail();case 10:t.modifyGoodsInfo(),t.getEvaluateConfig();case 12:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})))()},methods:{canGoConnect:function(){var e=this;this.$api.sendRequest({url:"/api/addon/addonisexit",success:function(t){0==t.code&&t.data&&(e.showKefu=t.data.servicer)}})},goConnect:function(){if(e.getStorageSync("token")){var t={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id,type:"bargain",type_id:this.goodsSkuDetail.bargain_id};return this.$util.redirectTo("/otherpages/chat/room/room",t),!1}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var t=this;return(0,a.default)(s.default.mark((function i(){var o,r,a,c,d;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.sendRequest({url:"/bargain/api/goods/detail",async:!1,data:{bargain_id:t.bargain_id}});case 2:if(o=i.sent,r=o.data,null!=r.goods_sku_detail){if(t.goodsSkuDetail=r.goods_sku_detail,t.shopInfo=r.shop_info,t.goodsSkuDetail.stock=t.goodsSkuDetail.bargain_stock,t.skuId=t.goodsSkuDetail.sku_id,t.goodsSkuDetail.goods_service=[],1==t.shopInfo.shop_baozh&&t.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==t.shopInfo.shop_qtian&&t.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==t.shopInfo.shop_zhping&&t.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==t.shopInfo.shop_erxiaoshi&&t.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==t.shopInfo.shop_tuihuo&&t.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==t.shopInfo.shop_shiyong&&t.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==t.shopInfo.shop_shiti&&t.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==t.shopInfo.shop_xiaoxie&&t.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),t.goodsSkuDetail.end_time-o.timestamp>0?t.goodsSkuDetail.timeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-o.timestamp):(t.$util.showToast({title:"活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.goodsSkuDetail.video_url&&(t.switchMedia="video"),t.goodsSkuDetail.sku_images?t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","):t.goodsSkuDetail.sku_images=[],t.goodsSkuDetail.goods_spec_format&&t.goodsSkuDetail.goods_image&&(t.goodsSkuDetail.goods_image=t.goodsSkuDetail.goods_image.split(","),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.concat(t.goodsSkuDetail.goods_image)),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.show_price=t.goodsSkuDetail.floor_price,t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.show_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.show_price).toFixed(2):0,t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(t.goodsSkuDetail.goods_attr_format),t.goodsSkuDetail.goods_attr_format=t.$util.unique(a,"attr_id"),c=0;c<t.goodsSkuDetail.goods_attr_format.length;c++)for(d=0;d<a.length;d++)t.goodsSkuDetail.goods_attr_format[c].attr_id==a[d].attr_id&&t.goodsSkuDetail.goods_attr_format[c].attr_value_id!=a[d].attr_value_id&&(t.goodsSkuDetail.goods_attr_format[c].attr_value_name+="、"+a[d].attr_value_name);t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.$langConfig.title(t.goodsSkuDetail.goods_name),t.goodsSkuDetail.goods_content&&(t.goodsSkuDetail.goods_content=(0,n.default)(t.goodsSkuDetail.goods_content)),t.contactData={title:t.goodsSkuDetail.sku_name,path:"/promotionpages/bargain/detail/detail?bargain_id="+t.bargain_id,img:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})},e.getStorageSync("token")&&t.getWhetherCollection(),t.setWechatShare(),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.getService(),t.getGoodScircleConfig()}else t.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return i.stop()}}),i)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},bargain:function(){var t=this;e.getStorageSync("token")?this.goodsSkuDetail.sku_spec_format?this.$refs.goodsSku.show("bargain",(function(){})):this.$api.sendRequest({url:"/bargain/api/bargain/launch",data:{id:this.goodsSkuDetail.id},success:function(e){0==e.code?t.$util.redirectTo("/promotionpages/bargain/launch/launch",{id:e.data},"redirectTo"):t.$util.showToast({title:e.message})}}):this.$refs.login.open("/promotionpages/bargain/detail/detail?bargain_id="+this.bargain_id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/bargain/detail/detail?bargain_id="+this.bargain_id)},getCartCount:function(){var e=this;this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId,site_id:this.goodsSkuDetail.site_id},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(i){var o=i.width,r=parseFloat((740/o).toFixed(2));e.getStorageSync("token")?t.posterHeight=parseInt(1120/r):t.posterHeight=parseInt(1100/r)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={sku_id:this.skuId,id:this.goodsSkuDetail.id};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/bargain/api/goods/poster",data:{page:"/promotionpages/bargain/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImgError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",data:{site_id:this.goodsSkuDetail.site_id},success:function(t){0==t.code&&t.data&&(e.service=t.data)}})},setWechatShare:function(){},getGoodScircleConfig:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/config/info",success:function(t){0==t.code&&t.data.is_use&&e.goodsSyncToGoodsCircle()}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/bargain/detail/detail?bargain_id="+this.bargain_id;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data)}})},toEvaluateDetail:function(e){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:e})},navigate:function(e,t){this.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e)})},openVideo:function(e,t){this.$util.redirectTo("/otherpages/goods/preview-video",{video_url:e,video_img:t})},errorShopLogo:function(){this.shopInfo.avatar=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()}}});t.default=c}).call(this,i("543d")["default"],i("bc2e")["default"])},"96ff":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"账户列表",name:"姓名",accountType:"账号类型",mobilePhone:"手机号码",withdrawalAccount:"提现账号",bankInfo:"支行信息",newAddAccount:"新增账户",del:"删除",update:"修改",emptyText:"暂无账户信息"}},"970b":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},"982b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"订单详情"}},"9b42":function(e,t){e.exports=function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o,r,s,a,n=[],c=!0,d=!1;try{if(s=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;c=!1}else for(;!(c=(o=s.call(i)).done)&&(n.push(o.value),n.length!==t);c=!0);}catch(u){d=!0,r=u}finally{try{if(!c&&null!=i["return"]&&(a=i["return"](),Object(a)!==a))return}finally{if(d)throw r}}return n}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"9f12":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"推广海报"}},"9f34":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"退款",checkDetail:"查看详情",emptyTips:"暂无退款记录"}},a010:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"专题活动详情"}},a031:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"}},a0a2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",stock:"库存不足，剩余",num:"件",shopNum:"购买数量",price:"套餐价",saveThePrice:"为您节省",shopping:"立即购买",share:"分享",like:"关注",service:"服务"}},a20b:function(e,t,i){"use strict";var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(i("6547"));var r={data:function(){return{rule:[{}],hasSign:0,signDaysSeries:0,timestamp:"",time:"",MonthData:[],signList:[],back:"",redirect:"",successTip:{},startDate:null,endDate:null,isActive:"",signState:1,headimg:"",point:0,growth:0,signPoint:0,signGrowth:0,rewardRuleDay:[],cycle:0}},methods:{getSignPointData:function(){var e=this;this.$api.sendRequest({url:"/api/memberaccount/sum",data:{account_type:"point",from_type:"signin"},success:function(t){0==t.code&&(e.signPoint=t.data)}})},getSignGrowthData:function(){var e=this;this.$api.sendRequest({url:"/api/memberaccount/sum",data:{account_type:"growth",from_type:"signin"},success:function(t){0==t.code&&(e.signGrowth=t.data)}})},getSignState:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/getSignStatus",success:function(t){0==t.code&&(e.signState=t.data.is_use)}})},navigateBack:function(){""!=this.back?this.$util.redirectTo(this.back,{},this.redirect):this.$util.redirectTo("/pages/member/index/index",{},"reLaunch")},getRule:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/award",success:function(t){if(0==t.code)if(t.data){e.cycle=t.data.cycle,e.rule=t.data.reward,e.rule.length>1&&e.rule.forEach((function(t,i){i&&e.rewardRuleDay.push(parseInt(t.day))}));for(var i=[],o=1;o<=t.data.cycle;o++)i.push({day:o});e.showSignDays=i}else e.$util.showToast({title:"商家未开启签到",mask:!0})}})},getSignInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code&&(e.timestamp=t.timestamp,e.time=e.$util.timeStampTurnTime(e.timestamp).slice(0,10),e.headimg=t.data.headimg,e.signDaysSeries=t.data.sign_days_series,e.$refs.loadingCover.hide())}})},getIsSign:function(){var e=this;this.$api.sendRequest({url:"/api/membersignin/issign",success:function(t){0==t.code&&(e.hasSign=t.data,e.getSignInfo(),e.getSignPointData(),e.getSignGrowthData())}})},sign:function(){var e=this;0==this.signState&&this.$util.showToast({title:"签到未开启"}),this.hasSign||1!=this.signState||this.$api.sendRequest({url:"/api/membersignin/signin",success:function(t){0==t.code?(e.successTip=t.data,e.$refs.uniPopup.open(),e.getSignInfo(),e.getSignPointData(),e.getSignGrowthData(),e.hasSign=1,e.signDaysSeries=e.signDaysSeries+1):e.$util.showToast({title:t.message})}})},close:function(){this.$refs.uniPopup.close()}},computed:{pointTomorrow:function(){for(var e=this.signDaysSeries+1,t=this.rule[0].point?parseInt(this.rule[0].point):0,i=1;i<this.rule.length;i++){var o=this.rule[i];o.day==e&&o.point&&(t+=parseInt(o.point))}return t},showDay:function(){return 7*parseInt(this.signDaysSeries/7)+1}}};t.default=r},a217:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"收货地址",newAddAddress:"新增地址",getAddress:"一键获取地址",is_default:"默认",modify:"编辑",del:"删除"}},a24e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"核销记录",emptyTips:"暂无记录"}},a395:function(e,t,i){var o=i("7037")["default"],r=i("e50d");e.exports=function(e){var t=r(e,"string");return"symbol"===o(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a3d8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"帮助中心",emptyText:"当前暂无帮助信息"}},a406:function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("16e3")),c=(i("77ef"),{data:function(){return{topics_id:0,skuId:0,goodsSkuDetail:{goods_id:0,goods_service:[]},shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:null,showKefu:0,goodsCircle:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.topics_id=t.id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("id")&&(i.topics_id=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$langConfig.refresh(),t.$store.dispatch("getAddonIsexit").then(function(){var i=(0,a.default)(s.default.mark((function i(o){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o.topic){i.next=5;break}t.$util.showToast({title:"专题活动未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3),i.next=12;break;case 5:return e.getStorageSync("token")&&(t.getCartCount(),t.getMemberId()),t.canGoConnect(),t.getKekuConfig(),i.next=10,t.getGoodsSkuDetail();case 10:t.modifyGoodsInfo(),t.getEvaluateConfig();case 12:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})))()},methods:{canGoConnect:function(){var e=this;this.$api.sendRequest({url:"/api/addon/addonisexit",success:function(t){0==t.code&&t.data&&(e.showKefu=t.data.servicer)}})},goConnect:function(){if(e.getStorageSync("token")){var t={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id};return this.$util.redirectTo("/otherpages/chat/room/room",t),!1}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var t=this;return(0,a.default)(s.default.mark((function i(){var o,r,a,n,c;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.sendRequest({url:"/topic/api/topicgoods/detail",async:!1,data:{topic_id:t.topics_id}});case 2:if(o=i.sent,r=o.data,null!=r.goods_sku_detail){if(t.goodsSkuDetail=r.goods_sku_detail,t.shopInfo=r.shop_info,t.skuId=t.goodsSkuDetail.sku_id,t.goodsSkuDetail.goods_service=[],1==t.shopInfo.shop_baozh&&t.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==t.shopInfo.shop_qtian&&t.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==t.shopInfo.shop_zhping&&t.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==t.shopInfo.shop_erxiaoshi&&t.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==t.shopInfo.shop_tuihuo&&t.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==t.shopInfo.shop_shiyong&&t.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==t.shopInfo.shop_shiti&&t.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==t.shopInfo.shop_xiaoxie&&t.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),o.timestamp>t.goodsSkuDetail.end_time?(t.$util.showToast({title:"专题活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)):t.goodsSkuDetail.discountTimeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-o.timestamp),t.goodsSkuDetail.show_price=t.goodsSkuDetail.topic_price,t.goodsSkuDetail.video_url&&(t.switchMedia="video"),t.goodsSkuDetail.sku_images?t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","):t.goodsSkuDetail.sku_images=[],t.goodsSkuDetail.goods_spec_format&&t.goodsSkuDetail.goods_image&&(t.goodsSkuDetail.goods_image=t.goodsSkuDetail.goods_image.split(","),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.concat(t.goodsSkuDetail.goods_image)),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.show_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.show_price).toFixed(2):0,t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(t.goodsSkuDetail.goods_attr_format),t.goodsSkuDetail.goods_attr_format=t.$util.unique(a,"attr_id"),n=0;n<t.goodsSkuDetail.goods_attr_format.length;n++)for(c=0;c<a.length;c++)t.goodsSkuDetail.goods_attr_format[n].attr_id==a[c].attr_id&&t.goodsSkuDetail.goods_attr_format[n].attr_value_id!=a[c].attr_value_id&&(t.goodsSkuDetail.goods_attr_format[n].attr_value_name+="、"+a[c].attr_value_name);t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.$langConfig.title(t.goodsSkuDetail.goods_name),t.contactData={title:t.goodsSkuDetail.sku_name,path:"/promotionpages/topics/detail/detail?id="+t.topics_id,img:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})},e.getStorageSync("token")&&t.getWhetherCollection(),t.setWechatShare(),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.getGoodScircleConfig()}else t.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return i.stop()}}),i)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},topic:function(){e.getStorageSync("token")?this.$refs.goodsSku.show("topic",(function(){})):this.$refs.login.open("/promotionpages/topics/goods_detail/goods_detail?id="+this.topics_id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/topics/goods_detail/goods_detail?id="+this.topics_id)},getCartCount:function(){var e=this;this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId,site_id:this.goodsSkuDetail.site_id},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(i){var o=i.width,r=parseFloat((740/o).toFixed(2));e.getStorageSync("token")?t.posterHeight=parseInt(1240/r):t.posterHeight=parseInt(1100/r)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.topics_id};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/topic/api/topicgoods/poster",data:{page:"/promotionpages/topics/goods_detail/goods_detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImgError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",success:function(t){if(0==t.code&&t.data){t.data.content;t.data.content&&(e.service=(0,n.default)(t.data.content))}}})},setWechatShare:function(){},getGoodScircleConfig:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/config/info",success:function(t){0==t.code&&t.data.is_use&&e.goodsSyncToGoodsCircle()}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/topics/goods_detail/goods_detail?id="+this.topics_id;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data)}})},toEvaluateDetail:function(e){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:e})},navigate:function(e,t){this.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e)})},openVideo:function(e,t){this.$util.redirectTo("/otherpages/goods/preview-video",{video_url:e,video_img:t})},errorShopLogo:function(){this.shopInfo.avatar=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()}}});t.default=c}).call(this,i("543d")["default"],i("bc2e")["default"])},a55c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},a663:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{orderId:null,orderNo:"",memberName:"",memberNeadimg:"",isAnonymous:1,goodsList:[],goodsEvalList:[],imgList:[],isEvaluate:0,flag:!1,evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1},siteName:"",shop_deliverycredit:5,shop_desccredit:5,shop_servicecredit:5}},methods:{getUserInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code?(e.memberName=t.data.nickname,e.memberNeadimg=t.data.headimg):e.$util.showToast({title:t.message})}})},getOrderInfo:function(){var e=this,t={order_id:this.orderId};this.$api.sendRequest({url:"/api/order/evluateinfo",data:t,success:function(t){if(0==t.code)if(e.isEvaluate=t.data.evaluate_status,e.orderNo=t.data.list[0].order_no,e.goodsList=t.data.list,e.siteName=t.data.list[0].site_name,e.isEvaluate)for(var i=0;i<t.data.list.length;i++){e.imgList.push([]),e.goodsEvalList.push({order_goods_id:t.data.list[i].order_goods_id,goods_id:t.data.list[i].goods_id,sku_id:t.data.list[i].sku_id,again_content:"",again_images:"",site_id:t.data.list[i].site_id})}else for(var o=0;o<t.data.list.length;o++){e.imgList.push([]),e.goodsEvalList.push({content:"",images:"",scores:5,explain_type:1,order_goods_id:t.data.list[o].order_goods_id,goods_id:t.data.list[o].goods_id,sku_id:t.data.list[o].sku_id,sku_name:t.data.list[o].sku_name,sku_price:t.data.list[o].price,sku_image:t.data.list[o].sku_image,site_id:t.data.list[o].site_id})}else e.$util.showToast({title:"未获取到订单数据"}),setTimeout((function(){e.$util.redirectTo("/pages/order/list/list",{},"redirectTo")}),1e3);e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(){this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},setStar:function(e){this.goodsEvalList[e.index].scores=e.value,e.value>=4?this.goodsEvalList[e.index].explain_type=1:1<e.value&&e.value<4?this.goodsEvalList[e.index].explain_type=2:this.goodsEvalList[e.index].explain_type=3},isAll:function(){this.isAnonymous=this.isAnonymous?0:1},addImg:function(e){var t=this,i=this.imgList[e].length?this.imgList[e].length:0;this.$util.upload(6-i,{path:"evaluateimg"},(function(i){var o=t.imgList[e];o=o.concat(i),t.imgList[e]=[],t.$set(t.imgList,e,o),t.isEvaluate?t.goodsEvalList[e].again_images=t.imgList[e].toString():t.goodsEvalList[e].images=t.imgList[e].toString()}))},deleteImg:function(e,t){this.imgList[t].splice(e,1),this.isEvaluate?this.goodsEvalList[t].again_images=this.imgList[t].toString():this.goodsEvalList[t].images=this.imgList[t].toString()},preview:function(t,i){for(var o=this.imgList[i],r=0;r<o.length;r++)o[r]=this.$util.img(o[r]);e.previewImage({urls:o,current:t})},save:function(){var e=this;if(0!=this.evaluateConfig.evaluate_status){for(var t=0;t<this.goodsEvalList.length;t++)if(this.isEvaluate){if(!this.goodsEvalList[t].again_content.trim().length)return void this.$util.showToast({title:"商品的评价不能为空哦"})}else if(!this.goodsEvalList[t].content.trim().length)return void this.$util.showToast({title:"商品的评价不能为空哦"});var i=JSON.stringify(this.goodsEvalList),o={order_id:this.orderId,goods_evaluate:i};this.isEvaluate||(o.order_no=this.orderNo,o.member_name=this.memberName,o.member_headimg=this.memberNeadimg,o.is_anonymous=this.isAnonymous,o.shop_deliverycredit=this.shop_deliverycredit,o.shop_desccredit=this.shop_desccredit,o.shop_servicecredit=this.shop_servicecredit),this.flag||(this.flag=!0,this.$api.sendRequest({url:this.isEvaluate?"/api/goodsevaluate/again":"/api/goodsevaluate/add",data:o,success:function(t){0==t.code?(e.$util.showToast({title:"评价成功"}),setTimeout((function(){e.$util.redirectTo("/pages/order/list/list",{},"redirectTo")}),1e3)):(e.$util.showToast({title:t.message}),e.flag=!1)},fail:function(t){e.flag=!1}}))}else this.$util.showToast({title:"商家未开启商品评价功能"})},shopScore:function(e){this[e.index]=e.value},imgError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i}}})}}};t.default=i}).call(this,i("543d")["default"])},a767:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"店内商品"}},a93e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的余额",accountBalance:"账户余额 ",money:" (元)",recharge:"充值",withdrawal:"提现",balanceDetailed:"余额明细",emptyTips:"暂无余额记录",rechargeRecord:"充值记录",ableAccountBalance:"可提现余额 ",noAccountBalance:"不可提现余额 "}},aabe:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"专题活动列表"}},ace9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"账号注销"}},adb9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"核销台"}},ae33:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{mescroll:null,timeList:[],seckillId:null,seckillIndex:null,dataList:[],index:null,siteId:0,timer:null,noStartList:[],showEmpty:!1}},watch:{seckillId:function(e,t){e&&t&&e!=t&&this.mescroll.resetUpScroll(!1)}},computed:{show:function(){return this.timeList.length>0}},methods:{goodsImg:function(e){var t=e.split(",");return t[0]?this.$util.img(t[0],{size:"mid"}):this.$util.getDefaultImage().default_goods_img},transformSeckillTime:function(e){e=parseFloat(e);var t=parseInt(e/3600),i=parseInt(e%3600/60),o=parseInt(e%60);return t<10&&(t="0"+t),i<10&&(i="0"+i),o<10&&(o="0"+o),t+":"+i},isEnd:function(e){e&&this.$util.showToast({title:"限时秒杀活动已结束"})},getTimeList:function(){var e=this;this.$api.sendRequest({url:"/seckill/api/seckill/lists",data:{site_id:this.siteId},success:function(t){var i=t.data;if(i){var o=new Date(1e3*t.timestamp),r=60*o.getHours()*60+60*o.getMinutes()+o.getSeconds(),s=Object.values(i.list);if(s.forEach((function(t,i){t.seckill_start_time<=r&&r<t.seckill_end_time?(t.isNow=!0,e.seckillId=t.id,e.index=i,e.seckillIndex=i):t.isNow=!1})),e.timeList=i.list,s.length){for(var a=Math.round(new Date/1e3),n=Math.round(new Date((new Date).toLocaleDateString()).getTime()/1e3),c=a-n,d=0;d<i.list.length;d++)if((r<i.list[d].seckill_start_time&&0==d||r<i.list[d].seckill_start_time&&r>i.list[d-1].seckill_end_time&&0!=d||d==i.list.length-1&&r>i.list[d].seckill_end_time)&&(e.seckillId=i.list[d].id,e.index=d,e.seckillIndex=d),c<s[d].seckill_start_time){var u=s[d];u.index=d,e.noStartList.push(u)}e.noStartList.length&&e.autoEvent()}var l=e;setInterval((function(e){l.getExpirationTime()}),1e3),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}}})},getData:function(e){var t=this;this.mescroll=e,1==e.size&&(this.dataList=[]),this.$api.sendRequest({url:"/seckill/api/seckillgoods/page",data:{page_size:e.size,page:e.num,seckill_id:this.seckillId,site_id:this.siteId},success:function(i){t.showEmpty=!0;var o=[],r=i.message;0==i.code&&i.data?o=i.data.list:t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.dataList=[]),t.dataList=t.dataList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(){e.endErr(),this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})},getExpirationTime:function(){var e,t,i,o=this.timeList,r=new Date,s=r.toLocaleDateString();for(var a in o)if(o[a].isNow){this.ident=!0,t=Date.parse(r),e=Date.parse(s)+1e3*parseInt(o[a].seckill_end_time);var n=(e-t)/1e3;if(i=this.$util.countDown(n),this.hour=i.h,this.minute=i.i,this.second=i.s,0==n){var c=parseInt(a)+1;c<o.length&&(this.index=c),this.timeList[a].isNow=!1}return!1}this.ident=!1},ontabtap:function(e,t){this.seckillId=e,this.seckillIndex=t},toGoodsDetail:function(e,t){var i=this;this.seckillIndex<this.index?this.$util.showToast({title:"秒杀活动已结束！"}):this.seckillIndex>this.index?this.$util.showToast({title:"秒杀活动还未开启，敬请期待！"}):this.$api.sendRequest({url:"/api/config/time",data:{},success:function(o){var r=new Date(1e3*o.timestamp),s=60*r.getHours()*60+60*r.getMinutes()+r.getSeconds();i.timeList[t].seckill_start_time<=s&&s<i.timeList[t].seckill_end_time?i.timeList[t].isNow=!0:i.timeList[t].isNow=!1,i.$forceUpdate(),i.timeList[t].isNow?i.$util.redirectTo("/promotionpages/seckill/detail/detail",{seckill_id:e}):i.$util.showToast({title:"秒杀活动即将开启，敬请期待！"})}})},imgError:function(e){this.dataList[e].goods_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},autoEvent:function(){var e=this;this.timer=setInterval((function(){for(var t=Math.round(new Date/1e3),i=Math.round(new Date((new Date).toLocaleDateString()).getTime()/1e3),o=t-i,r=0;r<e.noStartList.length;r++){var s=e.noStartList[r];o>s.seckill_start_time&&!s.isNow&&(e.seckillId=s.seckill_id,e.index=s.index,e.timeList[s.index].isNow=!0,void 0!=e.timeList[s.index-1]&&(e.timeList[s.index-1].isNow=!1),e.noStartList.splice(r))}0==e.noStartList.length&&clearInterval(e.timer)}),1e3)},goodsTag:function(e){switch(e.recommend_way){case 1:return"新品";case 2:return"精品";case 3:return"推荐";default:return""}}},onShareAppMessage:function(e){return{title:"一大波的秒杀福利就要开始了，真的不来看看嘛",path:"/promotionpages/seckill/list/list",success:function(e){},fail:function(e){}}},onHide:function(){clearInterval(this.timer)}};t.default=o},afbc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"物流信息"}},b151:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={firstletter:"YDYQSXMWZSSXJBYMGCCZQPSSQBYCDSCDQLDYLYBSSJGYZZJJFKCCLZDHWDWZJLJPFYYNWJJTMYHZWZHFLZPPQHGSCYYYNJQYXXGJHHSDSJNKKTMOMLCRXYPSNQSECCQZGGLLYJLMYZZSECYKYYHQWJSSGGYXYZYJWWKDJHYCHMYXJTLXJYQBYXZLDWRDJRWYSRLDZJPCBZJJBRCFTLECZSTZFXXZHTRQHYBDLYCZSSYMMRFMYQZPWWJJYFCRWFDFZQPYDDWYXKYJAWJFFXYPSFTZYHHYZYSWCJYXSCLCXXWZZXNBGNNXBXLZSZSBSGPYSYZDHMDZBQBZCWDZZYYTZHBTSYYBZGNTNXQYWQSKBPHHLXGYBFMJEBJHHGQTJCYSXSTKZHLYCKGLYSMZXYALMELDCCXGZYRJXSDLTYZCQKCNNJWHJTZZCQLJSTSTBNXBTYXCEQXGKWJYFLZQLYHYXSPSFXLMPBYSXXXYDJCZYLLLSJXFHJXPJBTFFYABYXBHZZBJYZLWLCZGGBTSSMDTJZXPTHYQTGLJSCQFZKJZJQNLZWLSLHDZBWJNCJZYZSQQYCQYRZCJJWYBRTWPYFTWEXCSKDZCTBZHYZZYYJXZCFFZZMJYXXSDZZOTTBZLQWFCKSZSXFYRLNYJMBDTHJXSQQCCSBXYYTSYFBXDZTGBCNSLCYZZPSAZYZZSCJCSHZQYDXLBPJLLMQXTYDZXSQJTZPXLCGLQTZWJBHCTSYJSFXYEJJTLBGXSXJMYJQQPFZASYJNTYDJXKJCDJSZCBARTDCLYJQMWNQNCLLLKBYBZZSYHQQLTWLCCXTXLLZNTYLNEWYZYXCZXXGRKRMTCNDNJTSYYSSDQDGHSDBJGHRWRQLYBGLXHLGTGXBQJDZPYJSJYJCTMRNYMGRZJCZGJMZMGXMPRYXKJNYMSGMZJYMKMFXMLDTGFBHCJHKYLPFMDXLQJJSMTQGZSJLQDLDGJYCALCMZCSDJLLNXDJFFFFJCZFMZFFPFKHKGDPSXKTACJDHHZDDCRRCFQYJKQCCWJDXHWJLYLLZGCFCQDSMLZPBJJPLSBCJGGDCKKDEZSQCCKJGCGKDJTJDLZYCXKLQSCGJCLTFPCQCZGWPJDQYZJJBYJHSJDZWGFSJGZKQCCZLLPSPKJGQJHZZLJPLGJGJJTHJJYJZCZMLZLYQBGJWMLJKXZDZNJQSYZMLJLLJKYWXMKJLHSKJGBMCLYYMKXJQLBMLLKMDXXKWYXYSLMLPSJQQJQXYXFJTJDXMXXLLCXQBSYJBGWYMBGGBCYXPJYGPEPFGDJGBHBNSQJYZJKJKHXQFGQZKFHYGKHDKLLSDJQXPQYKYBNQSXQNSZSWHBSXWHXWBZZXDMNSJBSBKBBZKLYLXGWXDRWYQZMYWSJQLCJXXJXKJEQXSCYETLZHLYYYSDZPAQYZCMTLSHTZCFYZYXYLJXDCJQAGYSLCQLYYYSHMRQQKLDXZSCSSSYDYCJYSFSJBFRSSZQSBXXPXJYSDRCKGJLGDKZJZBDKTCSYQPYHSTCLDJDHMXMCGXYZHJDDTMHLTXZXYLYMOHYJCLTYFBQQXPFBDFHHTKSQHZYYWCNXXCRWHOWGYJLEGWDQCWGFJYCSNTMYTOLBYGWQWESJPWNMLRYDZSZTXYQPZGCWXHNGPYXSHMYQJXZTDPPBFYHZHTJYFDZWKGKZBLDNTSXHQEEGZZYLZMMZYJZGXZXKHKSTXNXXWYLYAPSTHXDWHZYMPXAGKYDXBHNHXKDPJNMYHYLPMGOCSLNZHKXXLPZZLBMLSFBHHGYGYYGGBHSCYAQTYWLXTZQCEZYDQDQMMHTKLLSZHLSJZWFYHQSWSCWLQAZYNYTLSXTHAZNKZZSZZLAXXZWWCTGQQTDDYZTCCHYQZFLXPSLZYGPZSZNGLNDQTBDLXGTCTAJDKYWNSYZLJHHZZCWNYYZYWMHYCHHYXHJKZWSXHZYXLYSKQYSPSLYZWMYPPKBYGLKZHTYXAXQSYSHXASMCHKDSCRSWJPWXSGZJLWWSCHSJHSQNHCSEGNDAQTBAALZZMSSTDQJCJKTSCJAXPLGGXHHGXXZCXPDMMHLDGTYBYSJMXHMRCPXXJZCKZXSHMLQXXTTHXWZFKHCCZDYTCJYXQHLXDHYPJQXYLSYYDZOZJNYXQEZYSQYAYXWYPDGXDDXSPPYZNDLTWRHXYDXZZJHTCXMCZLHPYYYYMHZLLHNXMYLLLMDCPPXHMXDKYCYRDLTXJCHHZZXZLCCLYLNZSHZJZZLNNRLWHYQSNJHXYNTTTKYJPYCHHYEGKCTTWLGQRLGGTGTYGYHPYHYLQYQGCWYQKPYYYTTTTLHYHLLTYTTSPLKYZXGZWGPYDSSZZDQXSKCQNMJJZZBXYQMJRTFFBTKHZKBXLJJKDXJTLBWFZPPTKQTZTGPDGNTPJYFALQMKGXBDCLZFHZCLLLLADPMXDJHLCCLGYHDZFGYDDGCYYFGYDXKSSEBDHYKDKDKHNAXXYBPBYYHXZQGAFFQYJXDMLJCSQZLLPCHBSXGJYNDYBYQSPZWJLZKSDDTACTBXZDYZYPJZQSJNKKTKNJDJGYYPGTLFYQKASDNTCYHBLWDZHBBYDWJRYGKZYHEYYFJMSDTYFZJJHGCXPLXHLDWXXJKYTCYKSSSMTWCTTQZLPBSZDZWZXGZAGYKTYWXLHLSPBCLLOQMMZSSLCMBJCSZZKYDCZJGQQDSMCYTZQQLWZQZXSSFPTTFQMDDZDSHDTDWFHTDYZJYQJQKYPBDJYYXTLJHDRQXXXHAYDHRJLKLYTWHLLRLLRCXYLBWSRSZZSYMKZZHHKYHXKSMDSYDYCJPBZBSQLFCXXXNXKXWYWSDZYQOGGQMMYHCDZTTFJYYBGSTTTYBYKJDHKYXBELHTYPJQNFXFDYKZHQKZBYJTZBXHFDXKDASWTAWAJLDYJSFHBLDNNTNQJTJNCHXFJSRFWHZFMDRYJYJWZPDJKZYJYMPCYZNYNXFBYTFYFWYGDBNZZZDNYTXZEMMQBSQEHXFZMBMFLZZSRXYMJGSXWZJSPRYDJSJGXHJJGLJJYNZZJXHGXKYMLPYYYCXYTWQZSWHWLYRJLPXSLSXMFSWWKLCTNXNYNPSJSZHDZEPTXMYYWXYYSYWLXJQZQXZDCLEEELMCPJPCLWBXSQHFWWTFFJTNQJHJQDXHWLBYZNFJLALKYYJLDXHHYCSTYYWNRJYXYWTRMDRQHWQCMFJDYZMHMYYXJWMYZQZXTLMRSPWWCHAQBXYGZYPXYYRRCLMPYMGKSJSZYSRMYJSNXTPLNBAPPYPYLXYYZKYNLDZYJZCZNNLMZHHARQMPGWQTZMXXMLLHGDZXYHXKYXYCJMFFYYHJFSBSSQLXXNDYCANNMTCJCYPRRNYTYQNYYMBMSXNDLYLYSLJRLXYSXQMLLYZLZJJJKYZZCSFBZXXMSTBJGNXYZHLXNMCWSCYZYFZLXBRNNNYLBNRTGZQYSATSWRYHYJZMZDHZGZDWYBSSCSKXSYHYTXXGCQGXZZSHYXJSCRHMKKBXCZJYJYMKQHZJFNBHMQHYSNJNZYBKNQMCLGQHWLZNZSWXKHLJHYYBQLBFCDSXDLDSPFZPSKJYZWZXZDDXJSMMEGJSCSSMGCLXXKYYYLNYPWWWGYDKZJGGGZGGSYCKNJWNJPCXBJJTQTJWDSSPJXZXNZXUMELPXFSXTLLXCLJXJJLJZXCTPSWXLYDHLYQRWHSYCSQYYBYAYWJJJQFWQCQQCJQGXALDBZZYJGKGXPLTZYFXJLTPADKYQHPMATLCPDCKBMTXYBHKLENXDLEEGQDYMSAWHZMLJTWYGXLYQZLJEEYYBQQFFNLYXRDSCTGJGXYYNKLLYQKCCTLHJLQMKKZGCYYGLLLJDZGYDHZWXPYSJBZKDZGYZZHYWYFQYTYZSZYEZZLYMHJJHTSMQWYZLKYYWZCSRKQYTLTDXWCTYJKLWSQZWBDCQYNCJSRSZJLKCDCDTLZZZACQQZZDDXYPLXZBQJYLZLLLQDDZQJYJYJZYXNYYYNYJXKXDAZWYRDLJYYYRJLXLLDYXJCYWYWNQCCLDDNYYYNYCKCZHXXCCLGZQJGKWPPCQQJYSBZZXYJSQPXJPZBSBDSFNSFPZXHDWZTDWPPTFLZZBZDMYYPQJRSDZSQZSQXBDGCPZSWDWCSQZGMDHZXMWWFYBPDGPHTMJTHZSMMBGZMBZJCFZWFZBBZMQCFMBDMCJXLGPNJBBXGYHYYJGPTZGZMQBQTCGYXJXLWZKYDPDYMGCFTPFXYZTZXDZXTGKMTYBBCLBJASKYTSSQYYMSZXFJEWLXLLSZBQJJJAKLYLXLYCCTSXMCWFKKKBSXLLLLJYXTYLTJYYTDPJHNHNNKBYQNFQYYZBYYESSESSGDYHFHWTCJBSDZZTFDMXHCNJZYMQWSRYJDZJQPDQBBSTJGGFBKJBXTGQHNGWJXJGDLLTHZHHYYYYYYSXWTYYYCCBDBPYPZYCCZYJPZYWCBDLFWZCWJDXXHYHLHWZZXJTCZLCDPXUJCZZZLYXJJTXPHFXWPYWXZPTDZZBDZCYHJHMLXBQXSBYLRDTGJRRCTTTHYTCZWMXFYTWWZCWJWXJYWCSKYBZSCCTZQNHXNWXXKHKFHTSWOCCJYBCMPZZYKBNNZPBZHHZDLSYDDYTYFJPXYNGFXBYQXCBHXCPSXTYZDMKYSNXSXLHKMZXLYHDHKWHXXSSKQYHHCJYXGLHZXCSNHEKDTGZXQYPKDHEXTYKCNYMYYYPKQYYYKXZLTHJQTBYQHXBMYHSQCKWWYLLHCYYLNNEQXQWMCFBDCCMLJGGXDQKTLXKGNQCDGZJWYJJLYHHQTTTNWCHMXCXWHWSZJYDJCCDBQCDGDNYXZTHCQRXCBHZTQCBXWGQWYYBXHMBYMYQTYEXMQKYAQYRGYZSLFYKKQHYSSQYSHJGJCNXKZYCXSBXYXHYYLSTYCXQTHYSMGSCPMMGCCCCCMTZTASMGQZJHKLOSQYLSWTMXSYQKDZLJQQYPLSYCZTCQQPBBQJZCLPKHQZYYXXDTDDTSJCXFFLLCHQXMJLWCJCXTSPYCXNDTJSHJWXDQQJSKXYAMYLSJHMLALYKXCYYDMNMDQMXMCZNNCYBZKKYFLMCHCMLHXRCJJHSYLNMTJZGZGYWJXSRXCWJGJQHQZDQJDCJJZKJKGDZQGJJYJYLXZXXCDQHHHEYTMHLFSBDJSYYSHFYSTCZQLPBDRFRZTZYKYWHSZYQKWDQZRKMSYNBCRXQBJYFAZPZZEDZCJYWBCJWHYJBQSZYWRYSZPTDKZPFPBNZTKLQYHBBZPNPPTYZZYBQNYDCPJMMCYCQMCYFZZDCMNLFPBPLNGQJTBTTNJZPZBBZNJKLJQYLNBZQHKSJZNGGQSZZKYXSHPZSNBCGZKDDZQANZHJKDRTLZLSWJLJZLYWTJNDJZJHXYAYNCBGTZCSSQMNJPJYTYSWXZFKWJQTKHTZPLBHSNJZSYZBWZZZZLSYLSBJHDWWQPSLMMFBJDWAQYZTCJTBNNWZXQXCDSLQGDSDPDZHJTQQPSWLYYJZLGYXYZLCTCBJTKTYCZJTQKBSJLGMGZDMCSGPYNJZYQYYKNXRPWSZXMTNCSZZYXYBYHYZAXYWQCJTLLCKJJTJHGDXDXYQYZZBYWDLWQCGLZGJGQRQZCZSSBCRPCSKYDZNXJSQGXSSJMYDNSTZTPBDLTKZWXQWQTZEXNQCZGWEZKSSBYBRTSSSLCCGBPSZQSZLCCGLLLZXHZQTHCZMQGYZQZNMCOCSZJMMZSQPJYGQLJYJPPLDXRGZYXCCSXHSHGTZNLZWZKJCXTCFCJXLBMQBCZZWPQDNHXLJCTHYZLGYLNLSZZPCXDSCQQHJQKSXZPBAJYEMSMJTZDXLCJYRYYNWJBNGZZTMJXLTBSLYRZPYLSSCNXPHLLHYLLQQZQLXYMRSYCXZLMMCZLTZSDWTJJLLNZGGQXPFSKYGYGHBFZPDKMWGHCXMSGDXJMCJZDYCABXJDLNBCDQYGSKYDQTXDJJYXMSZQAZDZFSLQXYJSJZYLBTXXWXQQZBJZUFBBLYLWDSLJHXJYZJWTDJCZFQZQZZDZSXZZQLZCDZFJHYSPYMPQZMLPPLFFXJJNZZYLSJEYQZFPFZKSYWJJJHRDJZZXTXXGLGHYDXCSKYSWMMZCWYBAZBJKSHFHJCXMHFQHYXXYZFTSJYZFXYXPZLCHMZMBXHZZSXYFYMNCWDABAZLXKTCSHHXKXJJZJSTHYGXSXYYHHHJWXKZXSSBZZWHHHCWTZZZPJXSNXQQJGZYZYWLLCWXZFXXYXYHXMKYYSWSQMNLNAYCYSPMJKHWCQHYLAJJMZXHMMCNZHBHXCLXTJPLTXYJHDYYLTTXFSZHYXXSJBJYAYRSMXYPLCKDUYHLXRLNLLSTYZYYQYGYHHSCCSMZCTZQXKYQFPYYRPFFLKQUNTSZLLZMWWTCQQYZWTLLMLMPWMBZSSTZRBPDDTLQJJBXZCSRZQQYGWCSXFWZLXCCRSZDZMCYGGDZQSGTJSWLJMYMMZYHFBJDGYXCCPSHXNZCSBSJYJGJMPPWAFFYFNXHYZXZYLREMZGZCYZSSZDLLJCSQFNXZKPTXZGXJJGFMYYYSNBTYLBNLHPFZDCYFBMGQRRSSSZXYSGTZRNYDZZCDGPJAFJFZKNZBLCZSZPSGCYCJSZLMLRSZBZZLDLSLLYSXSQZQLYXZLSKKBRXBRBZCYCXZZZEEYFGKLZLYYHGZSGZLFJHGTGWKRAAJYZKZQTSSHJJXDCYZUYJLZYRZDQQHGJZXSSZBYKJPBFRTJXLLFQWJHYLQTYMBLPZDXTZYGBDHZZRBGXHWNJTJXLKSCFSMWLSDQYSJTXKZSCFWJLBXFTZLLJZLLQBLSQMQQCGCZFPBPHZCZJLPYYGGDTGWDCFCZQYYYQYSSCLXZSKLZZZGFFCQNWGLHQYZJJCZLQZZYJPJZZBPDCCMHJGXDQDGDLZQMFGPSYTSDYFWWDJZJYSXYYCZCYHZWPBYKXRYLYBHKJKSFXTZJMMCKHLLTNYYMSYXYZPYJQYCSYCWMTJJKQYRHLLQXPSGTLYYCLJSCPXJYZFNMLRGJJTYZBXYZMSJYJHHFZQMSYXRSZCWTLRTQZSSTKXGQKGSPTGCZNJSJCQCXHMXGGZTQYDJKZDLBZSXJLHYQGGGTHQSZPYHJHHGYYGKGGCWJZZYLCZLXQSFTGZSLLLMLJSKCTBLLZZSZMMNYTPZSXQHJCJYQXYZXZQZCPSHKZZYSXCDFGMWQRLLQXRFZTLYSTCTMJCXJJXHJNXTNRZTZFQYHQGLLGCXSZSJDJLJCYDSJTLNYXHSZXCGJZYQPYLFHDJSBPCCZHJJJQZJQDYBSSLLCMYTTMQTBHJQNNYGKYRQYQMZGCJKPDCGMYZHQLLSLLCLMHOLZGDYYFZSLJCQZLYLZQJESHNYLLJXGJXLYSYYYXNBZLJSSZCQQCJYLLZLTJYLLZLLBNYLGQCHXYYXOXCXQKYJXXXYKLXSXXYQXCYKQXQCSGYXXYQXYGYTQOHXHXPYXXXULCYEYCHZZCBWQBBWJQZSCSZSSLZYLKDESJZWMYMCYTSDSXXSCJPQQSQYLYYZYCMDJDZYWCBTJSYDJKCYDDJLBDJJSODZYSYXQQYXDHHGQQYQHDYXWGMMMAJDYBBBPPBCMUUPLJZSMTXERXJMHQNUTPJDCBSSMSSSTKJTSSMMTRCPLZSZMLQDSDMJMQPNQDXCFYNBFSDQXYXHYAYKQYDDLQYYYSSZBYDSLNTFQTZQPZMCHDHCZCWFDXTMYQSPHQYYXSRGJCWTJTZZQMGWJJTJHTQJBBHWZPXXHYQFXXQYWYYHYSCDYDHHQMNMTMWCPBSZPPZZGLMZFOLLCFWHMMSJZTTDHZZYFFYTZZGZYSKYJXQYJZQBHMBZZLYGHGFMSHPZFZSNCLPBQSNJXZSLXXFPMTYJYGBXLLDLXPZJYZJYHHZCYWHJYLSJEXFSZZYWXKZJLUYDTMLYMQJPWXYHXSKTQJEZRPXXZHHMHWQPWQLYJJQJJZSZCPHJLCHHNXJLQWZJHBMZYXBDHHYPZLHLHLGFWLCHYYTLHJXCJMSCPXSTKPNHQXSRTYXXTESYJCTLSSLSTDLLLWWYHDHRJZSFGXTSYCZYNYHTDHWJSLHTZDQDJZXXQHGYLTZPHCSQFCLNJTCLZPFSTPDYNYLGMJLLYCQHYSSHCHYLHQYQTMZYPBYWRFQYKQSYSLZDQJMPXYYSSRHZJNYWTQDFZBWWTWWRXCWHGYHXMKMYYYQMSMZHNGCEPMLQQMTCWCTMMPXJPJJHFXYYZSXZHTYBMSTSYJTTQQQYYLHYNPYQZLCYZHZWSMYLKFJXLWGXYPJYTYSYXYMZCKTTWLKSMZSYLMPWLZWXWQZSSAQSYXYRHSSNTSRAPXCPWCMGDXHXZDZYFJHGZTTSBJHGYZSZYSMYCLLLXBTYXHBBZJKSSDMALXHYCFYGMQYPJYCQXJLLLJGSLZGQLYCJCCZOTYXMTMTTLLWTGPXYMZMKLPSZZZXHKQYSXCTYJZYHXSHYXZKXLZWPSQPYHJWPJPWXQQYLXSDHMRSLZZYZWTTCYXYSZZSHBSCCSTPLWSSCJCHNLCGCHSSPHYLHFHHXJSXYLLNYLSZDHZXYLSXLWZYKCLDYAXZCMDDYSPJTQJZLNWQPSSSWCTSTSZLBLNXSMNYYMJQBQHRZWTYYDCHQLXKPZWBGQYBKFCMZWPZLLYYLSZYDWHXPSBCMLJBSCGBHXLQHYRLJXYSWXWXZSLDFHLSLYNJLZYFLYJYCDRJLFSYZFSLLCQYQFGJYHYXZLYLMSTDJCYHBZLLNWLXXYGYYHSMGDHXXHHLZZJZXCZZZCYQZFNGWPYLCPKPYYPMCLQKDGXZGGWQBDXZZKZFBXXLZXJTPJPTTBYTSZZDWSLCHZHSLTYXHQLHYXXXYYZYSWTXZKHLXZXZPYHGCHKCFSYHUTJRLXFJXPTZTWHPLYXFCRHXSHXKYXXYHZQDXQWULHYHMJTBFLKHTXCWHJFWJCFPQRYQXCYYYQYGRPYWSGSUNGWCHKZDXYFLXXHJJBYZWTSXXNCYJJYMSWZJQRMHXZWFQSYLZJZGBHYNSLBGTTCSYBYXXWXYHXYYXNSQYXMQYWRGYQLXBBZLJSYLPSYTJZYHYZAWLRORJMKSCZJXXXYXCHDYXRYXXJDTSQFXLYLTSFFYXLMTYJMJUYYYXLTZCSXQZQHZXLYYXZHDNBRXXXJCTYHLBRLMBRLLAXKYLLLJLYXXLYCRYLCJTGJCMTLZLLCYZZPZPCYAWHJJFYBDYYZSMPCKZDQYQPBPCJPDCYZMDPBCYYDYCNNPLMTMLRMFMMGWYZBSJGYGSMZQQQZTXMKQWGXLLPJGZBQCDJJJFPKJKCXBLJMSWMDTQJXLDLPPBXCWRCQFBFQJCZAHZGMYKPHYYHZYKNDKZMBPJYXPXYHLFPNYYGXJDBKXNXHJMZJXSTRSTLDXSKZYSYBZXJLXYSLBZYSLHXJPFXPQNBYLLJQKYGZMCYZZYMCCSLCLHZFWFWYXZMWSXTYNXJHPYYMCYSPMHYSMYDYSHQYZCHMJJMZCAAGCFJBBHPLYZYLXXSDJGXDHKXXTXXNBHRMLYJSLTXMRHNLXQJXYZLLYSWQGDLBJHDCGJYQYCMHWFMJYBMBYJYJWYMDPWHXQLDYGPDFXXBCGJSPCKRSSYZJMSLBZZJFLJJJLGXZGYXYXLSZQYXBEXYXHGCXBPLDYHWETTWWCJMBTXCHXYQXLLXFLYXLLJLSSFWDPZSMYJCLMWYTCZPCHQEKCQBWLCQYDPLQPPQZQFJQDJHYMMCXTXDRMJWRHXCJZYLQXDYYNHYYHRSLSRSYWWZJYMTLTLLGTQCJZYABTCKZCJYCCQLJZQXALMZYHYWLWDXZXQDLLQSHGPJFJLJHJABCQZDJGTKHSSTCYJLPSWZLXZXRWGLDLZRLZXTGSLLLLZLYXXWGDZYGBDPHZPBRLWSXQBPFDWOFMWHLYPCBJCCLDMBZPBZZLCYQXLDOMZBLZWPDWYYGDSTTHCSQSCCRSSSYSLFYBFNTYJSZDFNDPDHDZZMBBLSLCMYFFGTJJQWFTMTPJWFNLBZCMMJTGBDZLQLPYFHYYMJYLSDCHDZJWJCCTLJCLDTLJJCPDDSQDSSZYBNDBJLGGJZXSXNLYCYBJXQYCBYLZCFZPPGKCXZDZFZTJJFJSJXZBNZYJQTTYJYHTYCZHYMDJXTTMPXSPLZCDWSLSHXYPZGTFMLCJTYCBPMGDKWYCYZCDSZZYHFLYCTYGWHKJYYLSJCXGYWJCBLLCSNDDBTZBSCLYZCZZSSQDLLMQYYHFSLQLLXFTYHABXGWNYWYYPLLSDLDLLBJCYXJZMLHLJDXYYQYTDLLLBUGBFDFBBQJZZMDPJHGCLGMJJPGAEHHBWCQXAXHHHZCHXYPHJAXHLPHJPGPZJQCQZGJJZZUZDMQYYBZZPHYHYBWHAZYJHYKFGDPFQSDLZMLJXKXGALXZDAGLMDGXMWZQYXXDXXPFDMMSSYMPFMDMMKXKSYZYSHDZKXSYSMMZZZMSYDNZZCZXFPLSTMZDNMXCKJMZTYYMZMZZMSXHHDCZJEMXXKLJSTLWLSQLYJZLLZJSSDPPMHNLZJCZYHMXXHGZCJMDHXTKGRMXFWMCGMWKDTKSXQMMMFZZYDKMSCLCMPCGMHSPXQPZDSSLCXKYXTWLWJYAHZJGZQMCSNXYYMMPMLKJXMHLMLQMXCTKZMJQYSZJSYSZHSYJZJCDAJZYBSDQJZGWZQQXFKDMSDJLFWEHKZQKJPEYPZYSZCDWYJFFMZZYLTTDZZEFMZLBNPPLPLPEPSZALLTYLKCKQZKGENQLWAGYXYDPXLHSXQQWQCQXQCLHYXXMLYCCWLYMQYSKGCHLCJNSZKPYZKCQZQLJPDMDZHLASXLBYDWQLWDNBQCRYDDZTJYBKBWSZDXDTNPJDTCTQDFXQQMGNXECLTTBKPWSLCTYQLPWYZZKLPYGZCQQPLLKCCYLPQMZCZQCLJSLQZDJXLDDHPZQDLJJXZQDXYZQKZLJCYQDYJPPYPQYKJYRMPCBYMCXKLLZLLFQPYLLLMBSGLCYSSLRSYSQTMXYXZQZFDZUYSYZTFFMZZSMZQHZSSCCMLYXWTPZGXZJGZGSJSGKDDHTQGGZLLBJDZLCBCHYXYZHZFYWXYZYMSDBZZYJGTSMTFXQYXQSTDGSLNXDLRYZZLRYYLXQHTXSRTZNGZXBNQQZFMYKMZJBZYMKBPNLYZPBLMCNQYZZZSJZHJCTZKHYZZJRDYZHNPXGLFZTLKGJTCTSSYLLGZRZBBQZZKLPKLCZYSSUYXBJFPNJZZXCDWXZYJXZZDJJKGGRSRJKMSMZJLSJYWQSKYHQJSXPJZZZLSNSHRNYPZTWCHKLPSRZLZXYJQXQKYSJYCZTLQZYBBYBWZPQDWWYZCYTJCJXCKCWDKKZXSGKDZXWWYYJQYYTCYTDLLXWKCZKKLCCLZCQQDZLQLCSFQCHQHSFSMQZZLNBJJZBSJHTSZDYSJQJPDLZCDCWJKJZZLPYCGMZWDJJBSJQZSYZYHHXJPBJYDSSXDZNCGLQMBTSFSBPDZDLZNFGFJGFSMPXJQLMBLGQCYYXBQKDJJQYRFKZTJDHCZKLBSDZCFJTPLLJGXHYXZCSSZZXSTJYGKGCKGYOQXJPLZPBPGTGYJZGHZQZZLBJLSQFZGKQQJZGYCZBZQTLDXRJXBSXXPZXHYZYCLWDXJJHXMFDZPFZHQHQMQGKSLYHTYCGFRZGNQXCLPDLBZCSCZQLLJBLHBZCYPZZPPDYMZZSGYHCKCPZJGSLJLNSCDSLDLXBMSTLDDFJMKDJDHZLZXLSZQPQPGJLLYBDSZGQLBZLSLKYYHZTTNTJYQTZZPSZQZTLLJTYYLLQLLQYZQLBDZLSLYYZYMDFSZSNHLXZNCZQZPBWSKRFBSYZMTHBLGJPMCZZLSTLXSHTCSYZLZBLFEQHLXFLCJLYLJQCBZLZJHHSSTBRMHXZHJZCLXFNBGXGTQJCZTMSFZKJMSSNXLJKBHSJXNTNLZDNTLMSJXGZJYJCZXYJYJWRWWQNZTNFJSZPZSHZJFYRDJSFSZJZBJFZQZZHZLXFYSBZQLZSGYFTZDCSZXZJBQMSZKJRHYJZCKMJKHCHGTXKXQGLXPXFXTRTYLXJXHDTSJXHJZJXZWZLCQSBTXWXGXTXXHXFTSDKFJHZYJFJXRZSDLLLTQSQQZQWZXSYQTWGWBZCGZLLYZBCLMQQTZHZXZXLJFRMYZFLXYSQXXJKXRMQDZDMMYYBSQBHGZMWFWXGMXLZPYYTGZYCCDXYZXYWGSYJYZNBHPZJSQSYXSXRTFYZGRHZTXSZZTHCBFCLSYXZLZQMZLMPLMXZJXSFLBYZMYQHXJSXRXSQZZZSSLYFRCZJRCRXHHZXQYDYHXSJJHZCXZBTYNSYSXJBQLPXZQPYMLXZKYXLXCJLCYSXXZZLXDLLLJJYHZXGYJWKJRWYHCPSGNRZLFZWFZZNSXGXFLZSXZZZBFCSYJDBRJKRDHHGXJLJJTGXJXXSTJTJXLYXQFCSGSWMSBCTLQZZWLZZKXJMLTMJYHSDDBXGZHDLBMYJFRZFSGCLYJBPMLYSMSXLSZJQQHJZFXGFQFQBPXZGYYQXGZTCQWYLTLGWSGWHRLFSFGZJMGMGBGTJFSYZZGZYZAFLSSPMLPFLCWBJZCLJJMZLPJJLYMQDMYYYFBGYGYZMLYZDXQYXRQQQHSYYYQXYLJTYXFSFSLLGNQCYHYCWFHCCCFXPYLYPLLZYXXXXXKQHHXSHJZCFZSCZJXCPZWHHHHHAPYLQALPQAFYHXDYLUKMZQGGGDDESRNNZLTZGCHYPPYSQJJHCLLJTOLNJPZLJLHYMHEYDYDSQYCDDHGZUNDZCLZYZLLZNTNYZGSLHSLPJJBDGWXPCDUTJCKLKCLWKLLCASSTKZZDNQNTTLYYZSSYSSZZRYLJQKCQDHHCRXRZYDGRGCWCGZQFFFPPJFZYNAKRGYWYQPQXXFKJTSZZXSWZDDFBBXTBGTZKZNPZZPZXZPJSZBMQHKCYXYLDKLJNYPKYGHGDZJXXEAHPNZKZTZCMXCXMMJXNKSZQNMNLWBWWXJKYHCPSTMCSQTZJYXTPCTPDTNNPGLLLZSJLSPBLPLQHDTNJNLYYRSZFFJFQWDPHZDWMRZCCLODAXNSSNYZRESTYJWJYJDBCFXNMWTTBYLWSTSZGYBLJPXGLBOCLHPCBJLTMXZLJYLZXCLTPNCLCKXTPZJSWCYXSFYSZDKNTLBYJCYJLLSTGQCBXRYZXBXKLYLHZLQZLNZCXWJZLJZJNCJHXMNZZGJZZXTZJXYCYYCXXJYYXJJXSSSJSTSSTTPPGQTCSXWZDCSYFPTFBFHFBBLZJCLZZDBXGCXLQPXKFZFLSYLTUWBMQJHSZBMDDBCYSCCLDXYCDDQLYJJWMQLLCSGLJJSYFPYYCCYLTJANTJJPWYCMMGQYYSXDXQMZHSZXPFTWWZQSWQRFKJLZJQQYFBRXJHHFWJJZYQAZMYFRHCYYBYQWLPEXCCZSTYRLTTDMQLYKMBBGMYYJPRKZNPBSXYXBHYZDJDNGHPMFSGMWFZMFQMMBCMZZCJJLCNUXYQLMLRYGQZCYXZLWJGCJCGGMCJNFYZZJHYCPRRCMTZQZXHFQGTJXCCJEAQCRJYHPLQLSZDJRBCQHQDYRHYLYXJSYMHZYDWLDFRYHBPYDTSSCNWBXGLPZMLZZTQSSCPJMXXYCSJYTYCGHYCJWYRXXLFEMWJNMKLLSWTXHYYYNCMMCWJDQDJZGLLJWJRKHPZGGFLCCSCZMCBLTBHBQJXQDSPDJZZGKGLFQYWBZYZJLTSTDHQHCTCBCHFLQMPWDSHYYTQWCNZZJTLBYMBPDYYYXSQKXWYYFLXXNCWCXYPMAELYKKJMZZZBRXYYQJFLJPFHHHYTZZXSGQQMHSPGDZQWBWPJHZJDYSCQWZKTXXSQLZYYMYSDZGRXCKKUJLWPYSYSCSYZLRMLQSYLJXBCXTLWDQZPCYCYKPPPNSXFYZJJRCEMHSZMSXLXGLRWGCSTLRSXBZGBZGZTCPLUJLSLYLYMTXMTZPALZXPXJTJWTCYYZLBLXBZLQMYLXPGHDSLSSDMXMBDZZSXWHAMLCZCPJMCNHJYSNSYGCHSKQMZZQDLLKABLWJXSFMOCDXJRRLYQZKJMYBYQLYHETFJZFRFKSRYXFJTWDSXXSYSQJYSLYXWJHSNLXYYXHBHAWHHJZXWMYLJCSSLKYDZTXBZSYFDXGXZJKHSXXYBSSXDPYNZWRPTQZCZENYGCXQFJYKJBZMLJCMQQXUOXSLYXXLYLLJDZBTYMHPFSTTQQWLHOKYBLZZALZXQLHZWRRQHLSTMYPYXJJXMQSJFNBXYXYJXXYQYLTHYLQYFMLKLJTMLLHSZWKZHLJMLHLJKLJSTLQXYLMBHHLNLZXQJHXCFXXLHYHJJGBYZZKBXSCQDJQDSUJZYYHZHHMGSXCSYMXFEBCQWWRBPYYJQTYZCYQYQQZYHMWFFHGZFRJFCDPXNTQYZPDYKHJLFRZXPPXZDBBGZQSTLGDGYLCQMLCHHMFYWLZYXKJLYPQHSYWMQQGQZMLZJNSQXJQSYJYCBEHSXFSZPXZWFLLBCYYJDYTDTHWZSFJMQQYJLMQXXLLDTTKHHYBFPWTYYSQQWNQWLGWDEBZWCMYGCULKJXTMXMYJSXHYBRWFYMWFRXYQMXYSZTZZTFYKMLDHQDXWYYNLCRYJBLPSXCXYWLSPRRJWXHQYPHTYDNXHHMMYWYTZCSQMTSSCCDALWZTCPQPYJLLQZYJSWXMZZMMYLMXCLMXCZMXMZSQTZPPQQBLPGXQZHFLJJHYTJSRXWZXSCCDLXTYJDCQJXSLQYCLZXLZZXMXQRJMHRHZJBHMFLJLMLCLQNLDXZLLLPYPSYJYSXCQQDCMQJZZXHNPNXZMEKMXHYKYQLXSXTXJYYHWDCWDZHQYYBGYBCYSCFGPSJNZDYZZJZXRZRQJJYMCANYRJTLDPPYZBSTJKXXZYPFDWFGZZRPYMTNGXZQBYXNBUFNQKRJQZMJEGRZGYCLKXZDSKKNSXKCLJSPJYYZLQQJYBZSSQLLLKJXTBKTYLCCDDBLSPPFYLGYDTZJYQGGKQTTFZXBDKTYYHYBBFYTYYBCLPDYTGDHRYRNJSPTCSNYJQHKLLLZSLYDXXWBCJQSPXBPJZJCJDZFFXXBRMLAZHCSNDLBJDSZBLPRZTSWSBXBCLLXXLZDJZSJPYLYXXYFTFFFBHJJXGBYXJPMMMPSSJZJMTLYZJXSWXTYLEDQPJMYGQZJGDJLQJWJQLLSJGJGYGMSCLJJXDTYGJQJQJCJZCJGDZZSXQGSJGGCXHQXSNQLZZBXHSGZXCXYLJXYXYYDFQQJHJFXDHCTXJYRXYSQTJXYEFYYSSYYJXNCYZXFXMSYSZXYYSCHSHXZZZGZZZGFJDLTYLNPZGYJYZYYQZPBXQBDZTZCZYXXYHHSQXSHDHGQHJHGYWSZTMZMLHYXGEBTYLZKQWYTJZRCLEKYSTDBCYKQQSAYXCJXWWGSBHJYZYDHCSJKQCXSWXFLTYNYZPZCCZJQTZWJQDZZZQZLJJXLSBHPYXXPSXSHHEZTXFPTLQYZZXHYTXNCFZYYHXGNXMYWXTZSJPTHHGYMXMXQZXTSBCZYJYXXTYYZYPCQLMMSZMJZZLLZXGXZAAJZYXJMZXWDXZSXZDZXLEYJJZQBHZWZZZQTZPSXZTDSXJJJZNYAZPHXYYSRNQDTHZHYYKYJHDZXZLSWCLYBZYECWCYCRYLCXNHZYDZYDYJDFRJJHTRSQTXYXJRJHOJYNXELXSFSFJZGHPZSXZSZDZCQZBYYKLSGSJHCZSHDGQGXYZGXCHXZJWYQWGYHKSSEQZZNDZFKWYSSTCLZSTSYMCDHJXXYWEYXCZAYDMPXMDSXYBSQMJMZJMTZQLPJYQZCGQHXJHHLXXHLHDLDJQCLDWBSXFZZYYSCHTYTYYBHECXHYKGJPXHHYZJFXHWHBDZFYZBCAPNPGNYDMSXHMMMMAMYNBYJTMPXYYMCTHJBZYFCGTYHWPHFTWZZEZSBZEGPFMTSKFTYCMHFLLHGPZJXZJGZJYXZSBBQSCZZLZCCSTPGXMJSFTCCZJZDJXCYBZLFCJSYZFGSZLYBCWZZBYZDZYPSWYJZXZBDSYUXLZZBZFYGCZXBZHZFTPBGZGEJBSTGKDMFHYZZJHZLLZZGJQZLSFDJSSCBZGPDLFZFZSZYZYZSYGCXSNXXCHCZXTZZLJFZGQSQYXZJQDCCZTQCDXZJYQJQCHXZTDLGSCXZSYQJQTZWLQDQZTQCHQQJZYEZZZPBWKDJFCJPZTYPQYQTTYNLMBDKTJZPQZQZZFPZSBNJLGYJDXJDZZKZGQKXDLPZJTCJDQBXDJQJSTCKNXBXZMSLYJCQMTJQWWCJQNJNLLLHJCWQTBZQYDZCZPZZDZYDDCYZZZCCJTTJFZDPRRTZTJDCQTQZDTJNPLZBCLLCTZSXKJZQZPZLBZRBTJDCXFCZDBCCJJLTQQPLDCGZDBBZJCQDCJWYNLLZYZCCDWLLXWZLXRXNTQQCZXKQLSGDFQTDDGLRLAJJTKUYMKQLLTZYTDYYCZGJWYXDXFRSKSTQTENQMRKQZHHQKDLDAZFKYPBGGPZREBZZYKZZSPEGJXGYKQZZZSLYSYYYZWFQZYLZZLZHWCHKYPQGNPGBLPLRRJYXCCSYYHSFZFYBZYYTGZXYLXCZWXXZJZBLFFLGSKHYJZEYJHLPLLLLCZGXDRZELRHGKLZZYHZLYQSZZJZQLJZFLNBHGWLCZCFJYSPYXZLZLXGCCPZBLLCYBBBBUBBCBPCRNNZCZYRBFSRLDCGQYYQXYGMQZWTZYTYJXYFWTEHZZJYWLCCNTZYJJZDEDPZDZTSYQJHDYMBJNYJZLXTSSTPHNDJXXBYXQTZQDDTJTDYYTGWSCSZQFLSHLGLBCZPHDLYZJYCKWTYTYLBNYTSDSYCCTYSZYYEBHEXHQDTWNYGYCLXTSZYSTQMYGZAZCCSZZDSLZCLZRQXYYELJSBYMXSXZTEMBBLLYYLLYTDQYSHYMRQWKFKBFXNXSBYCHXBWJYHTQBPBSBWDZYLKGZSKYHXQZJXHXJXGNLJKZLYYCDXLFYFGHLJGJYBXQLYBXQPQGZTZPLNCYPXDJYQYDYMRBESJYYHKXXSTMXRCZZYWXYQYBMCLLYZHQYZWQXDBXBZWZMSLPDMYSKFMZKLZCYQYCZLQXFZZYDQZPZYGYJYZMZXDZFYFYTTQTZHGSPCZMLCCYTZXJCYTJMKSLPZHYSNZLLYTPZCTZZCKTXDHXXTQCYFKSMQCCYYAZHTJPCYLZLYJBJXTPNYLJYYNRXSYLMMNXJSMYBCSYSYLCYLXJJQYLDZLPQBFZZBLFNDXQKCZFYWHGQMRDSXYCYTXNQQJZYYPFZXDYZFPRXEJDGYQBXRCNFYYQPGHYJDYZXGRHTKYLNWDZNTSMPKLBTHBPYSZBZTJZSZZJTYYXZPHSSZZBZCZPTQFZMYFLYPYBBJQXZMXXDJMTSYSKKBJZXHJCKLPSMKYJZCXTMLJYXRZZQSLXXQPYZXMKYXXXJCLJPRMYYGADYSKQLSNDHYZKQXZYZTCGHZTLMLWZYBWSYCTBHJHJFCWZTXWYTKZLXQSHLYJZJXTMPLPYCGLTBZZTLZJCYJGDTCLKLPLLQPJMZPAPXYZLKKTKDZCZZBNZDYDYQZJYJGMCTXLTGXSZLMLHBGLKFWNWZHDXUHLFMKYSLGXDTWWFRJEJZTZHYDXYKSHWFZCQSHKTMQQHTZHYMJDJSKHXZJZBZZXYMPAGQMSTPXLSKLZYNWRTSQLSZBPSPSGZWYHTLKSSSWHZZLYYTNXJGMJSZSUFWNLSOZTXGXLSAMMLBWLDSZYLAKQCQCTMYCFJBSLXCLZZCLXXKSBZQCLHJPSQPLSXXCKSLNHPSFQQYTXYJZLQLDXZQJZDYYDJNZPTUZDSKJFSLJHYLZSQZLBTXYDGTQFDBYAZXDZHZJNHHQBYKNXJJQCZMLLJZKSPLDYCLBBLXKLELXJLBQYCXJXGCNLCQPLZLZYJTZLJGYZDZPLTQCSXFDMNYCXGBTJDCZNBGBQYQJWGKFHTNPYQZQGBKPBBYZMTJDYTBLSQMPSXTBNPDXKLEMYYCJYNZCTLDYKZZXDDXHQSHDGMZSJYCCTAYRZLPYLTLKXSLZCGGEXCLFXLKJRTLQJAQZNCMBYDKKCXGLCZJZXJHPTDJJMZQYKQSECQZDSHHADMLZFMMZBGNTJNNLGBYJBRBTMLBYJDZXLCJLPLDLPCQDHLXZLYCBLCXZZJADJLNCMMSSSMYBHBSQKBHRSXXJMXSDZNZPXLGBRHWGGFCXGMSKLLTSJYYCQLTSKYWYYHYWXBXQYWPYWYKQLSQPTNTKHQCWDQKTWPXXHCPTHTWUMSSYHBWCRWXHJMKMZNGWTMLKFGHKJYLSYYCXWHYECLQHKQHTTQKHFZLDXQWYZYYDESBPKYRZPJFYYZJCEQDZZDLATZBBFJLLCXDLMJSSXEGYGSJQXCWBXSSZPDYZCXDNYXPPZYDLYJCZPLTXLSXYZYRXCYYYDYLWWNZSAHJSYQYHGYWWAXTJZDAXYSRLTDPSSYYFNEJDXYZHLXLLLZQZSJNYQYQQXYJGHZGZCYJCHZLYCDSHWSHJZYJXCLLNXZJJYYXNFXMWFPYLCYLLABWDDHWDXJMCXZTZPMLQZHSFHZYNZTLLDYWLSLXHYMMYLMBWWKYXYADTXYLLDJPYBPWUXJMWMLLSAFDLLYFLBHHHBQQLTZJCQJLDJTFFKMMMBYTHYGDCQRDDWRQJXNBYSNWZDBYYTBJHPYBYTTJXAAHGQDQTMYSTQXKBTZPKJLZRBEQQSSMJJBDJOTGTBXPGBKTLHQXJJJCTHXQDWJLWRFWQGWSHCKRYSWGFTGYGBXSDWDWRFHWYTJJXXXJYZYSLPYYYPAYXHYDQKXSHXYXGSKQHYWFDDDPPLCJLQQEEWXKSYYKDYPLTJTHKJLTCYYHHJTTPLTZZCDLTHQKZXQYSTEEYWYYZYXXYYSTTJKLLPZMCYHQGXYHSRMBXPLLNQYDQHXSXXWGDQBSHYLLPJJJTHYJKYPPTHYYKTYEZYENMDSHLCRPQFDGFXZPSFTLJXXJBSWYYSKSFLXLPPLBBBLBSFXFYZBSJSSYLPBBFFFFSSCJDSTZSXZRYYSYFFSYZYZBJTBCTSBSDHRTJJBYTCXYJEYLXCBNEBJDSYXYKGSJZBXBYTFZWGENYHHTHZHHXFWGCSTBGXKLSXYWMTMBYXJSTZSCDYQRCYTWXZFHMYMCXLZNSDJTTTXRYCFYJSBSDYERXJLJXBBDEYNJGHXGCKGSCYMBLXJMSZNSKGXFBNBPTHFJAAFXYXFPXMYPQDTZCXZZPXRSYWZDLYBBKTYQPQJPZYPZJZNJPZJLZZFYSBTTSLMPTZRTDXQSJEHBZYLZDHLJSQMLHTXTJECXSLZZSPKTLZKQQYFSYGYWPCPQFHQHYTQXZKRSGTTSQCZLPTXCDYYZXSQZSLXLZMYCPCQBZYXHBSXLZDLTCDXTYLZJYYZPZYZLTXJSJXHLPMYTXCQRBLZSSFJZZTNJYTXMYJHLHPPLCYXQJQQKZZSCPZKSWALQSBLCCZJSXGWWWYGYKTJBBZTDKHXHKGTGPBKQYSLPXPJCKBMLLXDZSTBKLGGQKQLSBKKTFXRMDKBFTPZFRTBBRFERQGXYJPZSSTLBZTPSZQZSJDHLJQLZBPMSMMSXLQQNHKNBLRDDNXXDHDDJCYYGYLXGZLXSYGMQQGKHBPMXYXLYTQWLWGCPBMQXCYZYDRJBHTDJYHQSHTMJSBYPLWHLZFFNYPMHXXHPLTBQPFBJWQDBYGPNZTPFZJGSDDTQSHZEAWZZYLLTYYBWJKXXGHLFKXDJTMSZSQYNZGGSWQSPHTLSSKMCLZXYSZQZXNCJDQGZDLFNYKLJCJLLZLMZZNHYDSSHTHZZLZZBBHQZWWYCRZHLYQQJBEYFXXXWHSRXWQHWPSLMSSKZTTYGYQQWRSLALHMJTQJSMXQBJJZJXZYZKXBYQXBJXSHZTSFJLXMXZXFGHKZSZGGYLCLSARJYHSLLLMZXELGLXYDJYTLFBHBPNLYZFBBHPTGJKWETZHKJJXZXXGLLJLSTGSHJJYQLQZFKCGNNDJSSZFDBCTWWSEQFHQJBSAQTGYPQLBXBMMYWXGSLZHGLZGQYFLZBYFZJFRYSFMBYZHQGFWZSYFYJJPHZBYYZFFWODGRLMFTWLBZGYCQXCDJYGZYYYYTYTYDWEGAZYHXJLZYYHLRMGRXXZCLHNELJJTJTPWJYBJJBXJJTJTEEKHWSLJPLPSFYZPQQBDLQJJTYYQLYZKDKSQJYYQZLDQTGJQYZJSUCMRYQTHTEJMFCTYHYPKMHYZWJDQFHYYXWSHCTXRLJHQXHCCYYYJLTKTTYTMXGTCJTZAYYOCZLYLBSZYWJYTSJYHBYSHFJLYGJXXTMZYYLTXXYPZLXYJZYZYYPNHMYMDYYLBLHLSYYQQLLNJJYMSOYQBZGDLYXYLCQYXTSZEGXHZGLHWBLJHEYXTWQMAKBPQCGYSHHEGQCMWYYWLJYJHYYZLLJJYLHZYHMGSLJLJXCJJYCLYCJPCPZJZJMMYLCQLNQLJQJSXYJMLSZLJQLYCMMHCFMMFPQQMFYLQMCFFQMMMMHMZNFHHJGTTHHKHSLNCHHYQDXTMMQDCYZYXYQMYQYLTDCYYYZAZZCYMZYDLZFFFMMYCQZWZZMABTBYZTDMNZZGGDFTYPCGQYTTSSFFWFDTZQSSYSTWXJHXYTSXXYLBYQHWWKXHZXWZNNZZJZJJQJCCCHYYXBZXZCYZTLLCQXYNJYCYYCYNZZQYYYEWYCZDCJYCCHYJLBTZYYCQWMPWPYMLGKDLDLGKQQBGYCHJXY",getFirstLetter:function(e){if(!e||/^ +$/g.test(e))return"";if(o.firstletter){var t=e.charCodeAt(0),i=e.charAt(0);i=t>=19968&&t<=40869?o.firstletter.charAt(t-19968):t>=97&&t<=122||t>=65&&t<=90?i.toLocaleUpperCase():"#";var r={unicode:t,firstletter:i};return r}return""}},r=o;t.default=r},b17c:function(e,t,i){var o=i("4a4b"),r=i("6f8f");function s(t,i,a){return r()?(e.exports=s=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=s=function(e,t,i){var r=[null];r.push.apply(r,t);var s=Function.bind.apply(e,r),a=new s;return i&&o(a,i.prototype),a},e.exports.__esModule=!0,e.exports["default"]=e.exports),s.apply(null,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},b58d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"申请提现"}},b64e:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:"",platform_coupon_id:0},orderPaymentData:{member_account:{balance:0,is_pay_password:0},shop_goods_list:{site_name:"",express_type:[],coupon_list:[],invoice_config:{invoice_status:0}},platform_coupon_list:[],bunding_info:{bl_name:""}},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},isSub:!1,tempData:null,sitePromotion:[],siteDelivery:{site_id:0,data:[]},selectCouponId:0,selectCouponMoney:"0.00",selectPlatCouponId:0,selectPlatCouponMoney:"0.00"}},methods:{openPopup:function(e){"PlatcouponPopup"==e&&(this.selectPlatCouponId=this.orderPaymentData.platform_coupon_id,this.selectPlatCouponMoney=this.orderPaymentData.platform_coupon_money),this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/combo/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("comboOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.orderCreateData.buyer_message="",this.$api.sendRequest({url:"/bundling/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.coupon={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";var e=this.orderPaymentData,t=(new Date).getHours().toString(),i=(new Date).getMinutes().toString();1==t.length&&(t="0"+t),1==i.length&&(i="0"+i);var o=t+":"+i,r=["周日","周一","周二","周三","周四","周五","周六"],s=["0","1","2","3","4","5","6"][(new Date).getDay()];if(void 0!=e.shop_goods_list.express_type&&void 0!=e.shop_goods_list.express_type[0]){var a=e.shop_goods_list.express_type;this.orderCreateData.delivery.delivery_type=a[0].name,this.orderCreateData.delivery.delivery_type_name=a[0].title,this.orderCreateData.delivery.store_id=0,"store"==a[0].name&&void 0!=a[0].store_list[0]&&(this.orderCreateData.delivery.store_id=a[0].store_list[0].store_id)}if(0==e.is_virtual&&e.shop_goods_list.local_config)if(e.shop_goods_list.local_config.info&&1==e.shop_goods_list.local_config.info.time_is_open){if(this.orderCreateData.delivery.showTimeBar=!0,this.orderCreateData.delivery.buyer_ask_delivery_time=o,0==e.shop_goods_list.local_config.info.time_week.length||7==e.shop_goods_list.local_config.info.time_week.length||e.shop_goods_list.local_config.info.time_week.indexOf(s)>-1?this.orderCreateData.delivery.canLocalDelicery=!0:this.orderCreateData.delivery.canLocalDelicery=!1,0==e.shop_goods_list.local_config.info.time_type)this.orderCreateData.delivery.deliveryWeek="全天";else if(e.shop_goods_list.local_config.info.time_week.length>0)if(7==e.shop_goods_list.local_config.info.time_week.length)this.orderCreateData.delivery.deliveryWeek="全天",this.orderCreateData.delivery.showTime=!1;else{this.orderCreateData.delivery.showTime=!0;for(var n=e.shop_goods_list.local_config.info.time_week,c=!1,d=0;d<n.length;d++)if(d+1<n.length){var u=n[d+1]-n[d];if(u>1){c=!0;break}}if(c){var l=[];for(d=0;d<n.length;d++)l.push(r[n[d]]);this.orderCreateData.delivery.deliveryWeek=l.join("、")}else this.orderCreateData.delivery.deliveryWeek=r[n[0]]+"至"+r[n[n.length-1]]}else this.orderCreateData.delivery.deliveryWeek="店铺未设置配送时间";var h=e.shop_goods_list.local_config.info.start_time;this.orderCreateData.delivery.start_time=this.getTimeStr(h);var p=e.shop_goods_list.local_config.info.end_time;this.orderCreateData.delivery.end_time=this.getTimeStr(p);var f=new Date(this.$util.timeStampTurnTime(e.timestamp)),g=f.getHours(),m=f.getMinutes(),_=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),v=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),y=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),D=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);this.orderCreateData.delivery.canLocalDelicery&&(_==y&&v==D||((g<_||g==_&&m<v)&&(this.orderCreateData.delivery.buyer_ask_delivery_time=(1==_.toString().length?"0"+_:_)+":"+(1==v.toString().length?"0"+v:v)),(g>y||g==y&&m>D)&&(this.orderCreateData.delivery.canLocalDelicery=!1)))}else this.orderCreateData.delivery.showTimeBar=!1,this.orderCreateData.delivery.deliveryWeek="店铺未开启配送时间";if(e.shop_goods_list.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),void 0!=e.shop_goods_list.coupon_list&&void 0!=e.shop_goods_list.coupon_list[0]){var S=e.shop_goods_list.coupon_list;this.orderCreateData.coupon.coupon_id=S[0].coupon_id,this.orderCreateData.coupon.coupon_money=S[0].money,this.selectCouponId=S[0].coupon_id,this.selectCouponMoney=S[0].coupon_id}e.platform_coupon_list.length>0&&(e.platform_coupon_id=e.platform_coupon_list[0].platformcoupon_id,e.platform_coupon_money=e.platform_coupon_list[0].money,this.orderCreateData.platform_coupon_id=e.platform_coupon_list[0].platformcoupon_id,this.orderCreateData.platform_coupon_money=e.platform_coupon_list[0].money,this.selectPlatCouponId=e.platform_coupon_list[0].platformcoupon_id,this.selectPlatCouponMoney=e.platform_coupon_list[0].money),Object.assign(e,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.orderPaymentData.shop_goods_list.site_id,i={};i[t]=this.orderCreateData.delivery;var o={};o[t]=this.orderCreateData.coupon;var r={};r[t]=this.orderCreateData.buyer_message,this.orderPaymentData.shop_goods_list.is_invoice&&(this.orderCreateData.invoice[t]={},Array.isArray(this.orderPaymentData.shop_goods_list.invoice_config)||(this.orderCreateData.invoice[t].is_invoice=this.orderPaymentData.shop_goods_list.is_invoice,this.orderCreateData.invoice[t].invoice_type=this.orderPaymentData.shop_goods_list.invoice_type,this.orderCreateData.invoice[t].invoice_title=this.orderPaymentData.shop_goods_list.invoice_title,this.orderCreateData.invoice[t].taxpayer_number=this.orderPaymentData.shop_goods_list.taxpayer_number,this.orderCreateData.invoice[t].invoice_content=this.orderPaymentData.shop_goods_list.invoice_content,this.orderCreateData.invoice[t].invoice_full_address=this.orderPaymentData.shop_goods_list.invoice_full_address,this.orderCreateData.invoice[t].is_tax_invoice=this.orderPaymentData.shop_goods_list.is_tax_invoice,this.orderCreateData.invoice[t].invoice_email=this.orderPaymentData.shop_goods_list.invoice_email,this.orderCreateData.invoice[t].invoice_title_type=this.orderPaymentData.shop_goods_list.invoice_title_type));var s=this.$util.deepClone(this.orderCreateData);s.delivery=JSON.stringify(i),s.coupon=JSON.stringify(o),s.invoice=JSON.stringify(s.invoice),s.member_address=JSON.stringify(s.member_address),s.buyer_message=JSON.stringify(r),this.$api.sendRequest({url:"/bundling/api/ordercreate/calculate",data:s,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.coupon_money=t.data.coupon_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.orderPaymentData.platform_coupon_money=t.data.platform_coupon_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.orderPaymentData.shop_goods_list.site_id,r={};r[o]=this.orderCreateData.delivery;var s={};s[o]=this.orderCreateData.coupon;var a={};a[o]=this.orderCreateData.buyer_message;var n=this.$util.deepClone(this.orderCreateData);n.delivery=JSON.stringify(r),n.coupon=JSON.stringify(s),n.invoice=JSON.stringify(n.invoice),n.member_address=JSON.stringify(n.member_address),n.buyer_message=JSON.stringify(a),this.$api.sendRequest({url:"/bundling/api/ordercreate/create",data:n,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list.express_type.length){e=!1,this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式"});break}if(!e)return!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式,请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】没有可提货的门店,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type&&(""==this.orderPaymentData.shop_goods_list.shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list.shop.shop_info.latitude))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】地址信息未完善,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.canLocalDelicery)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】已休息"}),!1;var i=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[0]),o=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[1]),r=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);if(r!=a||s!=n){if(i<r||i==r&&o<s)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间不能小于配送开始时间"}),!1;if(!(i>r&&i<a||i==r&&o>s||i==r&&o>=s&&i<a))return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间范围：开始时间~结束时间"}),!1}}return!0},openPromotion:function(){this.$refs.PromotionPopup.open()},openSitePromotion:function(e){this.sitePromotion=e,this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery.store_id=e.store_list[0].store_id,this.tempData.delivery.store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},openSiteCoupon:function(){this.tempData={coupon:this.$util.deepClone(this.orderPaymentData.coupon)},this.selectCouponId=this.orderCreateData.coupon.coupon_id,this.selectCouponMoney=this.orderCreateData.coupon.coupon_money,this.$refs.couponPopup.open()},selectCoupon:function(e){this.selectCouponId!=e.coupon_id?(this.selectCouponId=e.coupon_id,this.selectCouponMoney=e.money):(this.selectCouponId=0,this.selectCouponMoney="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},selectPlatCoupon:function(e){this.selectPlatCouponId!=e.platformcoupon_id?(this.selectPlatCouponId=e.platformcoupon_id,this.selectPlatCouponMoney=e.money):(this.selectPlatCouponId=0,this.selectPlatCouponMoney="0.00"),Object.assign(this.orderPaymentData,this.orderCreateData),this.$forceUpdate()},popupConfirm:function(e){"couponPopup"==e&&(this.orderCreateData.coupon.coupon_id=this.selectCouponId,this.orderCreateData.coupon.coupon_money=this.selectCouponMoney),"PlatcouponPopup"==e&&(this.orderPaymentData.platform_coupon_id=this.selectPlatCouponId,this.orderPaymentData.platform_coupon_money=this.selectPlatCouponMoney,this.orderCreateData.platform_coupon_id=this.selectPlatCouponId,this.orderCreateData.platform_coupon_money=this.selectPlatCouponMoney),this.orderCalculate(),this.$forceUpdate(),this.tempData=null,this.$refs[e].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.$refs.choosePaymentPopup.open(),this.subscribeMessage())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)},promotionMoney:function(){return this.orderPaymentData.bunding_info.goods_money-this.orderPaymentData.bunding_info.bl_price}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)},promotion:function(e){var t=[];return e&&Object.keys(e).forEach((function(i){e[i];switch(i){case"manjian":t.push("满减送");break;case"freeshipping":t.push("满额包邮");break}})),t.join(" ")}}};t.default=i}).call(this,i("543d")["default"])},bbb4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"}},bc2e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=["qy","env","error","version","lanDebug","cloud","serviceMarket","router","worklet","__webpack_require_UNI_MP_PLUGIN__"],r=["lanDebug","router","worklet"],s="undefined"!==typeof globalThis?globalThis:function(){return this}(),a=["w","x"].join(""),n=s[a],c=n.getLaunchOptionsSync?n.getLaunchOptionsSync():null;function d(e){return(!c||1154!==c.scene||!r.includes(e))&&(o.indexOf(e)>-1||"function"===typeof n[e])}s[a]=function(){var e={};for(var t in n)d(t)&&(e[t]=n[t]);return e}();var u=s[a];t.default=u},be5d:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{fenxiaoWords:{}}},methods:{getFenxiaoWrods:function(){var t=this;this.$api.sendRequest({url:"/fenxiao/api/config/words",success:function(i){i.code>=0&&i.data&&(t.fenxiaoWords=i.data,e.setStorageSync("fenxiaoWords",i.data))}})}},onShow:function(){e.getStorageSync("fenxiaoWords")&&(this.fenxiaoWords=e.getStorageSync("fenxiaoWords"))}};t.default=i}).call(this,i("543d")["default"])},bf19:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"会员中心",login:"立即登录",loginTpis:"登录体验更多功能",memberLevel:"会员等级",moreAuthority:"更多权限",allOrders:"全部订单",seeAllOrders:"查看全部订单",waitPay:"待付款",readyDelivery:"待发货",waitDelivery:"待收货",waitEvaluate:"待评价",refunding:"退款",sign:"签到",personInfo:"个人资料",receivingAddress:"收货地址",accountList:"账户列表",couponList:"优惠券",mySpellList:"我的拼单",myBargain:"我的砍价",virtualCode:"虚拟码",winningRecord:"我的礼品",myCollection:"我的关注",myTracks:"我的足迹",pintuanOrder:"拼团订单",yushouOrder:"预售订单",verification:"核销台",message:"我的消息",exchangeOrder:"积分兑换",balance:"余额",point:"积分",coupon:"优惠券",platformCoupon:"平台券",Service:"客服"}},c105:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"账号注销"}},c108:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"刮刮乐"}},c120:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"积分明细",emptyTpis:"您暂时还没有积分记录哦!",pointExplain:"积分说明"}},c135:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},c240:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c670:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"进货单",complete:"完成",edit:"编辑",allElection:"全选",total:"合计",settlement:"结算",emptyTips:"进货单空空如也!",goForStroll:"去逛逛",del:"删除",login:"去登录"}},c6a8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"店铺首页"}},c6cc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"会员等级",defaultLevelTips:"您已经是最高级别的会员了！",tag:"专属标签",tagDesc:"标签达人",discount:"专享折扣",discountDesc:"专享{0}折",service:"优质服务",serviceDesc:"360度全方位",memberLevel:"会员等级",condition:"条件",equity:"权益",giftPackage:"升级礼包",levelExplain:"等级说明",upgradeTips:"升级会员，享专属权益"}},c78c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"品牌专区"}},c7c6:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{listStyle:"",loadingType:"loading",orderType:"",priceOrder:"desc",categoryList:[],goodsList:[],order:"",sort:"desc",showCategory:!1,showScreen:!1,keyword:"",categoryId:0,categoryLevel:0,brandId:0,attr:[],currAttr:[],minPrice:"",maxPrice:"",isFreeShipping:!1,isOwn:2,brandList:[],showBrandMore:!1,attributeList:[],isIphoneX:!1}},onLoad:function(e){this.categoryId=e.category_id||0,this.categoryLevel=e.category_level||0,this.brandId=e.brand_id||0,this.keyword=e.keyword||"",this.loadCategoryList(this.categoryId),this.isIphoneX=this.$util.uniappIsIPhoneX()},onShow:function(){this.$langConfig.refresh()},methods:{getGoodsList:function(e){var t=this;this.$api.sendRequest({url:"/fenxiao/api/goods/page",data:{page:e.num,page_size:e.size,keyword:this.keyword,category_id:this.categoryId,category_level:this.categoryLevel,brand_id:this.brandId,min_price:this.minPrice,max_price:this.maxPrice,is_free_shipping:this.isFreeShipping?1:0,is_own:2==this.isOwn?"":this.isOwn,order:this.order,sort:this.sort,attr:this.currAttr.length>0?JSON.stringify(this.currAttr):""},success:function(i){var o=[],r=i.message;0==i.code&&i.data?o=i.data.list:t.$util.showToast({title:r}),e.endSuccess(o.length),1==e.num&&(t.goodsList=[]),t.goodsList=t.goodsList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},changeListStyle:function(){this.listStyle?this.listStyle="":this.listStyle="largest"},loadCategoryList:function(e,t){var i=this;this.$api.sendRequest({url:"/api/goodscategory/tree",data:{},success:function(e){null!=e.data&&(i.categoryList=e.data)}})},sortTabClick:function(e){if("sale_num"==e)this.order="sale_num",this.sort="desc";else if("discount_price"==e)this.order="discount_price",this.sort="desc";else{if("screen"==e)return void(this.showScreen=!0);this.order="",this.sort=""}this.orderType===e&&"discount_price"!==e||(this.orderType=e,"discount_price"===e?(this.priceOrder="asc"===this.priceOrder?"desc":"asc",this.sort=this.priceOrder):this.priceOrder="",this.$refs.mescroll.refresh())},navToDetailPage:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.sku_id})},search:function(){this.$refs.mescroll.refresh()},selectedCategory:function(e,t){var i=this;this.categoryId=e,this.categoryLevel=t,this.$refs.mescroll.refresh(),this.showCategory=!1,this.$api.sendRequest({url:"/api/goodscategory/relevanceinfo",data:{category_id:this.categoryId},success:function(e){var t=e.data;t&&(t.brand_list&&(i.brandList=t.brand_list),t.attribute_list&&(i.attributeList=t.attribute_list))}})},selectedAttr:function(e,t){for(var i in this.attr[e]&&this.attr[e].attr_value_id==t?delete this.attr[e]:this.attr[e]={attr_id:e,attr_value_id:t},this.currAttr=[],this.attr)this.currAttr.push(this.attr[i])},isSelectedAttr:function(e,t){var i=!1;for(var o in this.currAttr)if(this.currAttr[o].attr_id==e&&this.currAttr[o].attr_value_id==t){i=!0;break}return i},screenData:function(){if(""!=this.minPrice||""!=this.maxPrice){if(!Number(this.minPrice))return void this.$util.showToast({title:"请输入最低价"});if(!Number(this.maxPrice))return void this.$util.showToast({title:"最输入最高价"});if(Number(this.minPrice)<0||Number(this.maxPrice)<0)return void this.$util.showToast({title:"筛选价格不能小于0"});if(""!=this.minPrice&&Number(this.minPrice)>Number(this.maxPrice))return void this.$util.showToast({title:"最低价不能大于最高价"});if(""!=this.maxPrice&&Number(this.maxPrice)<Number(this.minPrice))return void this.$util.showToast({title:"最高价不能小于最低价"})}this.$refs.mescroll.refresh(),this.showScreen=!1},imgError:function(e){this.goodsList[e].sku_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},followGoods:function(e,t,i,o){var r=this;this.$api.sendRequest({url:"/fenxiao/api/goodscollect/add",data:{goods_id:t,sku_id:i,site_id:o},success:function(t){var i="";i=t.code>=0?"关注成功":t.message,r.$util.showToast({title:i}),r.goodsList[e].is_collect=1}})},delFollowTip:function(t,i){var o=this;e.showModal({title:"提示",content:"确认取消关注该商品吗",success:function(e){e.confirm?o.delFollow(t,i):e.cancel}})},delFollow:function(e,t){var i=this;this.$api.sendRequest({url:"/fenxiao/api/goodscollect/delete",data:{collect_id:e},success:function(e){var o="";o=0==e.code?"取消成功":e.message,i.$util.showToast({title:o});var r=i.goodsList;r[t].is_collect=0,i.goodsList=r}})}}};t.default=i}).call(this,i("543d")["default"])},c7ce:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(o){"object"===typeof window&&(i=window)}e.exports=i},c948:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{is_balance:0,pay_password:""},orderPaymentData:{member_account:{balance:0,is_pay_password:0,mobile:""},shop_goods_list:{site_name:"",express_type:[],invoice_config:{invoice_status:0}},groupbuy_info:{name:""}},orderInvoice:{is_invoice:0,invoice_type:1,invoice_title:"",invoice_title_type:1,invoice_full_address:"",is_tax_invoice:0,invoice_email:"",invoice_content:"",taxpayer_number:""},isSub:!1,tempData:null,siteDelivery:{site_id:0,data:[]}}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.tempData&&(Object.assign(this.orderCreateData,this.tempData),Object.assign(this.orderPaymentData,this.tempData),this.tempData=null,this.$forceUpdate()),this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/groupbuy/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("groupbuyOrderCreateData");var i=e.getStorageSync("pay_flag");if(this.orderCreateData){var o=e.getStorageSync("location");o&&(this.orderCreateData=Object.assign(this.orderCreateData,o)),this.orderCreateData.buyer_message="",this.$api.sendRequest({url:"/groupbuy/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.handlePaymentData(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}else 1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},handlePaymentData:function(){this.orderCreateData.delivery={},this.orderCreateData.invoice={},this.orderCreateData.is_balance=0,this.orderCreateData.pay_password="";for(var e=0;e<this.orderPaymentData.shop_goods_list.goods_list.length;e++)this.orderPaymentData.shop_goods_list.goods_list[e].goods_image=this.orderPaymentData.shop_goods_list.goods_list[e].goods_image?this.orderPaymentData.shop_goods_list.goods_list[e].goods_image.split(",")[0]:"";var t=this.orderPaymentData,i=(new Date).getHours().toString(),o=(new Date).getMinutes().toString();1==i.length&&(i="0"+i),1==o.length&&(o="0"+o);var r=i+":"+o,s=["周日","周一","周二","周三","周四","周五","周六"],a=["0","1","2","3","4","5","6"][(new Date).getDay()];if(void 0!=t.shop_goods_list.express_type&&void 0!=t.shop_goods_list.express_type[0]){var n=t.shop_goods_list.express_type;this.orderCreateData.delivery.delivery_type=n[0].name,this.orderCreateData.delivery.delivery_type_name=n[0].title,this.orderCreateData.delivery.store_id=0,"store"==n[0].name&&void 0!=n[0].store_list[0]&&(this.orderCreateData.delivery.store_id=n[0].store_list[0].store_id)}if(0==t.is_virtual&&t.shop_goods_list.local_config)if(t.shop_goods_list.local_config.info&&1==t.shop_goods_list.local_config.info.time_is_open){if(this.orderCreateData.delivery.showTimeBar=!0,this.orderCreateData.delivery.buyer_ask_delivery_time=r,0==t.shop_goods_list.local_config.info.time_week.length||7==t.shop_goods_list.local_config.info.time_week.length||t.shop_goods_list.local_config.info.time_week.indexOf(a)>-1?this.orderCreateData.delivery.canLocalDelicery=!0:this.orderCreateData.delivery.canLocalDelicery=!1,0==t.shop_goods_list.local_config.info.time_type)this.orderCreateData.delivery.deliveryWeek="全天";else if(t.shop_goods_list.local_config.info.time_week.length>0)if(7==t.shop_goods_list.local_config.info.time_week.length)this.orderCreateData.delivery.deliveryWeek="全天",this.orderCreateData.delivery.showTime=!1;else{this.orderCreateData.delivery.showTime=!0;var c=t.shop_goods_list.local_config.info.time_week,d=!1;for(e=0;e<c.length;e++)if(e+1<c.length){var u=c[e+1]-c[e];if(u>1){d=!0;break}}if(d){var l=[];for(e=0;e<c.length;e++)l.push(s[c[e]]);this.orderCreateData.delivery.deliveryWeek=l.join("、")}else this.orderCreateData.delivery.deliveryWeek=s[c[0]]+"至"+s[c[c.length-1]]}else this.orderCreateData.delivery.deliveryWeek="店铺未设置配送时间";var h=t.shop_goods_list.local_config.info.start_time;this.orderCreateData.delivery.start_time=this.getTimeStr(h);var p=t.shop_goods_list.local_config.info.end_time;this.orderCreateData.delivery.end_time=this.getTimeStr(p);var f=new Date(this.$util.timeStampTurnTime(t.timestamp)),g=f.getHours(),m=f.getMinutes(),_=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),v=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),y=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),D=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);this.orderCreateData.delivery.canLocalDelicery&&(_==y&&v==D||((g<_||g==_&&m<v)&&(this.orderCreateData.delivery.buyer_ask_delivery_time=(1==_.toString().length?"0"+_:_)+":"+(1==v.toString().length?"0"+v:v)),(g>y||g==y&&m>D)&&(this.orderCreateData.delivery.canLocalDelicery=!1)))}else this.orderCreateData.delivery.showTimeBar=!1,this.orderCreateData.delivery.deliveryWeek="店铺未开启配送时间";t.shop_goods_list.goods_list.forEach((function(e){"string"==typeof e.sku_spec_format&&(e.sku_spec_format?e.sku_spec_format=JSON.parse(e.sku_spec_format):e.sku_spec_format=[])})),this.orderPaymentData.is_virtual&&(this.orderCreateData.member_address={mobile:""}),Object.assign(t,this.orderCreateData),this.orderCalculate()},getTimeStr:function(e){var t=parseInt(e/3600).toString(),i=parseInt(e%3600/60).toString();return 1==i.length&&(i="0"+i),1==t.length&&(t="0"+t),t+":"+i},orderCalculate:function(){var e=this,t=this.orderPaymentData.shop_goods_list.site_id,i={};i[t]=this.orderCreateData.delivery;var o={};o[t]=this.orderCreateData.buyer_message,this.orderPaymentData.shop_goods_list.is_invoice&&(this.orderCreateData.invoice[t]={},Array.isArray(this.orderPaymentData.shop_goods_list.invoice_config)||(this.orderCreateData.invoice[t].is_invoice=this.orderPaymentData.shop_goods_list.is_invoice,this.orderCreateData.invoice[t].invoice_type=this.orderPaymentData.shop_goods_list.invoice_type,this.orderCreateData.invoice[t].invoice_title=this.orderPaymentData.shop_goods_list.invoice_title,this.orderCreateData.invoice[t].taxpayer_number=this.orderPaymentData.shop_goods_list.taxpayer_number,this.orderCreateData.invoice[t].invoice_content=this.orderPaymentData.shop_goods_list.invoice_content,this.orderCreateData.invoice[t].invoice_full_address=this.orderPaymentData.shop_goods_list.invoice_full_address,this.orderCreateData.invoice[t].is_tax_invoice=this.orderPaymentData.shop_goods_list.is_tax_invoice,this.orderCreateData.invoice[t].invoice_email=this.orderPaymentData.shop_goods_list.invoice_email,this.orderCreateData.invoice[t].invoice_title_type=this.orderPaymentData.shop_goods_list.invoice_title_type));var r=this.$util.deepClone(this.orderCreateData);r.delivery=JSON.stringify(i),r.invoice=JSON.stringify(r.invoice),r.member_address=JSON.stringify(r.member_address),r.buyer_message=JSON.stringify(o),this.$api.sendRequest({url:"/groupbuy/api/ordercreate/calculate",data:r,success:function(t){t.code>=0?(e.orderPaymentData.member_address=t.data.member_address,e.orderPaymentData.delivery_money=t.data.delivery_money,e.orderPaymentData.invoice_money=t.data.invoice_money,e.orderPaymentData.invoice_delivery_money=t.data.invoice_delivery_money,e.orderPaymentData.promotion_money=t.data.promotion_money,e.orderPaymentData.order_money=t.data.order_money,e.orderPaymentData.balance_money=t.data.balance_money,e.orderPaymentData.pay_money=t.data.pay_money,e.orderPaymentData.goods_money=t.data.goods_money,e.$forceUpdate()):e.$util.showToast({title:t.message})}})},orderCreate:function(t){var i=this;if(this.verify()){if(this.isSub)return;this.isSub=!0,t&&(this.orderCreateData.pay_password=t);var o=this.orderPaymentData.shop_goods_list.site_id,r={};r[o]=this.orderCreateData.delivery;var s={};s[o]=this.orderCreateData.buyer_message;var a=this.$util.deepClone(this.orderCreateData);a.delivery=JSON.stringify(r),a.invoice=JSON.stringify(a.invoice),a.member_address=JSON.stringify(a.member_address),a.buyer_message=JSON.stringify(s),this.$api.sendRequest({url:"/groupbuy/api/ordercreate/create",data:a,success:function(t){e.hideLoading(),t.code>=0?0==i.orderPaymentData.pay_money?i.$util.redirectTo("/pages/pay/result/result",{code:t.data},"redirectTo"):(i.$refs.choosePaymentPopup.getPayInfo(t.data),i.isSub=!1):(i.isSub=!1,10==t.data.error_code||12==t.data.error_code?e.showModal({title:"订单未创建",content:t.message,confirmText:"去设置",success:function(e){e.confirm&&i.selectAddress()}}):i.$util.showToast({title:t.message}))},fail:function(t){e.hideLoading(),i.isSub=!1}})}},verify:function(){if(1==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_account.mobile.length)return this.$util.showToast({title:"请输入您的手机号码"}),!1;if(!/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/.test(this.orderPaymentData.member_account.mobile))return this.$util.showToast({title:"请输入正确的手机号码"}),!1}if(0==this.orderPaymentData.is_virtual){if(!this.orderPaymentData.member_address)return this.$util.showToast({title:"请先选择您的收货地址"}),!1;var e=!0;for(var t in this.orderPaymentData.shop_goods_list)if(0==this.orderPaymentData.shop_goods_list.express_type.length){e=!1,this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式"});break}if(!e)return!1;if("{}"==JSON.stringify(this.orderCreateData.delivery))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】未设置配送方式,请联系店铺管理员"}),!1;if("store"==this.orderCreateData.delivery.delivery_type&&0==this.orderCreateData.delivery.store_id)return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】没有可提货的门店,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type&&(""==this.orderPaymentData.shop_goods_list.shop.shop_info.longitude||""==this.orderPaymentData.shop_goods_list.shop.shop_info.latitude))return this.$util.showToast({title:"店铺【"+this.orderPaymentData.shop_goods_list.site_name+"】地址信息未完善,请联系店铺管理员"}),!1;if("local"==this.orderCreateData.delivery.delivery_type){if(!this.orderCreateData.delivery.canLocalDelicery)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】已休息"}),!1;var i=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[0]),o=parseInt(this.orderCreateData.delivery.buyer_ask_delivery_time.split(":")[1]),r=parseInt(this.orderCreateData.delivery.start_time.split(":")[0]),s=parseInt(this.orderCreateData.delivery.start_time.split(":")[1]),a=parseInt(this.orderCreateData.delivery.end_time.split(":")[0]),n=parseInt(this.orderCreateData.delivery.end_time.split(":")[1]);if(r!=a||s!=n){if(i<r||i==r&&o<s)return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间不能小于配送开始时间"}),!1;if(!(i>r&&i<a||i==r&&o>s||i==r&&o>=s&&i<a))return this.$util.showToast({title:'店铺【"'+this.orderPaymentData.shop_goods_list.site_name+"】送达时间范围：开始时间~结束时间"}),!1}}}return!0},openSitePromotion:function(){this.$refs.sitePromotionPopup.open()},openSiteDelivery:function(){this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},this.$refs.deliveryPopup.open()},selectDeliveryType:function(e){this.orderCreateData.delivery.delivery_type=e.name,this.orderCreateData.delivery.delivery_type_name=e.title,this.tempData={delivery:this.$util.deepClone(this.orderPaymentData.delivery)},"store"==e.name&&void 0!=e.store_list[0]&&(this.orderCreateData.delivery.store_id=e.store_list[0].store_id,this.tempData.delivery.store_id=e.store_list[0].store_id),Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate()},selectPickupPoint:function(e){this.orderCreateData.delivery.store_id=e,Object.assign(this.orderPaymentData,this.orderCreateData),this.orderCalculate(),this.$forceUpdate(),this.$refs["deliveryPopup"].close()},useBalance:function(){this.orderCreateData.is_balance?this.orderCreateData.is_balance=0:this.orderCreateData.is_balance=1,this.orderCalculate(),this.$forceUpdate()},imgError:function(e){this.orderPaymentData.shop_goods_list.goods_list[e].goods_image=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},openInvoicePopup:function(e){this.orderInvoice=this.$util.deepClone(e),this.orderInvoice.invoice_type=void 0==this.orderInvoice.invoice_type?1:this.orderInvoice.invoice_type,this.orderInvoice.invoice_title_type=void 0==this.orderInvoice.invoice_title_type?1:this.orderInvoice.invoice_title_type,this.orderInvoice.invoice_content=this.orderInvoice.invoice_content?this.orderInvoice.invoice_content:"",this.orderInvoice.invoice_title=this.orderInvoice.invoice_title?this.orderInvoice.invoice_title:"",this.orderInvoice.invoice_full_address=this.orderInvoice.invoice_full_address?this.orderInvoice.invoice_full_address:"",this.orderInvoice.is_tax_invoice=this.orderInvoice.is_tax_invoice?this.orderInvoice.is_tax_invoice:0,this.orderInvoice.invoice_email=this.orderInvoice.invoice_email?this.orderInvoice.invoice_email:"",this.orderInvoice.taxpayer_number=this.orderInvoice.taxpayer_number?this.orderInvoice.taxpayer_number:"",this.openPopup("invoicePopup")},changeIsInvoice:function(){0==this.orderInvoice.is_invoice?this.orderInvoice.is_invoice=1:this.orderInvoice.is_invoice=0,this.$forceUpdate()},changeInvoiceType:function(e){this.orderInvoice.invoice_type=e,this.$forceUpdate()},changeInvoiceTitleType:function(e){this.orderInvoice.invoice_title_type=e,this.$forceUpdate()},changeInvoiceContent:function(e){this.orderInvoice.invoice_content=e,this.$forceUpdate()},closeInvoicePopup:function(){this.orderInvoice.invoice_type=1,this.orderInvoice.invoice_title_type=1,this.orderInvoice.invoice_content="",this.orderInvoice.invoice_title="",this.orderInvoice.invoice_full_address="",this.orderInvoice.is_tax_invoice=0,this.orderInvoice.invoice_email="",this.orderInvoice.taxpayer_number="",this.orderCalculate(),this.$forceUpdate(),this.$refs.invoicePopup.close()},invoiceVerify:function(){if(1==this.orderInvoice.is_invoice){if(""==this.orderInvoice.invoice_title)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票抬头"}),!1;if(2==this.orderInvoice.invoice_title_type&&""==this.orderInvoice.taxpayer_number)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写纳税人识别号"}),!1;if(1==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_full_address)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写发票邮寄地址"}),!1;if(2==this.orderInvoice.invoice_type&&""==this.orderInvoice.invoice_email)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写邮箱"}),!1;if(2==this.orderInvoice.invoice_type&&""!=this.orderInvoice.invoice_email){if(!/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(this.orderInvoice.invoice_email))return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请填写正确的邮箱地址"}),!1}if(""==this.orderInvoice.invoice_content)return this.$refs.invoicePopup.open(),this.$util.showToast({title:"请选择发票内容"}),!1}return!0},saveInvoice:function(){this.invoiceVerify()&&(this.orderPaymentData.shop_goods_list=this.orderInvoice,this.orderCalculate(),this.closePopup("invoicePopup"))},bindTimeChange:function(e){var t=e.target.value;this.orderCreateData.delivery[e.currentTarget.dataset.siteid].buyer_ask_delivery_time=t,this.orderCalculate(),this.$forceUpdate()},toShopDetail:function(e){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:e})},navigateTo:function(e){this.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e})},openChoosePayment:function(){e.setStorageSync("paySource",""),this.verify()&&(this.$refs.choosePaymentPopup.open(),this.subscribeMessage())},subscribeMessage:function(){this.$api.sendRequest({url:"/weapp/api/weapp/messagetmplids",data:{keywords:"ORDER_PAY,ORDER_DELIVERY,ORDER_TAKE_DELIVERY"},success:function(t){t.data.length&&e.requestSubscribeMessage({tmplIds:t.data,success:function(e){},fail:function(e){console.log("fail",e)}})}})}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},onHide:function(){this.$refs.loadingCover&&this.$refs.loadingCover.show()},computed:{balanceDeduct:function(){return this.orderPaymentData.member_account.balance_total<=parseFloat(this.orderPaymentData.order_money).toFixed(2)?parseFloat(this.orderPaymentData.member_account.balance_total).toFixed(2):parseFloat(this.orderPaymentData.order_money).toFixed(2)}},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},c973:function(e,t){function i(e,t,i,o,r,s,a){try{var n=e[s](a),c=n.value}catch(d){return void i(d)}n.done?t(c):Promise.resolve(c).then(o,r)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(r,s){var a=e.apply(t,o);function n(e){i(a,r,s,n,c,"next",e)}function c(e){i(a,r,s,n,c,"throw",e)}n(void 0)}))}},e.exports.__esModule=!0,e.exports["default"]=e.exports},cd59:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"登录",mobileLogin:"手机号登录",accountLogin:"账号登录",autoLogin:"一键授权登录",login:"登录",mobilePlaceholder:"手机号登录仅限中国大陆用户",dynacodePlaceholder:"请输入动态码",captchaPlaceholder:"请输入验证码",accountPlaceholder:"请输入账号",passwordPlaceholder:"请输入密码",rePasswordPlaceholder:"请确认密码",forgetPassword:"忘记密码",register:"注册",registerTips:"没有账号的用户快来",registerTips1:"注册",registerTips2:"吧",newUserRegister:"新用户注册"}},cd63:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"积分商城"}},cdb5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"砍价详情"}},d007:function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("9523")),c=r(i("16e3")),d=(i("77ef"),r(i("5bb4")),{data:function(){var e;return e={id:0,skuId:0,groupId:0,presale_order_count:0,goodsSkuDetail:{goods_id:0,goods_service:[]},presale_num:0,shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",couponList:[],couponBtnSwitch:!1,token:"",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},currentPintuan:{headimg:"",timeMachine:{}},openPopup:!1,memberId:0,manjian:{type:0,manjian_name:"",rule_json:null}},(0,n.default)(e,"goodsEvaluate",{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""}),(0,n.default)(e,"bundling",[{bundling_goods:{bl_name:"",sku_image:""}}]),(0,n.default)(e,"contactData",{title:"",path:"",img:""}),(0,n.default)(e,"detailTab",0),(0,n.default)(e,"service",{}),(0,n.default)(e,"preview",0),(0,n.default)(e,"goodsCircle",!1),(0,n.default)(e,"timestamp",""),(0,n.default)(e,"evaluateConfig",{evaluate_audit:1,evaluate_show:0,evaluate_status:1}),(0,n.default)(e,"showKefu",0),(0,n.default)(e,"kefuConfig",{}),(0,n.default)(e,"evaluateConfig",{evaluate_audit:1,evaluate_show:0,evaluate_status:1}),e},onLoad:function(t){var i=this;if(this.id=t.id||0,this.skuId=t.sku_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("id")&&(i.id=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.$langConfig.refresh(),t.token=e.getStorageSync("token"),t.getKekuConfig(),i.next=5,t.getGoodsSkuDetail();case 5:t.modifyGoodsInfo(),t.getEvaluateConfig(),""!=t.token&&(t.getCartCount(),t.getMemberId()),t.getGoodsEvaluate(),0==t.preview&&(t.modifyGoodsInfo(),t.getCoupon(),t.getManjian(),t.getEvaluateConfig(),t.getBundling());case 10:case"end":return i.stop()}}),i)})))()},onHide:function(){},methods:{goConnect:function(){if(e.getStorageSync("token")){var t=this.goodsSkuDetail.goods_promotion[0],i={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id};return t&&(t.bargain_id&&(i.type="bargain",i.type_id=t.bargain_id),t.discount_id&&(i.type="discount",i.type_id=t.discount_id)),this.$util.redirectTo("/otherpages/chat/room/room",i),!1}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.goodsSkuDetail.sku_id)},getAddonisexit:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var i;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/api/addon/addonisexit",async:!1,success:function(e){}});case 2:i=t.sent,0==i.code&&i.data&&(e.showKefu=i.data.servicer,e.showFenxiao=i.data.fenxiao);case 4:case"end":return t.stop()}}),t)})))()},getGoodsSkuDetail:function(){var e=this;return(0,a.default)(s.default.mark((function t(){var i,o,r,a,n;return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/presale/api/goods/detail",async:!1,data:{id:e.id,sku_id:e.skuId}});case 2:if(i=t.sent,o=i.data,e.presale_num=o.presale_num,null!=o.goods_sku_detail){if(e.presale_order_count=o.presale_order_count,e.goodsSkuDetail=o.goods_sku_detail,e.goodsSkuDetail.purchased_num=e.goodsSkuDetail.purchased_num?e.goodsSkuDetail.purchased_num:0,e.shopInfo=o.shop_info,e.skuId=e.goodsSkuDetail.sku_id,e.goodsSkuDetail.group_id=e.groupId,e.siteId=e.goodsSkuDetail.site_id,e.goodsSkuDetail.end_time-i.timestamp>0?e.goodsSkuDetail.timeMachine=e.$util.countDown(e.goodsSkuDetail.end_time-i.timestamp):(e.$util.showToast({title:"活动已结束"}),setTimeout((function(){e.$util.redirectTo("/pages/goods/detail/detail",{sku_id:e.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),e.goodsSkuDetail.goods_service=[],1==e.shopInfo.shop_baozh&&e.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==e.shopInfo.shop_qtian&&e.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==e.shopInfo.shop_zhping&&e.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==e.shopInfo.shop_erxiaoshi&&e.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==e.shopInfo.shop_tuihuo&&e.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==e.shopInfo.shop_shiyong&&e.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==e.shopInfo.shop_shiti&&e.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==e.shopInfo.shop_xiaoxie&&e.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),e.goodsSkuDetail.video_url&&(e.switchMedia="video"),e.goodsSkuDetail.sku_images?e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.split(","):e.goodsSkuDetail.sku_images=[],e.goodsSkuDetail.goods_spec_format&&e.goodsSkuDetail.goods_image&&(e.goodsSkuDetail.goods_image=e.goodsSkuDetail.goods_image.split(","),e.goodsSkuDetail.sku_images=e.goodsSkuDetail.sku_images.concat(e.goodsSkuDetail.goods_image)),e.goodsSkuDetail.unit=e.goodsSkuDetail.unit||"件",e.goodsSkuDetail.show_price=e.goodsSkuDetail.goods_price,e.goodsSkuDetail.sku_spec_format&&(e.goodsSkuDetail.sku_spec_format=JSON.parse(e.goodsSkuDetail.sku_spec_format)),e.goodsSkuDetail.goods_attr_format)for(r=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=JSON.parse(e.goodsSkuDetail.goods_attr_format),e.goodsSkuDetail.goods_attr_format=e.$util.unique(e.goodsSkuDetail.goods_attr_format,"attr_id"),a=0;a<e.goodsSkuDetail.goods_attr_format.length;a++)for(n=0;n<r.length;n++)e.goodsSkuDetail.goods_attr_format[a].attr_id==r[n].attr_id&&e.goodsSkuDetail.goods_attr_format[a].attr_value_id!=r[n].attr_value_id&&(e.goodsSkuDetail.goods_attr_format[a].attr_value_name+="、"+r[n].attr_value_name);e.goodsSkuDetail.goods_spec_format&&(e.goodsSkuDetail.goods_spec_format=JSON.parse(e.goodsSkuDetail.goods_spec_format)),e.$langConfig.title(e.goodsSkuDetail.goods_name),e.goodsSkuDetail.goods_content&&(e.goodsSkuDetail.goods_content=(0,c.default)(e.goodsSkuDetail.goods_content)),e.contactData={title:e.goodsSkuDetail.sku_name,path:"/promotionpages/pintuan/detail/detail?id="+e.id,img:e.$util.img(e.goodsSkuDetail.sku_image,{size:"big"})},""!=e.token&&e.getWhetherCollection(),e.setWechatShare(),e.$refs.loadingCover&&e.$refs.loadingCover.hide(),e.getService(),e.goodsSyncToGoodsCircle()}else e.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 6:case"end":return t.stop()}}),t)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},presale:function(){var t=this;e.getStorageSync("token")?this.$refs.goodsSku.show("presale",(function(){t.getCartCount()})):this.$refs.login.open("/promotionpages/presale/detail/detail?id="+this.id)},toOrderDetail:function(){this.$util.redirectTo("/promotionpages/presale/order_list/order_list")},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},getCoupon:function(){var e=this;this.$api.sendRequest({url:"/coupon/api/coupon/typelists",data:{site_id:this.shopInfo.site_id,goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.couponList=i)}})},openCouponPopup:function(){this.$refs.couponPopup.open()},closeCouponPopup:function(){this.$refs.couponPopup.close()},receiveCoupon:function(t,i){var o=this;this.preview||this.couponBtnSwitch||(this.couponBtnSwitch=!0,e.getStorageSync("token")?this.$api.sendRequest({url:"/coupon/api/coupon/receive",data:{site_id:t.site_id,coupon_type_id:t.coupon_type_id,get_type:2},success:function(e){e.data;var t=e.message;0==e.code&&(t="领取成功"),o.$util.showToast({title:t}),o.couponBtnSwitch=!1,e.data.is_exist&&o.refreshCoupon(i)}}):(this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.skuId),this.couponBtnSwitch=!1))},refreshCoupon:function(e){this.couponList[e].is_lingqu=1,this.$forceUpdate()},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var e=this;""!=this.token?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId,goods_id:this.goodsSkuDetail.goods_id,sku_name:this.goodsSkuDetail.sku_name,sku_price:this.goodsSkuDetail.show_price,sku_image:this.goodsSkuDetail.sku_image},success:function(t){var i=t.data;i>0&&(e.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i>0&&(e.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/presale/detail/detail?id="+this.id)},getCartCount:function(){var e=this;this.$api.sendRequest({url:"/api/cart/count",data:{},success:function(t){e.cartCount=t.data}})},goTopClick:function(){e.pageScrollTo({duration:200,scrollTop:0})},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{goods_id:this.goodsSkuDetail.goods_id,sku_id:this.skuId},success:function(e){}})},getManjian:function(){var e=this;this.$api.sendRequest({url:"/manjian/api/manjian/info",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(i){e.manjian=i;var o=0==i.type?"元":"件";Object.keys(i.rule_json).forEach((function(t){var r=i.rule_json[t];if(r.limit=0==i.type?parseFloat(r.money).toFixed(2):parseInt(r.money),void 0!=r.discount_money&&(void 0==e.manjian.manjian?e.manjian.manjian="满"+r.limit+o+"减"+r.discount_money+"元":e.manjian.manjian+="；满"+r.limit+o+"减"+r.discount_money+"元"),void 0!=r.point||void 0!=r.coupon){var s="";void 0!=r.point&&(s="送"+r.point+"积分"),void 0!=r.coupon&&void 0!=r.coupon_data&&("discount"==r.coupon_data.type?""==s?s="送一张"+r.coupon_data.discount+"折优惠券":s+="、送一张"+r.coupon_data.discount+"折优惠券":""==s?s="送一张"+r.coupon_data.money+"元优惠券":s+="、送一张"+r.coupon_data.money+"元优惠券"),void 0==e.manjian.mansong?e.manjian.mansong="满"+r.limit+o+s:e.manjian.mansong+="；满"+r.limit+o+s}void 0!=r.free_shipping&&(void 0==e.manjian.free_shipping?e.manjian.free_shipping="满"+r.limit+o+"包邮":e.manjian.free_shipping+="；满"+r.limit+o+"包邮"),void 0!=r.present&&(void 0==e.manjian.present?e.manjian.present="":e.manjian.present+="有赠品")}))}}})},openManjianPopup:function(){this.$refs.manjianPopup.open()},closeManjianPopup:function(){this.$refs.manjianPopup.close()},getBundling:function(){var e=this;this.$api.sendRequest({url:"/bundling/api/bundling/lists",data:{sku_id:this.skuId},success:function(t){if(t.data&&t.data.length){e.bundling=t.data;for(var i=0;i<e.bundling.length;i++)for(var o=0;o<e.bundling[i].bundling_goods.length;o++)e.bundling[i].bundling_goods[o].sku_id==e.skuId&&e.bundling[i].bundling_goods.splice(o,1)}}})},openBundlingPopup:function(){this.$refs.bundlingPopup.open()},closeBundlingPopup:function(){this.$refs.bundlingPopup.close()},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(e){var i=e.width,o=parseFloat((740/i).toFixed(2));t.token,t.posterHeight=parseInt(1100/o)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.id};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/presale/api/goods/poster",data:{page:"/promotionpages/presale/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path:e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},swiperImageError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})},fail:function(e){}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",data:{site_id:this.goodsSkuDetail.site_id},success:function(t){0==t.code&&t.data&&(e.service=t.data)}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data,e.setWechatShare())}})},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data,e.kefuConfig.system&&!e.addonIsExit.servicer&&(e.kefuConfig.system=0))}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/presale/detail/detail?id="+this.id;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},setWechatShare:function(){},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})}}});t.default=d}).call(this,i("543d")["default"],i("bc2e")["default"])},d02f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"购物车",complete:"完成",edit:"管理",allElection:"全选",total:"合计",settlement:"结算",emptyTips:"暂无商品",goForStroll:"去逛逛",del:"删除",login:"去登录"}},d1ff:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"商品详情",select:"选择",params:"参数",service:"商品服务",allGoods:"全部商品",image:"图片",video:"视频"}},d4b5:function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("66fd")),s=o(i("26cb")),a=o(i("1525"));r.default.use(s.default);var n=new s.default.Store({state:{tabbarList:{},cartNumber:0,wholeSaleNumber:0,themeStyle:"",Development:1,addonIsExit:{bundling:0,coupon:0,discount:0,fenxiao:0,gift:0,groupbuy:0,manjian:0,memberconsume:0,memberrecharge:0,memberregister:0,membersignin:0,memberwithdraw:0,pintuan:0,pointexchange:0,seckill:0,store:0,topic:0,bargain:0,membercancel:0,servicer:0},bottomNavHeight:0,sourceMember:0,authInfo:{},paySource:"",token:null,diySeckillInterval:null,diyIndexPositionObj:{},diyGroupShowModule:""},mutations:{setDiyGroupShowModule:function(e,t){e.diyGroupShowModule=t},setDiyIndexPositionObj:function(e,t){e.diyIndexPositionObj=Object.assign({},e.diyIndexPositionObj,t)},setDevelopment:function(e,t){e.Development=t},setCartNumber:function(e,t){e.cartNumber=t},setWholeSaleNumber:function(e,t){e.wholeSaleNumber=t},setThemeStyle:function(e,t){e.themeStyle=t},setAddonIsexit:function(e,t){e.addonIsExit=Object.assign(e.addonIsExit,t)},setTabbarList:function(e,t){e.tabbarList=t},setToken:function(e,t){e.token=t},setAuthinfo:function(e,t){e.authInfo=t},setSourceMember:function(e,t){e.sourceMember=t},setPaySource:function(e,t){e.paySource=t},setDiySeckillInterval:function(e,t){e.diySeckillInterval=t},setBottomNavHeight:function(e,t){e.bottomNavHeight=t}},actions:{init:function(){var t=this;return e.getStorageSync("setThemeStyle")&&this.commit("setThemeStyle",e.getStorageSync("setThemeStyle")),e.getStorageSync("memberAddonIsExit")&&this.commit("setAddonIsexit",e.getStorageSync("memberAddonIsExit")),new Promise((function(i,o){a.default.sendRequest({url:"/api/config/init",success:function(o){var r=o.data;r&&(t.commit("setCartNumber",r.cart_count),t.commit("setWholeSaleNumber",r.wholesale_cart_count),t.commit("setThemeStyle",r.style_theme),e.setStorageSync("setThemeStyle",r.style_theme),e.setStorageSync("memberAddonIsExit",r.addon_is_exit),t.commit("setAddonIsexit",r.addon_is_exit),t.commit("setTabbarList",r.diy_bottom_nav),t.commit("setDevelopment",r.development),e.setStorageSync("default_img",JSON.stringify(r.default_img)),i(r))}})}))},getCartNumber:function(){var t=this;if(e.getStorageSync("token"))return new Promise((function(e,i){a.default.sendRequest({url:"/api/cart/count",success:function(i){0==i.code&&(t.commit("setCartNumber",i.data),e(i.data))}})}));this.commit("setCartNumber",0)},getWholeSaleNumber:function(){var e=this;a.default.sendRequest({url:"/wholesale/api/cart/count",success:function(t){0==t.code&&e.commit("setWholeSaleNumber",t.data)}})},getThemeStyle:function(){var t=this;a.default.sendRequest({url:"/api/diyview/style",success:function(i){0==i.code&&(t.commit("setThemeStyle",i.data.style_theme),e.setStorageSync("setThemeStyle",i.data.style_theme))}})},getAddonIsexit:function(){var t=this;return e.getStorageSync("memberAddonIsExit")&&this.commit("setAddonIsexit",e.getStorageSync("memberAddonIsExit")),new Promise((function(i,o){a.default.sendRequest({url:"/api/addon/addonisexit",success:function(o){0==o.code&&(e.setStorageSync("memberAddonIsExit",o.data),t.commit("setAddonIsexit",o.data),i(o.data))}})}))},defaultImg:function(){a.default.sendRequest({url:"/api/config/defaultimg",success:function(t){var i=t.data;0==t.code&&i&&e.setStorageSync("default_img",JSON.stringify(i))}})}}}),c=n;t.default=c}).call(this,i("543d")["default"])},d52c:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"秒杀专区"}},d836:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"兑换结果",exchangeSuccess:"兑换成功",see:"查看兑换记录",goHome:"回到首页"}},d89a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={methods:{cancleRefund:function(t,i){var o=this;e.showModal({content:"撤销之后本次申请将会关闭,如后续仍有问题可再次发起申请。",cancelText:"暂不撤销",cancelColor:"#898989",success:function(e){e.confirm&&o.$api.sendRequest({url:"/api/orderrefund/cancel",data:{order_goods_id:t},success:function(e){"function"==typeof i&&i(e)}})}})}}};t.default=i}).call(this,i("543d")["default"])},daaa:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的足迹",emptyTpis:"您还未浏览过任何商品！"}},dba6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我要评价"}},dcf2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=52.35987755982988,r=3.141592653589793,s=6378245,a=.006693421622965943;function n(e,t){var i=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*r)+20*Math.sin(2*e*r))/3,i+=2*(20*Math.sin(t*r)+40*Math.sin(t/3*r))/3,i+=2*(160*Math.sin(t/12*r)+320*Math.sin(t*r/30))/3,i}function c(e,t){var i=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*r)+20*Math.sin(2*e*r))/3,i+=2*(20*Math.sin(e*r)+40*Math.sin(e/3*r))/3,i+=2*(150*Math.sin(e/12*r)+300*Math.sin(e/30*r))/3,i}function d(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1}var u={bd09togcj02:function(e,t){var i=52.35987755982988,o=e-.0065,r=t-.006,s=Math.sqrt(o*o+r*r)-2e-5*Math.sin(r*i),a=Math.atan2(r,o)-3e-6*Math.cos(o*i),n=s*Math.cos(a),c=s*Math.sin(a);return[n,c]},gcj02tobd09:function(e,t){var i=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*o),r=Math.atan2(t,e)+3e-6*Math.cos(e*o),s=i*Math.cos(r)+.0065,a=i*Math.sin(r)+.006;return[s,a]},wgs84togcj02:function(e,t){if(d(e,t))return[e,t];var i=n(e-105,t-35),o=c(e-105,t-35),u=t/180*r,l=Math.sin(u);l=1-a*l*l;var h=Math.sqrt(l);i=180*i/(s*(1-a)/(l*h)*r),o=180*o/(s/h*Math.cos(u)*r);var p=t+i,f=e+o;return[f,p]},gcj02towgs84:function(e,t){if(d(e,t))return[e,t];var i=n(e-105,t-35),o=c(e-105,t-35),u=t/180*r,l=Math.sin(u);l=1-a*l*l;var h=Math.sqrt(l);return i=180*i/(s*(1-a)/(l*h)*r),o=180*o/(s/h*Math.cos(u)*r),mglat=t+i,mglng=e+o,[2*e-mglng,2*t-mglat]}};t.default=u},e083:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"充值记录"}},e090:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"批发专区",bargainContent:"批发专区"}},e2bb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"大转盘"}},e2e8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={down:{textInOffset:"下拉刷新",textOutOffset:"释放更新",textLoading:"加载中 ...",offset:80,native:!1},up:{textLoading:"加载中 ...",textNoMore:"",offset:80,isBounce:!1,toTop:{src:"http://www.mescroll.com/img/mescroll-totop.png?v=1",offset:1e3,right:20,bottom:120,width:72},empty:{use:!0,icon:"http://www.mescroll.com/img/mescroll-empty.png?v=1",tip:"~ 暂无相关数据 ~"}}};t.default=o},e50d:function(e,t,i){var o=i("7037")["default"];e.exports=function(e,t){if("object"!==o(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e529:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:""}},e568:function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("dcf2"));function s(t,i,o){e.openLocation({latitude:t,longitude:i,name:o,fail:function(t){e.showModal({content:"打开地图失败，请稍后重试"})}})}function a(e,t,i){switch(i){case"gcj02":return[e,t];case"bd09":return r.default.bd09togcj02(e,t);case"wgs84":return r.default.wgs84togcj02(e,t);default:return[e,t]}}var n={openMap:function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gcj02",r=a(t,e,o);s(r[1],r[0],i)}};t.default=n}).call(this,i("543d")["default"])},e584:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"签到有礼"}},e87a:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"公告列表",emptyText:"当前暂无更多信息",contentTitle:"升级公告"}},ea17d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},eb1e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"我的砍价"}},ee6d:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{orderType:"",shopList:[],order:"",sort:"desc",keyword:"",lat:0,lng:0,iphoneX:!1,hasFollow:!1}},onLoad:function(e){this.keyword=e.keyword||"",this.iphoneX=this.$util.uniappIsIPhoneX()},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("location")&&(this.lat=e.getStorageSync("location").latitude,this.lng=e.getStorageSync("location").longitude)},methods:{follow:function(){var t=this;e.getStorageSync("token")?this.hasFollow?e.showModal({title:"提示",content:"真的要取消关注嘛",success:function(e){var t=this;e.confirm&&this.$api.sendRequest({url:"/api/shopmember/delete",data:{site_id:this.shopList.site_id},success:function(e){0==e.code&&e.data&&(t.hasFollow=!t.hasFollow,t.$util.showToast({title:"取消成功"}))}})}}):this.$api.sendRequest({url:"/api/shopmember/add",data:{site_id:this.shopList.site_id},success:function(e){0==e.code&&e.data&&(t.hasFollow=!t.hasFollow,t.$util.showToast({title:"关注成功"}))}}):this.$util.redirectTo("/pages/login/login/login",{})},isFollow:function(){var e=this;this.$api.sendRequest({url:"/api/shopmember/issubscribe",data:{site_id:this.shopList.site_id},success:function(t){0==t.code&&(e.hasFollow=t.data)}})},getShopList:function(e){var t=this;this.$api.sendRequest({url:"/api/shop/page",data:{page:e.num,page_size:e.size,keyword:this.keyword,order:this.order,sort:this.sort,lat:this.lat,lng:this.lng},success:function(i){var o=[],r=i.message;if(0==i.code&&i.data){o=i.data.list;for(var s=0;s<o.length;s++)o[s].composite_score=((parseFloat(o[s].shop_desccredit)+parseFloat(o[s].shop_servicecredit)+parseFloat(o[s].shop_deliverycredit))/3).toFixed(1)}else t.$util.showToast({title:r});e.endSuccess(o.length),1==e.num&&(t.shopList=[]),t.shopList=t.shopList.concat(o),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},sortTabClick:function(e){"shop_sales"==e?(this.order="shop_sales",this.sort="desc"):"shop_desccredit"==e?(this.order="shop_desccredit",this.sort="desc"):(this.order="",this.sort=""),this.orderType=e,this.$refs.mescroll.refresh()},search:function(){this.$refs.mescroll.refresh()},imgError:function(e){this.shopList[e].logo=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()},phone:function(t){e.makePhoneCall({phoneNumber:t})},jump:function(e){this.$util.redirectTo(e)},GetDistance:function(e,t,i,o){var r=e*Math.PI/180,s=i*Math.PI/180,a=r-s,n=t*Math.PI/180-o*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(s)*Math.pow(Math.sin(n/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4,c}}};t.default=i}).call(this,i("543d")["default"])},f0c5:function(e,t,i){"use strict";function o(e,t,i,o,r,s,a,n,c,d){var u,l="function"===typeof e?e.options:e;if(c){l.components||(l.components={});var h=Object.prototype.hasOwnProperty;for(var p in c)h.call(c,p)&&!h.call(l.components,p)&&(l.components[p]=c[p])}if(d&&("function"===typeof d.beforeCreate&&(d.beforeCreate=[d.beforeCreate]),(d.beforeCreate||(d.beforeCreate=[])).unshift((function(){this[d.__module]=this})),(l.mixins||(l.mixins=[])).push(d)),t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),o&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),a?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=u):r&&(u=n?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(l.functional){l._injectStyles=u;var f=l.render;l.render=function(e,t){return u.call(t),f(e,t)}}else{var g=l.beforeCreate;l.beforeCreate=g?[].concat(g,u):[u]}return{exports:e,options:l}}i.d(t,"a",(function(){return o}))},f3e4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"组合套餐"}},f6b3:function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("2eee")),s=o(i("c973")),a=o(i("1ad3")),n={data:function(){return{registerConfig:{},indent:"all",customNavTitle:"",memberInfo:{headimg:""},formData:{userHeadImg:"",number:"",nickName:"",sex:"",realName:"",birthday:"",currentPassword:"",newPassword:"",confirmPassword:"",mobile:"",mobileVercode:"",mobileDynacode:"",mobileCodeText:"",username:""},memberInfoformData:{userHeadImg:"",number:"",nickName:"",sex:"",realName:"",birthday:"",currentPassword:"",newPassword:"",confirmPassword:"",mobile:"",mobileVercode:"",mobileDynacode:"",mobileCodeText:""},langList:[],langIndex:0,seconds:120,timer:null,isSend:!1,captcha:{id:"",img:""},isIphoneX:!1,items:[{value:"0",name:"未知"},{value:"1",name:"男",checked:"true"},{value:"2",name:"女"}],current:0,memberConfig:{is_audit:0,is_enable:0}}},onLoad:function(e){this.$langConfig.refresh(),this.formData.mobileCodeText=this.$lang("findanimateCode"),e.back&&(this.back=e.back),this.getCaptcha(),e.action&&(this.indent=e.action,this.setNavbarTitle()),this.getRegisterConfig(),this.isIphoneX=this.$util.uniappIsIPhoneX()},onShow:function(){this.initLang(),this.getInfo(),this.getMemberConfig()},onHide:function(){this.seconds=120,this.formData.mobileCodeText="获取动态码",this.isSend=!1,clearInterval(this.timer)},watch:{seconds:function(e){0==e&&(this.seconds=120,this.formData.mobileCodeText="获取动态码",this.isSend=!1,clearInterval(this.timer))}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},methods:{initLang:function(){if(this.langList=this.$langConfig.list(),e.getStorageSync("lang")){for(var t=0;t<this.langList.length;t++)if(this.langList[t].value==e.getStorageSync("lang")){this.langIndex=t;break}}else this.langIndex=0},setNavbarTitle:function(){var t="个人资料";switch(this.indent){case"name":t=this.$lang("modifyNickname");break;case"realName":t=this.$lang("realName");break;case"sex":t=this.$lang("sex");break;case"birthday":t=this.$lang("birthday");break;case"password":t=this.$lang("password");break;case"mobile":t=this.$lang("mobile");break}e.setNavigationBarTitle({title:t})},getInfo:function(){var e=this;this.$api.sendRequest({url:"/api/member/info",success:function(t){0==t.code&&(e.memberInfo=t.data,e.memberInfoformData.userHeadImg=e.memberInfo.headimg,e.memberInfoformData.number=e.memberInfo.username,e.memberInfoformData.nickName=e.memberInfo.nickname,e.memberInfoformData.realName=e.memberInfo.realname?e.memberInfo.realname:"请输入真实姓名",e.memberInfoformData.sex=0==e.memberInfo.sex?"未知":1==e.memberInfo.sex?"男":"女",e.memberInfoformData.birthday=e.memberInfo.birthday?e.$util.timeStampTurnTime(e.memberInfo.birthday,"YYYY-MM-DD"):"请选择生日",e.memberInfoformData.mobile=e.memberInfo.mobile,e.formData.username=e.memberInfo.username,e.formData.nickName=e.memberInfo.nickname,e.formData.realName=e.memberInfo.realname,e.formData.sex=e.memberInfo.sex,e.formData.birthday=e.memberInfo.birthday?e.$util.timeStampTurnTime(e.memberInfo.birthday,"YYYY-MM-DD"):"请选择生日"),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},modifyInfo:function(t){switch(t){case"cancellation":this.getCancelStatus();break;case"language":for(var i=[],o=0;o<this.langList.length;o++)i.push(this.langList[o].name);e.showActionSheet({itemList:i,success:function(e){vm.langIndex!=e.tapIndex&&vm.$langConfig.change(vm.langList[e.tapIndex].value)}});break;default:this.$util.redirectTo("/pages/member/info_edit/info_edit",{action:t})}},getCancelStatus:function(){var e=this;this.$api.sendRequest({url:"/membercancel/api/membercancel/info",success:function(t){t.code>=0&&(t.data?0==t.data.status?e.$util.redirectTo("/otherpages/member/cancelstatus/cancelstatus",{back:"/pages/member/info/info"}):1==t.data.status?e.$util.redirectTo("/otherpages/member/cancelsuccess/cancelsuccess",{back:"/pages/member/info/info"}):e.$util.redirectTo("/otherpages/member/cancelrefuse/cancelrefuse",{back:"/pages/member/info/info"}):e.$util.redirectTo("/otherpages/member/cancellation/cancellation",{back:"/pages/member/info/info"}))}})},NavReturn:function(){e.navigateBack({delta:1})},getCaptcha:function(){var e=this;this.$api.sendRequest({url:"/api/captcha/captcha",data:{captcha_id:this.captcha.id},success:function(t){t.code>=0&&(e.captcha=t.data,e.captcha.img=e.captcha.img.replace(/\r\n/g,""))}})},logout:function(){var t=this;e.showModal({title:"提示",content:"确定要退出登录吗",success:function(i){i.confirm&&e.removeStorage({key:"token",success:function(i){e.setStorageSync("loginLock",1),e.removeStorageSync("userInfo"),t.$store.dispatch("getCartNumber").then((function(e){})),t.$util.redirectTo("/pages/member/index/index")}})}})},headImage:function(){this.$util.redirectTo("/otherpages/member/modify_face/modify_face")},testBinding:function(e){var t=this;return(0,s.default)(r.default.mark((function e(){var i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkMobile();case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})))()},getMemberConfig:function(){var e=this;this.$api.sendRequest({url:"/membercancel/api/membercancel/config",success:function(t){t.code>=0&&(e.memberConfig=t.data)}})},save:function(e){switch(e){case"username":this.modifyUserName();break;case"name":this.modifyNickName();break;case"realName":this.modifyRealName();break;case"sex":this.modifySex();break;case"birthday":this.modifyBirthday();break;case"password":this.modifyPassword();break;case"mobile":this.modifyMobile();break}},modifyUserName:function(){var e=this;if(this.formData.username!=this.memberInfo.username){var t=[{name:"username",checkType:"required",errorMsg:this.$lang("noEmityUsername")}];if(t.length){var i=a.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifyusername",data:{username:this.formData.username},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:a.default.error})}}else this.$util.showToast({title:this.$lang("alikeusername")})},modifyNickName:function(){var e=this;if(this.formData.nickName!=this.memberInfo.nickname){var t=[{name:"nickName",checkType:"required",errorMsg:this.$lang("noEmityNickname")}];if(t.length){var i=a.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifynickname",data:{nickname:this.formData.nickName},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:a.default.error})}}else this.$util.showToast({title:this.$lang("alikeNickname")})},modifyRealName:function(){var e=this;if(this.formData.realName==this.memberInfo.realname&&this.memberInfo.realname)this.$util.showToast({title:"与原真实姓名一致，无需修改"});else{var t=[{name:"realName",checkType:"required",errorMsg:"真实姓名不能为空"}];if(t.length){var i=a.default.check(this.formData,t);i?this.$api.sendRequest({url:"/api/member/modifyrealname",data:{realname:this.formData.realName},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}}):this.$util.showToast({title:a.default.error})}}},radioChange:function(e){for(var t=0;t<this.items.length;t++)if(this.items[t].value===e.target.value){this.formData.sex=t;break}},modifySex:function(){var e=this;this.$api.sendRequest({url:"/api/member/modifysex",data:{sex:this.formData.sex},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}})},bindDateChange:function(e){this.formData.birthday=e.target.value},getDate:function(e){var t=new Date,i=t.getFullYear(),o=t.getMonth()+1,r=t.getDate();return"start"===e?i-=60:"end"===e&&(i+=2),o=o>9?o:"0"+o,r=r>9?r:"0"+r,"".concat(i,"-").concat(o,"-").concat(r)},modifyBirthday:function(){var e=this;this.$api.sendRequest({url:"/api/member/modifybirthday",data:{birthday:this.$util.timeTurnTimeStamp(this.formData.birthday)},success:function(t){0==t.code?(e.$util.showToast({title:e.$lang("updateSuccess")}),e.NavReturn()):e.$util.showToast({title:t.message})}})},getRegisterConfig:function(){var e=this;this.$api.sendRequest({url:"/api/register/config",success:function(t){t.code>=0&&(e.registerConfig=t.data.value)}})},modifyPassword:function(){var t=this;if(this.memberInfo.password)var i=[{name:"currentPassword",checkType:"required",errorMsg:this.$lang("pleaseInputOldPassword")},{name:"newPassword",checkType:"required",errorMsg:this.$lang("pleaseInputNewPassword")}];else i=[{name:"mobileVercode",checkType:"required",errorMsg:this.$lang("confirmCodeInput")},{name:"mobileDynacode",checkType:"required",errorMsg:this.$lang("animateCodeInput")},{name:"newPassword",checkType:"required",errorMsg:this.$lang("pleaseInputNewPassword")}];var o=this.registerConfig;if(o.pwd_len>0&&i.push({name:"newPassword",checkType:"lengthMin",checkRule:o.pwd_len,errorMsg:"新密码长度不能小于"+o.pwd_len+"位"}),o.pwd_complexity){var r="密码需包含",s="";-1!=o.pwd_complexity.indexOf("number")&&(s+="(?=.*?[0-9])",r+="数字"),-1!=o.pwd_complexity.indexOf("letter")&&(s+="(?=.*?[a-z])",r+="、小写字母"),-1!=o.pwd_complexity.indexOf("upper_case")&&(s+="(?=.*?[A-Z])",r+="、大写字母"),-1!=o.pwd_complexity.indexOf("symbol")&&(s+="(?=.*?[#?!@$%^&*-])",r+="、特殊字符"),i.push({name:"newPassword",checkType:"reg",checkRule:s,errorMsg:r})}var n=a.default.check(this.formData,i);if(n){if(this.formData.currentPassword==this.formData.newPassword)return void this.$util.showToast({title:"新密码不能与原密码相同"});if(this.formData.newPassword!=this.formData.confirmPassword)return void this.$util.showToast({title:"两次密码不一致"});this.$api.sendRequest({url:"/api/member/modifypassword",data:{new_password:this.formData.newPassword,old_password:this.formData.currentPassword,code:this.formData.mobileDynacode,key:e.getStorageSync("password_mobile_key")},success:function(i){0==i.code?(t.$util.showToast({title:t.$lang("updateSuccess")}),t.NavReturn(),e.removeStorageSync("password_mobile_key")):t.$util.showToast({title:i.message})}})}else this.$util.showToast({title:a.default.error})},vertifyMobile:function(){var e=a.default.check(this.formData,[{name:"mobile",checkType:"required",errorMsg:"请输入手机号"},{name:"mobile",checkType:"phoneno",errorMsg:"请输入正确的手机号"}]);return!!e||(this.$util.showToast({title:a.default.error}),!1)},checkMobile:function(){var e=this;return(0,s.default)(r.default.mark((function t(){var i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.vertifyMobile()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$api.sendRequest({url:"/api/member/checkmobile",data:{mobile:e.formData.mobile},async:!1});case 4:if(i=t.sent,0==i.code){t.next=8;break}return e.$util.showToast({title:i.message}),t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()},bindMoblieCode:function(){var t=this;return(0,s.default)(r.default.mark((function i(){var o,s;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(120==t.seconds){i.next=2;break}return i.abrupt("return");case 2:o=[{name:"mobile",checkType:"phoneno",errorMsg:t.$lang("surePhoneNumber")},{name:"mobileVercode",checkType:"required",errorMsg:t.$lang("confirmCodeInput")}],s=a.default.check(t.formData,o),s&&!t.isSend?(t.isSend=!0,t.$api.sendRequest({url:"/api/member/bindmobliecode",data:{mobile:t.formData.mobile,captcha_id:t.captcha.id,captcha_code:t.formData.mobileVercode},success:function(i){var o=i.data;o.key?(120==t.seconds&&null==t.timer&&(t.timer=setInterval((function(){t.seconds--,t.formData.mobileCodeText="已发送("+t.seconds+"s)"}),1e3)),e.setStorageSync("mobile_key",o.key)):(t.$util.showToast({title:i.message}),t.isSend=!1)},fail:function(e){t.isSend=!1,t.getCaptcha()}})):t.$util.showToast({title:a.default.error?a.default.error:"请勿重复点击"});case 5:case"end":return i.stop()}}),i)})))()},modifyMobile:function(){var t=this;return(0,s.default)(r.default.mark((function i(){var o,s;return r.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=[{name:"mobile",checkType:"phoneno",errorMsg:t.$lang("surePhoneNumber")},{name:"mobileVercode",checkType:"required",errorMsg:t.$lang("confirmCodeInput")},{name:"mobileDynacode",checkType:"required",errorMsg:t.$lang("animateCodeInput")}],s=a.default.check(t.formData,o),!s){i.next=9;break}if(t.formData.mobile!=t.memberInfo.mobile){i.next=6;break}return t.$util.showToast({title:t.$lang("alikePhone")}),i.abrupt("return");case 6:t.$api.sendRequest({url:"/api/member/modifymobile",data:{mobile:t.formData.mobile,captcha_id:t.captcha.id,captcha_code:t.formData.mobileVercode,code:t.formData.mobileDynacode,key:e.getStorageSync("mobile_key")},success:function(e){0==e.code?(t.$util.showToast({title:t.$lang("updateSuccess")}),t.back?t.$util.redirectTo("/otherpages/member/pay_password/pay_password",{back:t.back},"redirectTo"):t.NavReturn()):t.$util.showToast({title:e.message})},fail:function(e){t.isSend=!1,t.getCaptcha()}}),i.next=10;break;case 9:t.$util.showToast({title:a.default.error});case 10:case"end":return i.stop()}}),i)})))()},passwordMoblieCode:function(){var t=this;120==this.seconds&&(""!=this.formData.mobileVercode?this.isSend?this.$util.showToast({title:"请勿重复点击"}):(this.isSend=!0,this.$api.sendRequest({url:"/api/member/pwdmobliecode",data:{captcha_id:this.captcha.id,captcha_code:this.formData.mobileVercode},success:function(i){var o=i.data;o.key?(120==t.seconds&&null==t.timer&&(t.timer=setInterval((function(){t.seconds--,t.formData.mobileCodeText="已发送("+t.seconds+"s)"}),1e3)),e.setStorageSync("password_mobile_key",o.key)):(t.$util.showToast({title:i.message}),t.isSend=!1)},fail:function(e){t.isSend=!1,t.getCaptcha()}})):this.$util.showToast({title:this.$lang("confirmCodeInput")}))},initFormData:function(){this.formData.currentPassword="",this.formData.newPassword="",this.formData.confirmPassword="",this.formData.mobileVercode="",this.formData.mobileDynacode="",this.formData.mobile=""}}};t.default=n}).call(this,i("543d")["default"])},f86b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"城市选择"}},fa06:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"搜索",history:"历史搜索",hot:"热门搜索",find:"搜索发现",hidefind:"当前搜索发现已隐藏",inputPlaceholder:"搜索商品"}},fa4f:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"待付款订单"}},fa7a:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{isIphoneX:!1,orderCreateData:{},orderPaymentData:{exchange_info:{type:0}},type:1,isSub:!1}},methods:{openPopup:function(e){this.$refs[e].open()},closePopup:function(e){this.$refs[e].close()},selectAddress:function(){this.$util.redirectTo("/otherpages/member/address/address",{back:"/promotionpages/point/payment/payment",local:0,type:1})},getOrderPaymentData:function(){var t=this;this.orderCreateData=e.getStorageSync("exchangeOrderCreateData");var i=e.getStorageSync("pay_flag");this.orderCreateData?(this.orderCreateData.buyer_message="",this.$api.sendRequest({url:"/pointexchange/api/ordercreate/payment",data:this.orderCreateData,success:function(e){e.code>=0?(t.orderPaymentData=e.data,t.orderPaymentData.timestamp=e.timestamp,t.$refs.loadingCover&&t.$refs.loadingCover.hide()):(t.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})):1==i?e.removeStorageSync("pay_flag"):(this.$util.showToast({title:"未获取到创建订单所需数据！"}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"reLaunch")}),1e3))},orderCreate:function(){var t=this;if(this.verify()){if(this.isSub)return;this.isSub=!0;var i=this.$util.deepClone(this.orderCreateData);i.delivery=JSON.stringify(i.delivery),i.member_address=JSON.stringify(i.member_address),this.$api.sendRequest({url:"/pointexchange/api/ordercreate/create",data:i,success:function(i){i.code>=0?1==t.orderPaymentData.exchange_info.pay_type&&"0.00"!=t.orderPaymentData.exchange_info.price?(t.$refs.choosePaymentPopup.getPayInfo(i.data),t.isSub=!1):t.$util.redirectTo("/promotionpages/point/result/result",{},"redirectTo"):(t.isSub=!1,10==i.data.error_code||12==i.data.error_code?e.showModal({title:"订单未创建",content:i.message,confirmText:"去设置",success:function(e){e.confirm&&t.selectAddress()}}):t.$util.showToast({title:i.message}))},fail:function(i){e.hideLoading(),t.isSub=!1}})}},verify:function(){return!(1==this.orderPaymentData.exchange_info.type&&!this.orderPaymentData.member_address)||(this.$util.showToast({title:"请先选择您的收货地址"}),!1)},imgError:function(){var e="";e=1==this.orderPaymentData.exchange_info.type?this.$util.img("upload/uniapp/point/gift.png"):2==this.orderPaymentData.exchange_info.type?this.$util.img("upload/uniapp/point/coupon.png"):3==this.orderPaymentData.exchange_info.type?this.$util.img("upload/uniapp/point/hongbao.png"):this.$util.getDefaultImage().default_goods_img,this.orderPaymentData.exchange_info.image=e,this.$forceUpdate()},openChoosePayment:function(){this.verify()&&1==this.orderPaymentData.exchange_info.pay_type&&"0.00"!=this.orderPaymentData.exchange_info.price?this.$refs.choosePaymentPopup.open():this.orderCreate()}},onShow:function(){this.$langConfig.refresh(),e.getStorageSync("addressBack")&&e.removeStorageSync("addressBack"),e.getStorageSync("token")?this.getOrderPaymentData():this.$util.redirectTo("/pages/login/login/login"),this.isIphoneX=this.$util.uniappIsIPhoneX()},filters:{moneyFormat:function(e){return parseFloat(e).toFixed(2)}}};t.default=i}).call(this,i("543d")["default"])},fc66:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"核销明细"}},fcc5d:function(e,t,i){"use strict";(function(e){var o=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(i("2eee")),s=o(i("7037")),a=o(i("c973")),n=o(i("5bb4")),c=(o(i("d4b5")),o(i("78ed")),o(i("1525")),{redirectTo:function(t,i,o){for(var r=t,s=["/pages/index/index/index","/pages/goods/category/category","/pages/goods/cart/cart","/pages/member/index/index"],a=0;a<s.length;a++)if(-1!=t.indexOf(s[a]))return void e.switchTab({url:r});switch(void 0!=i&&Object.keys(i).forEach((function(e){-1!=r.indexOf("?")?r+="&"+e+"="+i[e]:r+="?"+e+"="+i[e]})),o){case"tabbar":e.switchTab({url:r});break;case"redirectTo":e.redirectTo({url:r});break;case"reLaunch":e.reLaunch({url:r});break;default:e.navigateTo({url:r})}},img:function(e,t){var i="";if(e&&void 0!=e&&""!=e){if(t&&e!=this.getDefaultImage().default_goods_img){var o=e.split("."),r=o[o.length-1];o.pop(),o[o.length-1]=o[o.length-1]+"_"+t.size,o.push(r),e=o.join(".")}i=-1==e.indexOf("http://")&&-1==e.indexOf("https://")?n.default.imgDomain+"/"+e:e}return i},timeStampTurnTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0!=e&&""!=e&&e>0){var i=new Date;i.setTime(1e3*e);var o=i.getFullYear(),r=i.getMonth()+1;r=r<10?"0"+r:r;var s=i.getDate();s=s<10?"0"+s:s;var a=i.getHours();a=a<10?"0"+a:a;var n=i.getMinutes(),c=i.getSeconds();return n=n<10?"0"+n:n,c=c<10?"0"+c:c,t?o+"-"+r+"-"+s:o+"-"+r+"-"+s+" "+a+":"+n+":"+c}return""},timeTurnTimeStamp:function(e){var t=e.split(" ",2),i=(t[0]?t[0]:"").split("-",3),o=(t[1]?t[1]:"").split(":",3);return new Date(parseInt(i[0],10)||null,(parseInt(i[1],10)||1)-1,parseInt(i[2],10)||null,parseInt(o[0],10)||null,parseInt(o[1],10)||null,parseInt(o[2],10)||null).getTime()/1e3},countDown:function(e){var t=0,i=0,o=0,r=0;return e>0&&(t=Math.floor(e/86400),i=Math.floor(e/3600)-24*t,o=Math.floor(e/60)-24*t*60-60*i,r=Math.floor(e)-24*t*60*60-60*i*60-60*o),t<10&&(t="0"+t),i<10&&(i="0"+i),o<10&&(o="0"+o),r<10&&(r="0"+r),{d:t,h:i,i:o,s:r}},unique:function(e,t){var i=new Map;return e.filter((function(e){return!i.has(e[t])&&i.set(e[t],1)}))},inArray:function(e,t){return null==t?-1:t.indexOf(e)},getDay:function(e){var t=new Date,i=t.getTime()+864e5*e;t.setTime(i);var o=function(e){var t=e;return 1==e.toString().length&&(t="0"+e),t},r=t.getFullYear(),s=t.getMonth(),a=t.getDate(),n=t.getDay(),c=parseInt(t.getTime()/1e3);s=o(s+1),a=o(a);return{t:c,y:r,m:s,d:a,w:["周日","周一","周二","周三","周四","周五","周六"][n]}},upload:function(t,i,o,s){var n={token:e.getStorageSync("token"),app_type:"weapp",app_type_name:"微信小程序"};n=Object.assign(n,i);var c=t,d=this;e.chooseImage({count:c,sizeType:["compressed"],sourceType:["album","camera"],success:function(){var e=(0,a.default)(r.default.mark((function e(t){var a,c,u,l,h;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.tempFilePaths,c=n,u=[],l=0;case 4:if(!(l<a.length)){e.next=12;break}return e.next=7,d.upload_file_server(a[l],c,i.path,s);case 7:h=e.sent,u.push(h);case 9:l++,e.next=4;break;case 12:"function"==typeof o&&o(u);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})},upload_file_server:function(t,i,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(r)var s=n.default.baseUrl+r;else s=n.default.baseUrl+"/api/upload/"+o;return new Promise((function(o,r){e.uploadFile({url:s,filePath:t,name:"file",formData:i,success:function(e){var t=JSON.parse(e.data);t.code>=0?o(t.data.pic_path):r("error")}})}))},copy:function(t,i){e.setClipboardData({data:t,success:function(){"function"==typeof i&&i()}})},isWeiXin:function(){return!1},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.title=t.title||"",t.icon=t.icon||"none",t.position=t.position||"bottom",t.duration=1500,e.showToast(t)},isIPhoneX:function(){var t=e.getSystemInfoSync();return-1!=t.model.search("iPhone X")},isAndroid:function(){var t=e.getSystemInfoSync().platform;return"ios"!=t&&("android"==t||void 0)},deepClone:function(e){var t=function(e){return"object"==(0,s.default)(e)};if(!t(e))throw new Error("obj 不是一个对象！");var i=Array.isArray(e),o=i?[]:{};for(var r in e)o[r]=t(e[r])?this.deepClone(e[r]):e[r];return o},refreshBottomNav:function(){var t=e.getStorageSync("bottom_nav");t=JSON.parse(t);for(var i=0;i<t.list.length;i++){var o=t.list[i],r={index:i};r.text=o.title,r.iconPath=this.img(o.iconPath),r.selectedIconPath=this.img(o.selectedIconPath),1==t.type||2==t.type||t.type,e.setTabBarItem(r)}},diyRedirectTo:function(e,t){if(null!=e&&""!=e&&e.wap_url)if(-1!=e.wap_url.indexOf("http"))this.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e.wap_url)});else{e.site_id&&e.site_id;this.redirectTo(e.wap_url)}},getDefaultImage:function(){var t=e.getStorageSync("default_img");return t?(t=JSON.parse(t),t.default_goods_img=this.img(t.default_goods_img),t.default_headimg=this.img(t.default_headimg),t.default_shop_img=this.img(t.default_shop_img),t.default_category_img=this.img(t.default_category_img),t.default_city_img=this.img(t.default_city_img),t.default_supply_img=this.img(t.default_supply_img),t.default_store_img=this.img(t.default_store_img),t.default_brand_img=this.img(t.default_brand_img),t):{default_goods_img:"",default_headimg:"",default_shop_img:"",default_category_img:"",default_city_img:"",default_supply_img:"",default_store_img:"",default_brand_img:""}},uniappIsIPhoneX:function(){var t=!1,i=e.getSystemInfoSync();return-1==i.model.search("iPhone X")&&-1==i.model.search("iPhone 11")&&-1==i.model.search("iPhone12")||(t=!0),t},uniappIsIPhone11:function(){var t=!1,i=e.getSystemInfoSync();return-1!=i.model.search("iPhone 11")&&(t=!0),t},jumpPage:function(t){for(var i=!0,o=getCurrentPages().reverse(),r=0;r<o.length;r++)if(-1!=t.indexOf(o[r].route)){i=!1,e.navigateBack({delta:r});break}i&&this.$util.diyRedirectTo(t)},getDistance:function(e,t,i,o){var r=e*Math.PI/180,s=i*Math.PI/180,a=r-s,n=t*Math.PI/180-o*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2)+Math.cos(r)*Math.cos(s)*Math.pow(Math.sin(n/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4,c},goBack:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/index/index/index";1==getCurrentPages().length?this.redirectTo(t):e.navigateBack()},numberFixed:function(e,t){return t||(t=0),Number(e).toFixed(t)},getUrlCode:function(e){var t=location.search,i=new Object;if(-1!=t.indexOf("?"))for(var o=t.substr(1),r=o.split("&"),s=0;s<r.length;s++)i[r[s].split("=")[0]]=r[s].split("=")[1];"function"==typeof e&&e(i)},getSitemessageDate:function(e){var t=new Date,i=Number(t.getFullYear()),o=Number(t.getMonth())+1,r=Number(t.getDate()),s=(Number(t.getHours()),Number(t.getMinutes()),e.split(" ")),a=Number(s[0].split("-")[0]),n=Number(s[0].split("-")[1]),c=Number(s[0].split("-")[2]),d=Number(s[1].split(":")[0]),u=Number(s[1].split(":")[1]),l=a+"-"+(n>=10?n:"0"+n)+"-"+(c>=10?c:"0"+c);return i>a?l:o>n||o==n&&r-c>1?(n>=10?n:"0"+n)+"-"+(c>=10?c:"0"+c):o==n&&r-c==1?"昨天"+(d>=10?d:"0"+d)+":"+(u>=10?u:"0"+u):(d>=10?d:"0"+d)+":"+(u>=10?u:"0"+u)}});t.default=c}).call(this,i("543d")["default"])},fd32:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"店内分类"}},fe46:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=void 0;t.lang={title:"余额明细"}},fe53:function(e,t,i){"use strict";(function(e,o){var r=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(i("2eee")),a=r(i("c973")),n=r(i("16e3")),c=(i("77ef"),{data:function(){return{skuId:0,groupId:0,pintuan_id:0,goodsSkuDetail:{goods_id:0,goods_service:[]},shopInfo:{logo:"",shop_baozh:0,shop_qtian:0,shop_zhping:0,shop_erxiaoshi:0,shop_tuihuo:0,shop_shiyong:0,shop_shiti:0,shop_xiaoxie:0},cartCount:0,whetherCollection:0,swiperInterval:1,swiperAutoplay:!1,swiperCurrent:1,switchMedia:"img",isIphoneX:!1,poster:"-1",posterMsg:"",posterHeight:0,goodsEvaluate:{member_headimg:"",member_name:"",content:"",images:[],create_time:0,sku_name:""},pintuanList:[],currentPintuan:{headimg:"",timeMachine:{}},openPopup:!1,memberId:0,contactData:{title:"",path:"",img:""},detailTab:0,service:{},showKefu:0,goodsCircle:!1,timestamp:"",newList:[],evaluateConfig:{evaluate_audit:1,evaluate_show:0,evaluate_status:1}}},onLoad:function(t){var i=this;if(this.pintuan_id=t.pintuan_id||0,this.groupId=t.group_id||0,this.isIphoneX=this.$util.uniappIsIPhoneX(),t.suid&&e.setStorageSync("suid",t.suid),t.scene){var o=decodeURIComponent(t.scene);o=o.split("&"),o.length&&o.forEach((function(t){-1!=t.indexOf("pintuan_id")&&(i.pintuan_id=t.split("-")[1]),-1!=t.indexOf("group_id")&&(i.group_id=t.split("-")[1]),-1!=t.indexOf("suid")&&e.setStorageSync("suid",t.split("-")[1])}))}},onShow:function(){var t=this;return(0,a.default)(s.default.mark((function i(){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.$langConfig.refresh(),t.$store.dispatch("getAddonIsexit").then(function(){var i=(0,a.default)(s.default.mark((function i(o){return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o.pintuan){i.next=5;break}t.$util.showToast({title:"拼团未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3),i.next=13;break;case 5:return e.getStorageSync("token")&&(t.getCartCount(),t.getMemberId()),t.canGoConnect(),t.getKekuConfig(),i.next=10,t.getGoodsSkuDetail();case 10:t.modifyGoodsInfo(),t.getEvaluateConfig(),t.getPintuanGroupList();case 13:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}());case 2:case"end":return i.stop()}}),i)})))()},methods:{canGoConnect:function(){var e=this;this.$api.sendRequest({url:"/api/addon/addonisexit",success:function(t){0==t.code&&t.data&&(e.showKefu=t.data.servicer)}})},goConnect:function(){if(e.getStorageSync("token")){var t={site_id:this.shopInfo.site_id,sku_id:this.goodsSkuDetail.sku_id,type:"pintuan",type_id:this.goodsSkuDetail.pintuan_id};return this.$util.redirectTo("/otherpages/chat/room/room",t),!1}this.$refs.login.open("/pages/goods/detail/detail?sku_id="+this.goodsSkuDetail.sku_id)},getGoodsSkuDetail:function(){var t=this;return(0,a.default)(s.default.mark((function i(){var o,r,a,c,d;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$api.sendRequest({url:"/pintuan/api/goods/detail",async:!1,data:{pintuan_id:t.pintuan_id}});case 2:if(o=i.sent,r=o.data,null!=r.goods_sku_detail){if(t.goodsSkuDetail=r.goods_sku_detail,t.shopInfo=r.shop_info,t.goodsSkuDetail.group_id=t.groupId,t.skuId=t.goodsSkuDetail.sku_id,t.goodsSkuDetail.goods_service=[],1==t.shopInfo.shop_baozh&&t.goodsSkuDetail.goods_service.push({service_name:"保证服务",desc:"保证服务"}),1==t.shopInfo.shop_qtian&&t.goodsSkuDetail.goods_service.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==t.shopInfo.shop_zhping&&t.goodsSkuDetail.goods_service.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==t.shopInfo.shop_erxiaoshi&&t.goodsSkuDetail.goods_service.push({service_name:"两小时发货",desc:"付款后2小时内发货"}),1==t.shopInfo.shop_tuihuo&&t.goodsSkuDetail.goods_service.push({service_name:"退货承诺",desc:"退货承诺"}),1==t.shopInfo.shop_shiyong&&t.goodsSkuDetail.goods_service.push({service_name:"试用中心",desc:"试用中心"}),1==t.shopInfo.shop_shiti&&t.goodsSkuDetail.goods_service.push({service_name:"实体验证",desc:"实体验证"}),1==t.shopInfo.shop_xiaoxie&&t.goodsSkuDetail.goods_service.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}),t.goodsSkuDetail.end_time-o.timestamp>0?t.goodsSkuDetail.timeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-o.timestamp):(t.$util.showToast({title:"活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.goodsSkuDetail.end_time-o.timestamp>0?t.goodsSkuDetail.timeMachine=t.$util.countDown(t.goodsSkuDetail.end_time-o.timestamp):(t.$util.showToast({title:"活动已结束"}),setTimeout((function(){t.$util.redirectTo("/pages/goods/detail/detail",{sku_id:t.goodsSkuDetail.sku_id},"redirectTo")}),1e3)),t.goodsSkuDetail.video_url&&(t.switchMedia="video"),t.goodsSkuDetail.sku_images?t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.split(","):t.goodsSkuDetail.sku_images=[],t.goodsSkuDetail.goods_spec_format&&t.goodsSkuDetail.goods_image&&(t.goodsSkuDetail.goods_image=t.goodsSkuDetail.goods_image.split(","),t.goodsSkuDetail.sku_images=t.goodsSkuDetail.sku_images.concat(t.goodsSkuDetail.goods_image)),t.goodsSkuDetail.unit=t.goodsSkuDetail.unit||"件",t.goodsSkuDetail.show_price=0==t.goodsSkuDetail.group_id?t.goodsSkuDetail.promotion_price:t.goodsSkuDetail.pintuan_price,t.goodsSkuDetail.save_price=t.goodsSkuDetail.price-t.goodsSkuDetail.show_price>0?(t.goodsSkuDetail.price-t.goodsSkuDetail.show_price).toFixed(2):0,t.goodsSkuDetail.sku_spec_format&&(t.goodsSkuDetail.sku_spec_format=JSON.parse(t.goodsSkuDetail.sku_spec_format)),t.goodsSkuDetail.goods_attr_format)for(a=JSON.parse(t.goodsSkuDetail.goods_attr_format),t.goodsSkuDetail.goods_attr_format=t.$util.unique(a,"attr_id"),c=0;c<t.goodsSkuDetail.goods_attr_format.length;c++)for(d=0;d<a.length;d++)t.goodsSkuDetail.goods_attr_format[c].attr_id==a[d].attr_id&&t.goodsSkuDetail.goods_attr_format[c].attr_value_id!=a[d].attr_value_id&&(t.goodsSkuDetail.goods_attr_format[c].attr_value_name+="、"+a[d].attr_value_name);t.goodsSkuDetail.goods_spec_format&&(t.goodsSkuDetail.goods_spec_format=JSON.parse(t.goodsSkuDetail.goods_spec_format)),t.$langConfig.title(t.goodsSkuDetail.goods_name),t.goodsSkuDetail.goods_content&&(t.goodsSkuDetail.goods_content=(0,n.default)(t.goodsSkuDetail.goods_content)),t.contactData={title:t.goodsSkuDetail.sku_name,path:"/promotionpages/pintuan/detail/detail?pintuan_id="+t.pintuan_id,img:t.$util.img(t.goodsSkuDetail.sku_image,{size:"big"})},e.getStorageSync("token")&&t.getWhetherCollection(),t.setWechatShare(),t.getService(),t.$refs.loadingCover&&t.$refs.loadingCover.hide(),t.getGoodScircleConfig()}else t.$util.redirectTo("/pages/index/index/index",{},"reLaunch");case 5:case"end":return i.stop()}}),i)})))()},refreshGoodsSkuDetail:function(e){var t=this;Object.assign(this.goodsSkuDetail,e),this.goodsSkuDetail.unit=this.goodsSkuDetail.unit||"件",this.swiperCurrent>this.goodsSkuDetail.sku_images.length&&(this.swiperAutoplay=!0,this.swiperCurrent=1,setTimeout((function(){t.swiperAutoplay=!1}),40))},goHome:function(){this.$util.redirectTo("/otherpages/shop/index/index",{site_id:this.shopInfo.site_id})},goCart:function(){this.$util.redirectTo("/pages/goods/cart/cart",{},"reLaunch")},pintuan:function(){var t=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.getStorageSync("token")?(i&&this.resetPrice(),this.$refs.goodsSku.show("pintuan",(function(){t.resetPrice()}))):this.$refs.login.open("/promotionpages/pintuan/detail/detail?pintuan_id="+this.pintuan_id+"&group_id="+this.groupId)},buyNow:function(){e.getStorageSync("token")?this.$refs.goodsSku.show("buy_now",(function(){})):this.$refs.login.open("/promotionpages/pintuan/detail/detail?pintuan_id="+this.pintuan_id)},swiperChange:function(e){this.swiperCurrent=e.detail.current+1},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()},openAttributePopup:function(){this.$refs.attributePopup.open()},closeAttributePopup:function(){this.$refs.attributePopup.close()},getGoodsEvaluate:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/firstinfo",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;i&&(e.goodsEvaluate=i,e.goodsEvaluate.images&&(e.goodsEvaluate.images=e.goodsEvaluate.images.split(",")),1==e.goodsEvaluate.is_anonymous&&(e.goodsEvaluate.member_name=e.goodsEvaluate.member_name.replace(e.goodsEvaluate.member_name.substring(1,e.goodsEvaluate.member_name.length-1),"***")))}})},previewEvaluate:function(t,i){for(var o=[],r=0;r<this.goodsEvaluate[i].length;r++)o.push(this.$util.img(this.goodsEvaluate[i][r]));e.previewImage({current:t,urls:o})},getWhetherCollection:function(){var e=this;this.$api.sendRequest({url:"/api/goodscollect/iscollect",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){e.whetherCollection=t.data}})},editCollection:function(){var t=this;e.getStorageSync("token")?0==this.whetherCollection?this.$api.sendRequest({url:"/api/goodscollect/add",data:{sku_id:this.skuId},success:function(e){var i=e.data;i>0&&(t.whetherCollection=1)}}):this.$api.sendRequest({url:"/api/goodscollect/delete",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(e){var i=e.data;i>0&&(t.whetherCollection=0)}}):this.$refs.login.open("/promotionpages/pintuan/detail/detail?pintuan_id="+this.pintuan_id)},getCartCount:function(){var e=this;this.$store.dispatch("getCartNumber").then((function(t){e.cartCount=t}))},modifyGoodsInfo:function(){this.$api.sendRequest({url:"/api/goods/modifyclicks",data:{sku_id:this.skuId,site_id:this.goodsSkuDetail.site_id},success:function(e){}}),this.$api.sendRequest({url:"/api/goodsbrowse/add",data:{sku_id:this.skuId},success:function(e){}})},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},openPosterPopup:function(){var t=this;this.getGoodsPoster(),this.$refs.sharePopup.close(),this.$refs.posterPopup.open(),"-1"!=this.poster&&setTimeout((function(){var i=e.createSelectorQuery().in(t).select(".poster-layer .image-wrap");i.fields({size:!0},(function(i){var o=i.width,r=parseFloat((740/o).toFixed(2));e.getStorageSync("token"),t.posterHeight=parseInt(1100/r)})).exec()}),100)},closePosterPopup:function(){this.$refs.posterPopup.close()},getGoodsPoster:function(){var e=this,t={id:this.goodsSkuDetail.sku_id};this.memberId&&(t.suid=this.memberId),this.$api.sendRequest({url:"/pintuan/api/goods/poster",data:{page:"/promotionpages/pintuan/detail/detail",qrcode_param:JSON.stringify(t)},success:function(t){0==t.code?e.poster=t.data.path+"?time="+(new Date).getTime():e.posterMsg=t.message}})},previewMedia:function(t){for(var i=[],o=0;o<this.goodsSkuDetail.sku_images.length;o++)i.push(this.$util.img(this.goodsSkuDetail.sku_images[o],{size:"big"}));e.previewImage({current:t,urls:i})},getPintuanGroupList:function(){var e=this;this.$api.sendRequest({url:"/pintuan/api/pintuangroup/lists",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){var i=t.data;if(e.timestamp=t.timestamp,null!=i&&i.length){e.pintuanList=i;for(var o=0;o<e.pintuanList.length;o++)e.pintuanList[o]["end_time"]>t.timestamp?(e.pintuanList[o].timeMachine=e.$util.countDown(e.pintuanList[o]["end_time"]-t.timestamp),e.pintuanList[o].currentTime=t.timestamp):e.pintuanList[o].timeMachine=null;e.newList=e.pintuanList.filter((function(e){return e.end_time>t.timestamp})),e.$forceUpdate()}}})},openPinTuan:function(e,t,i,o){var r=this;this.openPopup=!0,this.currentPintuan={groupId:e,pintuan_num:t,timeMachine:this.$util.countDown(i),headimg:o},this.$refs.pintuanPopup.open((function(){r.goodsSkuDetail.group_id=0,r.openPopup=!1}))},toPinTuan:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.openPopup=!0,this.currentPintuan={groupId:"",pintuan_num:"",timeMachine:"",headimg:""};for(var i=0;i<this.newList.length;i++)this.goodsSkuDetail.group_id==this.newList[i].group_id&&(this.currentPintuan.groupId=this.newList[i].group_id,this.currentPintuan.pintuan_num=this.newList[i].pintuan_num-this.newList[i].pintuan_count,this.currentPintuan.timeMachine=this.$util.countDown(this.newList[i].end_time-this.newList[i].currentTime),this.currentPintuan.headimg=this.newList[i].headimg);this.$refs.pintuanPopup.open((function(){t||(e.goodsSkuDetail.group_id=0),e.openPopup=!1}))},closePinTuanPopup:function(){this.$refs.pintuanPopup.close()},joinPintuan:function(){this.closePinTuanPopup(),this.goodsSkuDetail.group_id=this.currentPintuan.groupId,this.goodsSkuDetail.show_price=this.goodsSkuDetail.pintuan_price,this.goodsSkuDetail.save_price=this.goodsSkuDetail.price-this.goodsSkuDetail.show_price>0?(this.goodsSkuDetail.price-this.goodsSkuDetail.show_price).toFixed(2):0,this.$forceUpdate(),this.pintuan(!1)},swiperImgError:function(e){this.goodsSkuDetail.sku_images[e]=this.$util.getDefaultImage().default_goods_img,this.$forceUpdate()},pintuanImgError:function(e){this.pintuanList[e].headimg=this.$util.getDefaultImage().default_headimg,this.$forceUpdate()},saveGoodsPoster:function(){var t=this,i=this.$util.img(this.poster);e.downloadFile({url:i,success:function(i){200===i.statusCode&&e.saveImageToPhotosAlbum({filePath:i.tempFilePath,success:function(){t.$util.showToast({title:"保存成功"})},fail:function(){t.$util.showToast({title:"保存失败，请稍后重试"})}})}})},getMemberId:function(){var e=this;this.$api.sendRequest({url:"/api/member/id",success:function(t){t.code>=0&&(e.memberId=t.data)}})},getService:function(){var e=this;this.$api.sendRequest({url:"/api/goods/aftersale",data:{site_id:this.goodsSkuDetail.site_id},success:function(t){0==t.code&&t.data&&(e.service=t.data)}})},setWechatShare:function(){},getGoodScircleConfig:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/config/info",success:function(t){0==t.code&&t.data.is_use&&e.goodsSyncToGoodsCircle()}})},goodsSyncToGoodsCircle:function(){var e=this;this.$api.sendRequest({url:"/goodscircle/api/goods/sync",data:{goods_id:this.goodsSkuDetail.goods_id},success:function(t){0==t.code&&(e.goodsCircle=!0)}})},openBusinessView:function(){var e=this;o.openBusinessView&&o.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:this.goodsSkuDetail.goods_id,title:this.goodsSkuDetail.sku_name,image_list:this.goodsSkuDetail.sku_images.map((function(t){return e.$util.img(t)}))}},success:function(e){console.log("success",e)},fail:function(e){console.log("fail",e)}})},getEvaluateConfig:function(){var e=this;this.$api.sendRequest({url:"/api/goodsevaluate/config",success:function(t){if(0==t.code){var i=t.data;e.evaluateConfig=i,1==e.evaluateConfig.evaluate_show&&e.getGoodsEvaluate()}}})},copyUrl:function(){var e=this,t=this.$config.h5Domain+"/promotionpages/pintuan/detail/detail?pintuan_id="+this.pintuan_id+"&group_id="+this.groupId;this.memberId&&(t+="&suid="+this.memberId),this.$util.copy(t,(function(){e.closeSharePopup()}))},getKekuConfig:function(){var e=this;this.$api.sendRequest({url:"/api/config/servicer",success:function(t){0==t.code&&(e.kefuConfig=t.data)}})},toEvaluateDetail:function(e){this.$util.redirectTo("/otherpages/goods/evaluate/evaluate",{goods_id:e})},navigate:function(e,t){this.$util.redirectTo("/otherpages/webview/webview",{link:encodeURIComponent(e)})},openVideo:function(e,t){this.$util.redirectTo("/otherpages/goods/preview-video",{video_url:e,video_img:t})},errorShopLogo:function(){this.shopInfo.avatar=this.$util.getDefaultImage().default_shop_img,this.$forceUpdate()},resetPrice:function(){this.goodsSkuDetail.group_id=0,this.goodsSkuDetail.show_price=this.goodsSkuDetail.promotion_price,this.goodsSkuDetail.save_price=this.goodsSkuDetail.price-this.goodsSkuDetail.show_price>0?(this.goodsSkuDetail.price-this.goodsSkuDetail.show_price).toFixed(2):0,this.$forceUpdate()}}});t.default=c}).call(this,i("543d")["default"],i("bc2e")["default"])}}]);