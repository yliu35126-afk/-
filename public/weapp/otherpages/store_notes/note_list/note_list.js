(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["otherpages/store_notes/note_list/note_list"],{"0724":function(t,e,n){"use strict";n.r(e);var o=n("453b"),i=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=i.a},"0da9":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("3a80");o(n("66fd"));var i=o(n("b78f"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"1c24":function(t,e,n){},2836:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var o={loadingCover:function(){return n.e("components/loading-cover/loading-cover").then(n.bind(null,"5203"))},nsEmpty:function(){return n.e("components/ns-empty/ns-empty").then(n.bind(null,"da15"))},nsLogin:function(){return Promise.all([n.e("common/vendor"),n.e("components/ns-login/ns-login")]).then(n.bind(null,"3584"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,0!=t.groupInfo.currId?t.noteListInfo.length:null),o=0!=t.groupInfo.currId&&n?t.__map(t.noteListInfo,(function(e,n){var o=t.__get_orig(e),i=0==e.cover_type?t.$util.img(e.cover_img):null,s=0!=e.cover_type?t.__map(e.img,(function(e,n){var o=t.__get_orig(e),i=t.$util.img(e);return{$orig:o,g2:i}})):null,r=1==e.is_show_release_time?t.$util.timeStampTurnTime(e.create_time,"time"):null;return{$orig:o,g1:i,l0:s,g3:r}})):null,i=t.showEmpty&&0==t.noteListInfo.length;t.$mp.data=Object.assign({},{$root:{g0:n,l1:o,g4:i}})},s=[]},"3b14":function(t,e,n){"use strict";var o=n("1c24"),i=n.n(o);i.a},"453b":function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("0f13")),s={data:function(){return{groupInfo:{groupList:[],currIdent:0,currId:0},noteListInfo:[],giveLikeFlag:!1,showEmpty:!1,siteId:0}},onShow:function(){var t=this;this.$langConfig.refresh(),this.$store.dispatch("getAddonIsexit").then((function(e){e.notes?(t.getGroup(),t.$refs.mescroll&&t.$refs.mescroll.refresh()):(t.$util.showToast({title:"店铺笔记未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3))}))},onLoad:function(t){this.siteId=parseInt(t.site_id)||0},mixins:[i.default],methods:{getGroup:function(){var t=this;this.showEmpty=!1,this.$api.sendRequest({url:"/notes/api/notes/group",success:function(e){t.showEmpty=!0,0==e.code?0!=e.data.length&&(t.groupInfo.groupList=e.data,t.groupInfo.currId=e.data[0].group_id):t.$util.showToast({title:e.message})},fail:function(e){mescroll.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},tabCut:function(t,e){this.groupInfo.currIdent=e,this.groupInfo.currId=t,this.$refs.mescroll.refresh(),this.$refs.loadingCover&&this.$refs.loadingCover.show()},getNotesList:function(t){var e=this;this.showEmpty=!1,this.$api.sendRequest({url:"/notes/api/notes/lists",data:{page:t.num,page_size:t.size,group_id:this.groupInfo.currId,site_id:this.siteId},success:function(n){e.showEmpty=!0;var o=[];0==n.code?o=n.data.list:e.$util.showToast({title:n.message}),t.endSuccess(o.length),1==t.num&&(e.noteListInfo=[]),e.noteListInfo=e.noteListInfo.concat(o),e.noteListInfo.forEach((function(t,e){t.img=t.cover_img.split(","),t.label=t.goods_highlights.split(",")})),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(n){t.endErr(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},noteDetail:function(t){this.$util.redirectTo("/otherpages/store_notes/note_detail/note_detail",{note_id:t})},giveLike:function(e,n){var o=this;if(t.getStorageSync("token")){if(this.giveLikeFlag)return!1;this.giveLikeFlag=!0;var i=1==this.noteListInfo[n].is_dianzan?"/notes/api/record/delete":"/notes/api/record/add";this.$api.sendRequest({url:i,data:{note_id:e},success:function(t){o.giveLikeFlag=!1,0==t.code&&t.data>0?(o.noteType,o.noteListInfo[n].dianzan_num=1==o.noteListInfo[n].is_dianzan?o.noteListInfo[n].dianzan_num-1:o.noteListInfo[n].dianzan_num+1,o.noteListInfo[n].is_dianzan=1==o.noteListInfo[n].is_dianzan?0:1):o.$util.showToast({title:t.message})}})}else this.$refs.login.open("/otherpages/store_notes/note_list/note_list")}}};e.default=s}).call(this,n("543d")["default"])},"69af":function(t,e,n){"use strict";var o=n("8a45"),i=n.n(o);i.a},"8a45":function(t,e,n){},b78f:function(t,e,n){"use strict";n.r(e);var o=n("2836"),i=n("0724");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("3b14"),n("69af");var r=n("f0c5"),a=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"6f2ca03a",null,!1,o["a"],void 0);e["default"]=a.exports}},[["0da9","common/runtime","common/vendor"]]]);