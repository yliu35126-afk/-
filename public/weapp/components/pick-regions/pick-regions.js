(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/pick-regions/pick-regions"],{2587:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){}));var a=function(){var e=this.$createElement;this._self._c},i=[]},"5f9f":function(e,t,r){"use strict";r.r(t);var a=r("8a6f"),i=r.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(n);t["default"]=i.a},"678e":function(e,t,r){"use strict";r.r(t);var a=r("2587"),i=r("5f9f");for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);var u=r("f0c5"),l=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=l.exports},"8a6f":function(e,t,r){"use strict";var a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("2eee")),n=a(r("278c")),u=a(r("c973")),l={props:{defaultRegions:{type:Array}},data:function(){return{pickerValueArray:[],cityArr:[],districtArr:[],multiIndex:[0,0,0],isInitMultiArray:!1,isLoadDefaultAreas:!1}},watch:{defaultRegions:{handler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];3===e.length&&e.join("")!==t.join("")&&this.handleDefaultRegions()},immediate:!0}},computed:{multiArray:function(){if(this.isLoadDefaultAreas){var e=this.pickedArr.map((function(e){return e.map((function(e){return e.label}))}));return e}},pickedArr:function(){return this.isInitMultiArray?[this.pickerValueArray[0],this.pickerValueArray[1],this.pickerValueArray[2]]:[this.pickerValueArray[0],this.cityArr,this.districtArr]}},created:function(){this.getDefaultAreas(0,{level:0})},methods:{handleColumnChange:function(e){var t=this;return(0,u.default)(i.default.mark((function r(){var a,n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.isInitMultiArray=!1,a=e.detail.column,n=e.detail.value,t.multiIndex[a]=n,r.t0=a,r.next=0===r.t0?7:1===r.t0?14:2===r.t0?18:19;break;case 7:return r.next=9,t.getAreasAsync(t.pickerValueArray[0][t.multiIndex[a]].value);case 9:return t.cityArr=r.sent,r.next=12,t.getAreasAsync(t.cityArr[0].value);case 12:return t.districtArr=r.sent,r.abrupt("break",19);case 14:return r.next=16,t.getAreasAsync(t.cityArr[t.multiIndex[a]].value);case 16:return t.districtArr=r.sent,r.abrupt("break",19);case 18:return r.abrupt("break",19);case 19:case"end":return r.stop()}}),r)})))()},handleValueChange:function(e){var t=(0,n.default)(e.detail.value,3),r=t[0],a=t[1],i=t[2],u=(0,n.default)(this.pickedArr,3),l=u[0],s=u[1],c=u[2],d=[l[r],s[a],c[i]];this.$emit("getRegions",d)},handleDefaultRegions:function(){var e=this,t=setInterval((function(){if(e.isLoadDefaultAreas){e.isInitMultiArray=!1;for(var r=0;r<e.defaultRegions.length;r++)for(var a=function(t){e.defaultRegions[r]==e.pickerValueArray[r][t].value&&1==e.pickerValueArray[r][t].level&&(e.$set(e.multiIndex,r,t),e.getAreas(e.pickerValueArray[r][t].value,(function(r){e.cityArr=r;for(var a=function(r){if(e.defaultRegions[1]==e.cityArr[r].value)return e.$set(e.multiIndex,1,r),e.getAreas(e.cityArr[r].value,(function(a){e.districtArr=a;for(var i=0;i<e.districtArr.length;i++)if(e.defaultRegions[2]==e.districtArr[i].value){e.$set(e.multiIndex,2,i),e.handleValueChange({detail:{value:[t,r,i]}});break}})),"break"},i=0;i<e.cityArr.length;i++){var n=a(i);if("break"===n)break}})))},i=0;i<e.pickerValueArray[r].length;i++)a(i);e.isLoadDefaultAreas&&clearInterval(t)}}),100)},getDefaultAreas:function(e,t){var r=this;this.$api.sendRequest({url:"/api/address/lists",data:{pid:e},success:function(e){if(0==e.code){var a=[],i=void 0;e.data.forEach((function(e,r){void 0!=t&&(0==t.level&&void 0!=t.province_id?i=t.province_id:1==t.level&&void 0!=t.city_id?i=t.city_id:2==t.level&&void 0!=t.district_id&&(i=t.district_id)),void 0==i&&0==r&&(i=e.id),a.push({value:e.id,label:e.name,level:e.level})})),r.pickerValueArray[t.level]=a,t.level+1<3?(t.level++,r.getDefaultAreas(i,t)):(r.isInitMultiArray=!0,r.isLoadDefaultAreas=!0)}}})},getAreasAsync:function(e){var t=this;return(0,u.default)(i.default.mark((function r(){var a,n;return i.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$api.sendRequest({url:"/api/address/lists",data:{pid:e},async:!1});case 2:if(a=r.sent,0!=a.code){r.next=7;break}return n=[],a.data.forEach((function(e,t){n.push({value:e.id,label:e.name,level:e.level})})),r.abrupt("return",n);case 7:case"end":return r.stop()}}),r)})))()},getAreas:function(e,t){this.$api.sendRequest({url:"/api/address/lists",data:{pid:e},success:function(e){if(0==e.code){var r=[];e.data.forEach((function(e,t){r.push({value:e.id,label:e.name,level:e.level})})),t&&t(r)}}})}}};t.default=l}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/pick-regions/pick-regions-create-component',
    {
        'components/pick-regions/pick-regions-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("678e"))
        })
    },
    [['components/pick-regions/pick-regions-create-component']]
]);
