(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-shop-category-category"],{"33ad":function(e,i,t){"use strict";t("7a82");var o=t("ee27").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=o(t("fc11"));t("ac1f");var a=o(t("f79e")),s=(o(t("f647")),o(t("c827"))),r={components:{diyBottomNav:s.default,diyShopInfo:a.default},data:function(){return{siteId:0,diyData:{global:{title:"",bgTopColor:"",textColor:""}},isIphoneX:!1,windowHeight:0}},onLoad:function(e){this.iphoneX=this.$util.uniappIsIPhoneX(),e.site_id?(this.siteId=e.site_id,this.getDiyInfo(),this.getHeight()):this.$util.redirectTo("/otherpages/shop/index/index",{},"redirectTo")},onShow:function(){this.$langConfig.refresh()},methods:{getHeight:function(){var e=this;uni.getSystemInfo({success:function(i){var t=0;setTimeout((function(){e.$nextTick((function(){var o=uni.createSelectorQuery().in(e);o.select(".page-shop-info").boundingClientRect((function(o){t+=o.height,t+=57,e.windowHeight=i.windowHeight-t})).exec()}))}),1e3)}})},netFinish:function(e){var i=this;e&&this.$refs.loadingCover&&this.$refs.loadingCover.hide(),setTimeout((function(){i.$refs.loadingCover&&i.$refs.loadingCover.hide()}),1e3)},getDiyInfo:function(){var e=this;this.$api.sendRequest({url:"/api/diyview/info",data:(0,n.default)({site_id:this.siteId,name:"DIY_VIEW_SHOP_GOODS_CATEGORY"},"site_id",this.siteId),success:function(i){if(0==i.code&&i.data){if(e.diyData=i.data,e.diyData.value){e.diyData=JSON.parse(e.diyData.value);for(var t=0;t<e.diyData.value.length;t++)if("PopWindow"==e.diyData.value[t].controller){setTimeout((function(){if(null!=uni.getStorageSync("index_wap_floating_layer")&&""!=uni.getStorageSync("index_wap_floating_layer")){var i=JSON.parse(uni.getStorageSync("index_wap_floating_layer"));i.closeNum<3&&e.$refs.uniPopup[0].open()}else e.$refs.uniPopup[0].open()}),500);break}}uni.stopPullDownRefresh(),e.$refs.loadingCover&&e.$refs.loadingCover.hide()}else e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(i){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})}}};i.default=r},"43fb":function(e,i,t){"use strict";t("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("a9e3"),t("14d9");var o={data:function(){return{shopInfo:{logo:"",site_name:"",sub_num:0,shop_sales:0,shop_desccredit:0,shop_servicecredit:0,shop_deliverycredit:0},hasFollow:!1,goodsService:[],serviceShow:!1}},props:{value:{type:Object,default:null},siteId:{type:[Number,String],default:0},type:{type:Number,default:0}},watch:{siteId:function(){this.getShopInfo(),this.isFollow()}},created:function(){this.getShopInfo(),this.isFollow();var e=getCurrentPages(),i=e[e.length-1].route;"otherpages/shop/introduce/introduce"!=i&&(this.serviceShow=!0)},methods:{follow:function(){var e=this,i=this;uni.getStorageSync("token")?this.hasFollow?uni.showModal({title:"提示",content:"真的要取消关注嘛",success:function(e){e.confirm&&i.$api.sendRequest({url:"/api/shopmember/delete",data:{site_id:i.siteId},success:function(e){0==e.code&&e.data&&(i.hasFollow=!i.hasFollow,i.$util.showToast({title:"取消成功"})),i.$forceUpdate()}})}}):this.$api.sendRequest({url:"/api/shopmember/add",data:{site_id:this.siteId},success:function(i){if(-1==i.code&&"TOKEN_ERROR"==i.error_code)return e.$util.showToast({title:"登录失败"}),void setTimeout((function(){e.$util.redirectTo("/pages/login/login/login",{back:"/otherpages/shop/index/index?site_id="+e.siteId},"redirectTo")}),1e3);0==i.code&&(e.hasFollow=!e.hasFollow,e.$util.showToast({title:"关注成功"})),e.$forceUpdate()}}):this.$util.redirectTo("/pages/login/login/login",{back:"/otherpages/shop/index/index?site_id="+this.siteId},"redirectTo")},toIntroduction:function(){"otherpages/shop/introduce/introduce"!=getCurrentPages()[getCurrentPages().length-1].route&&this.$util.redirectTo("/otherpages/shop/introduce/introduce",{site_id:this.siteId})},getShopInfo:function(){var e=this;this.$api.sendRequest({url:"/api/shop/info",data:{site_id:this.siteId},success:function(i){0==i.code&&(e.shopInfo=i.data,e.goodsService=[],1==e.shopInfo.shop_baozh&&e.goodsService.push({service_name:"保证服务",desc:"保证服务"}),1==e.shopInfo.shop_qtian&&e.goodsService.push({service_name:"7天退换",desc:"满足7天无理由退换货申请的前提下，包邮商品需要买家承担退货邮费，非包邮商品需要买家承担发货和退货邮费"}),1==e.shopInfo.shop_zhping&&e.goodsService.push({service_name:"正品保障",desc:"商品支持正品保障服务"}),1==e.shopInfo.shop_erxiaoshi&&e.goodsService.push({service_name:"快速发货",desc:"付款后2小时内发货"}),1==e.shopInfo.shop_tuihuo&&e.goodsService.push({service_name:"退货承诺",desc:"退货承诺"}),1==e.shopInfo.shop_shiyong&&e.goodsService.push({service_name:"试用中心",desc:"试用中心"}),1==e.shopInfo.shop_shiti&&e.goodsService.push({service_name:"实体验证",desc:"实体验证"}),1==e.shopInfo.shop_xiaoxie&&e.goodsService.push({service_name:"消协保证",desc:"如有商品质量问题、描述不符或未收到货等，您有权申请退款或退货，来回邮费由卖家承担"}))}})},isFollow:function(){var e=this;this.$api.sendRequest({url:"/api/shopmember/issubscribe",data:{site_id:this.siteId},success:function(i){0==i.code&&(e.hasFollow=i.data)}})},openMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.open()},closeMerchantsServicePopup:function(){this.$refs.merchantsServicePopup.close()}}};i.default=o},4662:function(e,i,t){"use strict";var o=t("c775"),n=t.n(o);n.a},"624b":function(e,i,t){var o=t("24fb");i=o(!1),i.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.shop-info[data-v-0ca9b714]{margin:0 0;padding:%?20?%;box-sizing:border-box;display:flex;align-items:center;position:relative;box-sizing:border-box;background:#fff}.shop-service[data-v-0ca9b714]{background-color:#fff;display:flex;padding-left:%?92?%;padding-bottom:%?10?%;width:100%;box-sizing:border-box;position:relative}.shop-service .item-wrap[data-v-0ca9b714]{margin-left:%?30?%;display:flex;align-items:baseline}.shop-service .item-wrap .iconfont[data-v-0ca9b714]{margin-right:%?4?%;font-size:%?26?%}.shop-service > .iconfont[data-v-0ca9b714]{font-size:%?28?%;line-height:2;color:#999;position:absolute;right:%?24?%;top:%?-1?%}.shop-image[data-v-0ca9b714]{width:%?80?%;height:%?80?%;border-radius:50%;overflow:hidden;margin-right:%?20?%;border:%?1?% solid #eee}.shop-image uni-image[data-v-0ca9b714]{width:100%;height:100%}.shop-con[data-v-0ca9b714]{width:calc(80% - %?80?% - %?20?%);color:#fff}.info-top[data-v-0ca9b714]{width:100%;display:flex;justify-content:space-between;align-items:center;margin-bottom:%?4?%}.info-top .info-name[data-v-0ca9b714]{width:60%;font-size:%?30?%;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info-top .info-name .icongengduo[data-v-0ca9b714]{font-size:%?26?%;margin-top:%?2?%;font-weight:400;font-weight:500;margin-left:%?10?%}uni-button[size="mini"].info-follow[data-v-0ca9b714]{line-height:%?50?%;padding:0 %?20?%!important;height:%?50?%;position:absolute;right:%?30?%;top:%?45?%;display:flex;align-items:center}uni-button[size="mini"].info-follow.hasFollow[data-v-0ca9b714]{color:#fff;background-color:#ccc}uni-button[size="mini"].info-follow .iconfont[data-v-0ca9b714]{margin-right:%?10?%;font-size:%?24?%}uni-button[size="mini"].info-follow uni-image[data-v-0ca9b714]{width:%?25?%;height:%?25?%;margin-right:%?8?%}uni-button[size="mini"].info-follow .iconfont.active[data-v-0ca9b714]{margin-right:%?10?%;font-size:%?24?%;color:#fff}.info-desc[data-v-0ca9b714]{width:100%;display:flex;align-items:center}.info-desc .desc-star[data-v-0ca9b714]{display:flex;align-items:center;font-size:%?20?%;color:#fa6400;margin-right:%?30?%}.info-desc .desc-star uni-image[data-v-0ca9b714]{width:%?24?%;height:%?24?%;margin-right:%?5?%;margin-bottom:%?4?%}.info-desc .fans[data-v-0ca9b714]{font-size:%?22?%;color:#666}.info-desc .sale[data-v-0ca9b714]{color:#666;font-size:%?22?%}.info-desc .line[data-v-0ca9b714]{margin:0 %?14?%;background-color:#999;width:%?2?%;height:%?24?%}.popup-layer[data-v-0ca9b714]{background:#fff}.popup-layer .head-wrap[data-v-0ca9b714]{font-size:%?32?%;line-height:%?100?%;height:%?100?%;display:block;text-align:center}.popup-layer .head-wrap .iconfont[data-v-0ca9b714]{position:absolute;float:right;right:22px;font-size:%?32?%}.popup-layer .button-box[data-v-0ca9b714]{width:100%;position:absolute;bottom:0;z-index:1;margin-bottom:%?30?%}.popup-layer .button-box uni-button[data-v-0ca9b714]{height:%?80?%}.goods-merchants-service-popup-layer[data-v-0ca9b714]{height:%?660?%}.goods-merchants-service-popup-layer uni-scroll-view[data-v-0ca9b714]{position:absolute;left:0;right:0;height:65%}.goods-merchants-service-popup-layer uni-scroll-view .item[data-v-0ca9b714]{padding:0 %?30?%;height:%?120?%;line-height:%?100?%;border-bottom:%?2?% solid #eee}.goods-merchants-service-popup-layer uni-scroll-view .item[data-v-0ca9b714]:last-child{border-bottom:none}.goods-merchants-service-popup-layer uni-scroll-view .item .iconfont[data-v-0ca9b714]{display:inline-block;margin-right:%?20?%;font-size:%?32?%;vertical-align:top}.goods-merchants-service-popup-layer uni-scroll-view .item .info-wrap[data-v-0ca9b714]{display:inline-block;vertical-align:middle;width:90%}.goods-merchants-service-popup-layer uni-scroll-view .item .info-wrap .title[data-v-0ca9b714]{display:block;font-size:%?28?%}.goods-merchants-service-popup-layer uni-scroll-view .item .info-wrap .describe[data-v-0ca9b714]{font-size:%?24?%;color:#909399;display:block;padding:%?10?% 0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.goods-merchants-service-popup-layer uni-scroll-view .item.empty-desc[data-v-0ca9b714]{height:%?100?%}.goods-merchants-service-popup-layer uni-scroll-view .item.empty-desc .iconfont[data-v-0ca9b714]{vertical-align:middle}',""]),e.exports=i},"7b7f":function(e,i,t){var o=t("24fb");i=o(!1),i.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.page-shop-info[data-v-682b7296]{overflow:hidden}.active[data-v-682b7296] .newpage1{height:calc(100vh - 134px)!important}.no[data-v-682b7296] .newpage1{height:calc(100vh - 100px)!important}',""]),e.exports=i},"7fb7":function(e,i,t){"use strict";t.r(i);var o=t("33ad"),n=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(i,e,(function(){return o[e]}))}(a);i["default"]=n.a},"815c":function(e,i,t){"use strict";t.r(i);var o=t("bae1"),n=t("7fb7");for(var a in n)["default"].indexOf(a)<0&&function(e){t.d(i,e,(function(){return n[e]}))}(a);t("d773");var s=t("f0c5"),r=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"682b7296",null,!1,o["a"],void 0);i["default"]=r.exports},ad26:function(e,i,t){var o=t("7b7f");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=t("4f06").default;n("476d0c71",o,!0,{sourceMap:!1,shadowMode:!1})},bae1:function(e,i,t){"use strict";t.d(i,"b",(function(){return n})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){return o}));var o={diyShopInfo:t("f79e").default,diyGoodsLevelCategory:t("f647").default,loadingCover:t("fbc8").default,diyBottomNav:t("c827").default},n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"page"},[t("v-uni-view",{staticClass:"page-shop-info"},[t("diy-shop-info",{attrs:{siteId:e.siteId}})],1),e._l(e.diyData.value,(function(i,o){return t("v-uni-view",{key:o},["GoodsCategory"==i.controller?[t("v-uni-view",{class:e.iphoneX?"active":"no"},[t("diy-goods-level-category",{attrs:{value:i,siteId:e.siteId,autoHeight:!1,categoryHeight:e.windowHeight},on:{netFinish:function(i){arguments[0]=i=e.$handleEvent(i),e.netFinish.apply(void 0,arguments)}}})],1)]:e._e()],2)})),t("loading-cover",{ref:"loadingCover"}),t("diy-bottom-nav",{attrs:{type:"shop",siteId:e.siteId}})],2)},a=[]},c775:function(e,i,t){var o=t("624b");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=t("4f06").default;n("8987c2cc",o,!0,{sourceMap:!1,shadowMode:!1})},d773:function(e,i,t){"use strict";var o=t("ad26"),n=t.n(o);n.a},e809:function(e,i,t){"use strict";t.d(i,"b",(function(){return o})),t.d(i,"c",(function(){return n})),t.d(i,"a",(function(){}));var o=function(){var e=this,i=e.$createElement,t=e._self._c||i;return e.shopInfo?t("v-uni-view",[t("v-uni-view",{staticClass:"shop-info"},[t("v-uni-view",{staticClass:"shop-image"},[e.shopInfo.avatar?t("v-uni-image",{attrs:{src:e.$util.img(e.shopInfo.avatar),mode:"aspectFit"},on:{error:function(i){arguments[0]=i=e.$handleEvent(i),e.shopInfo.avatar=e.$util.getDefaultImage().default_shop_img}}}):t("v-uni-image",{attrs:{src:e.$util.getDefaultImage().default_shop_img,mode:"aspectFit"}})],1),t("v-uni-view",{staticClass:"shop-con"},[t("v-uni-view",{staticClass:"info-top",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toIntroduction()}}},[t("v-uni-view",{staticClass:"info-name",style:e.value?"color:"+e.value.color:"#303133"},[e._v(e._s(e.shopInfo.site_name)),t("v-uni-text",{staticClass:"iconfont icongengduo"})],1)],1),t("v-uni-view",{staticClass:"info-desc",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toIntroduction()}}},[t("v-uni-view",{staticClass:"desc-star"},[t("v-uni-image",{attrs:{src:this.$util.img("upload/uniapp/shop/shop_collect_select.png")}}),t("v-uni-text",[e._v(e._s(((parseFloat(e.shopInfo.shop_desccredit)+parseFloat(e.shopInfo.shop_servicecredit)+parseFloat(e.shopInfo.shop_deliverycredit))/3).toFixed(1)))])],1),t("v-uni-text",{staticClass:"sale"},[e._v("已售"+e._s(e.shopInfo.shop_sales))]),t("v-uni-text",{staticClass:"line"}),t("v-uni-text",{staticClass:"fans"},[e._v("粉丝 "+e._s(e.shopInfo.sub_num))])],1)],1),e.hasFollow?t("v-uni-button",{staticClass:"info-follow hasFollow",attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.follow()}}},[t("v-uni-text",[e._v("已关注")])],1):e._e(),e.hasFollow?e._e():t("v-uni-button",{staticClass:"info-follow",attrs:{type:"warn",size:"mini"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.follow()}}},[t("v-uni-image",{attrs:{src:this.$util.img("upload/uniapp/shop/shio_collect.png")}}),t("v-uni-text",[e._v("关注")])],1)],1),e.goodsService.length>0?t("v-uni-view",{staticClass:"shop-service",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toIntroduction()}}},[e._l(e.goodsService,(function(i,o){return o<3?t("v-uni-view",{key:o,staticClass:"item-wrap"},[t("v-uni-text",{staticClass:"iconfont icondui color-base-text"}),t("v-uni-text",[e._v(e._s(i.service_name))])],1):e._e()})),e.serviceShow?t("v-uni-text",{staticClass:"iconfont iconright"}):e._e()],2):e._e()],1):e._e()},n=[]},f1f1:function(e,i,t){"use strict";t.r(i);var o=t("43fb"),n=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(i,e,(function(){return o[e]}))}(a);i["default"]=n.a},f79e:function(e,i,t){"use strict";t.r(i);var o=t("e809"),n=t("f1f1");for(var a in n)["default"].indexOf(a)<0&&function(e){t.d(i,e,(function(){return n[e]}))}(a);t("4662");var s=t("f0c5"),r=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"0ca9b714",null,!1,o["a"],void 0);i["default"]=r.exports}}]);