(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["promotionpages-bargain-launch-launch"],{"0f53":function(t,i,n){"use strict";n("7a82");var e=n("ee27").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n("e25e"),n("99af"),n("acd8"),n("ac1f");var a=e(n("f81e")),o=e(n("319c")),r=e(n("7b4a")),s={components:{LTime:a.default,uniPopup:o.default},data:function(){return{windowHeight:0,id:0,info:{headimg:""},bargainRecord:[],page:1,totalPage:1,load:!1,timeMachine:null,memberId:0,bargainMoney:"0.00"}},onLoad:function(t){this.getHeight(),t.id&&(this.id=t.id)},computed:{cutMoney:function(){return this.info.price-this.info.curr_price},surplusMoney:function(){return this.info.curr_price-this.info.floor_price},progress:function(){var t=this.info.price-this.info.floor_price,i=parseInt(this.cutMoney/t*100);return isNaN(i)?0:i}},onShow:function(){var t=this;this.$langConfig.refresh(),this.$store.dispatch("getAddonIsexit").then((function(i){if(i.bargain)if(t.getBargainInfo(),uni.getStorageSync("token"))t.getMemberId();else{var n=encodeURIComponent("/promotionpages/bargain/launch/launch?id="+t.id);t.$util.redirectTo("/pages/login/login/login",{back:n},"redirectTo")}else t.$util.showToast({title:"砍价未开启",mask:!0}),setTimeout((function(){t.$util.redirectTo("/pages/index/index/index",{},"redirectTo")}),1e3)}))},mixins:[r.default],methods:{getHeight:function(){var t=this;uni.getSystemInfo({success:function(i){t.windowHeight=i.windowHeight-44,t.iphoneX&&(t.windowHeight=t.windowHeight-33)}})},getBargainInfo:function(){var t=this;this.$api.sendRequest({url:"/bargain/api/bargain/info",data:{id:this.id},success:function(i){0==i.code?(t.info=i.data,0==t.info.status?uni.setNavigationBarTitle({title:"砍价进行中"}):1==t.info.status?uni.setNavigationBarTitle({title:"砍价成功"}):2==t.info.status&&uni.setNavigationBarTitle({title:"砍价失败"}),t.getBargainRecord(1),0==t.info.status&&(t.timeMachine=t.$util.countDown(t.info.end_time-i.timestamp)),t.$refs.loadingCover&&t.$refs.loadingCover.hide()):uni.getStorageSync("token")&&t.$util.redirectTo("/promotionpages/bargain/my_bargain/my_bargain")},fail:function(i){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},getBargainRecord:function(t){var i=this;this.load||(this.load=!0,this.$api.sendRequest({url:"/bargain/api/bargain/record",data:{page:t,id:this.info.launch_id},success:function(n){i.load=!1,i.totalPage=n.data.page_count,i.page=t,0==n.code&&n.data.list.length&&(i.bargainRecord=1==t?n.data.list:i.bargainRecord.concat(n.data.list))}}))},scrolltolower:function(){var t=this.page+1;!this.load&&t<=this.totalPage&&this.getBargainRecord(t)},buyNow:function(){var t=this;uni.setStorage({key:"bargainOrderCreateData",data:{launch_id:this.info.launch_id},success:function(i){t.$util.redirectTo("/promotionpages/bargain/payment/payment")}})},bargain:function(){var t=this;uni.getStorageSync("token")?this.$api.sendRequest({url:"/bargain/api/bargain/bargain",data:{id:this.info.launch_id},success:function(i){0==i.code&&(t.bargainMoney=parseFloat(i.data.bargain_money).toFixed(2),t.$refs.uniPopup.open(),t.getBargainInfo())}}):this.$refs.login.open("/promotionpages/bargain/launch/launch?id="+this.id)},getMemberId:function(){var t=this;this.$api.sendRequest({url:"/api/member/id",success:function(i){i.code>=0&&(t.memberId=i.data,t.token=uni.getStorageSync("token"))}})},closePopup:function(){this.$refs.uniPopup.close()},openSharePopup:function(){this.$refs.sharePopup.open()},closeSharePopup:function(){this.$refs.sharePopup.close()},copyUrl:function(){var t=this,i="嘿！朋友就差你这一刀了，帮一下忙呗~"+this.$config.h5Domain+"/promotionpages/bargain/launch/launch?id="+this.id;this.memberId&&(i+="&suid="+this.memberId),this.$util.copy(i,(function(){t.closeSharePopup()}))},closeNum:function(){this.$refs.sharePopup.close()},toBargainRecode:function(){var t=uni.createSelectorQuery().select(".bargin_introduction");t.boundingClientRect((function(t){uni.pageScrollTo({duration:100,scrollTop:t.top+100})})).exec()}},filters:{moneyFormat:function(t){return parseFloat(t).toFixed(2)},cover:function(t){return"string"==typeof t&&t.length>0?t.substr(0,1)+"******"+t.substr(-1):""}},onShareAppMessage:function(){var t="/promotionpages/bargain/launch/launch?id="+this.id;return this.memberId&&(t+="&suid="+this.memberId),{title:"嘿！朋友就差你这一刀了，帮一下忙呗~",imageUrl:this.$util.img(this.info.sku_image,{size:"big"}),path:t,success:function(t){},fail:function(t){}}},onReachBottom:function(){this.scrolltolower()}};i.default=s},1256:function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.uni-countdown[data-v-e9e34d7a]{padding:%?2?% 0;display:inline-flex;flex-wrap:nowrap;justify-content:center}.uni-countdown__splitor[data-v-e9e34d7a]{justify-content:center;line-height:%?44?%;padding:0 %?5?%;font-size:%?24?%}.uni-countdown__splitor.day[data-v-e9e34d7a]{line-height:%?50?%}.uni-countdown__number[data-v-e9e34d7a]{line-height:%?44?%;justify-content:center;height:%?44?%;border-radius:%?6?%;margin:0 %?5?%;font-size:%?28?%;border:1px solid #000;font-size:%?24?%;padding:0 %?10?%}',""]),t.exports=i},"14c5e":function(t,i,n){"use strict";n.r(i);var e=n("a8e5"),a=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=a.a},"2a30":function(t,i,n){"use strict";n.r(i);var e=n("dfcc"),a=n("f125");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(o);n("3a6c"),n("ac54");var r=n("f0c5"),s=Object(r["a"])(a["default"],e["b"],e["c"],!1,null,"59e91952",null,!1,e["a"],void 0);i["default"]=s.exports},"34eb":function(t,i,n){var e=n("4f82");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("d2b62014",e,!0,{sourceMap:!1,shadowMode:!1})},"3a6c":function(t,i,n){"use strict";var e=n("34eb"),a=n.n(e);a.a},"40bb":function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,"[data-v-59e91952] .uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box{overflow-y:unset;background:none!important}[data-v-59e91952] .reward-popup .uni-popup__wrapper-box{background:none!important;max-width:unset!important;max-height:unset!important}",""]),t.exports=i},"4f82":function(t,i,n){var e=n("24fb");i=e(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */[data-v-59e91952] .uni-countdown__number{padding:0 %?4?%;line-height:%?36?%;height:%?36?%}[data-v-59e91952] .uni-countdown__splitor.day{line-height:%?36?%}.bargain[data-v-59e91952]{background-size:cover;background-repeat:repeat-y;padding-bottom:%?100?%}.bargain .bargain_top[data-v-59e91952]{height:%?160?%;background-size:100% auto;background-repeat:no-repeat}.bargain .bargin_content[data-v-59e91952]{background-color:#fff;border-radius:%?20?%;margin:%?24?%;padding-bottom:%?60?%}.bargain .bargin_content .uer_info_base[data-v-59e91952]{display:flex;position:relative;padding:%?30?% 0}.bargain .bargin_content .uer_info_base .user_info_img[data-v-59e91952]{background-color:#fff;width:%?150?%;height:%?150?%;margin-top:%?-80?%;margin-left:%?50?%;border-radius:50%;border:2px solid #fff;overflow:hidden}.bargain .bargin_content .uer_info_base .user_info_img uni-image[data-v-59e91952]{width:100%;height:100%}.bargain .bargin_content .uer_info_base .user_info_name[data-v-59e91952]{margin-left:%?30?%;color:#909399;align-self:center}.bargain .bargin_content .uer_info_base .rule_detail[data-v-59e91952]{position:absolute;height:%?34?%;line-height:%?34?%;padding:0 %?12?%;line-height:%?34?%;font-size:%?18?%;border:1px solid;right:%?24?%;top:%?30?%;border-radius:%?34?%}.bargain .bargin_content .bargin_propaganda[data-v-59e91952]{display:flex;justify-content:space-between;margin:0 %?27?%;font-size:%?36?%;color:#333;font-weight:700}.bargain .bargin_content .bargin_propaganda .marks[data-v-59e91952]{font-size:%?68?%;line-height:1;color:#b0b0b0}.bargain .bargin_content .goods[data-v-59e91952]{display:flex;margin-top:%?40?%;margin-left:%?24?%;margin-right:%?24?%;padding:%?24?%;background-color:#fafafa;border-radius:%?10?%;overflow:hidden}.bargain .bargin_content .goods .goods_img[data-v-59e91952]{min-width:%?180?%;width:%?180?%;height:%?180?%;margin-right:%?20?%;border-radius:%?10?%}.bargain .bargin_content .goods .goods_img uni-image[data-v-59e91952]{width:100%;height:100%}.bargain .bargin_content .goods .goods_content[data-v-59e91952]{flex:1;overflow:hidden}.bargain .bargin_content .goods .goods_content .goods_title[data-v-59e91952]{line-height:1;font-size:%?30?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:%?10?%}.bargain .bargin_content .goods .goods_content .goods_price[data-v-59e91952]{display:flex}.bargain .bargin_content .goods .goods_content .goods_price > uni-view[data-v-59e91952]{color:#666;font-size:%?22?%;margin-right:%?20?%}.bargain .bargin_content .goods .goods_content .goods_price > uni-view .original_price[data-v-59e91952]{text-decoration:line-through}.bargain .bargin_content .goods .goods_content .goods_price > uni-view .bottom_price[data-v-59e91952]{color:#fe0b42}.bargain .bargin_content .goods .goods_content .partake_num[data-v-59e91952]{font-size:%?22?%;color:#666}.bargain .bargin_content .goods .goods_content .partake_num .residue-num[data-v-59e91952]{margin-left:%?10?%}.bargain .bargin_content .goods .goods_content .partake_num .ident[data-v-59e91952]{color:#fe0b42}.bargain .bargin_content .progress_info[data-v-59e91952]{display:flex;justify-content:space-between;margin:%?40?% %?24?% 0}.bargain .bargin_content .progress_info > uni-view[data-v-59e91952]{font-size:%?20?%;color:#666}.bargain .bargin_content .progress_info > uni-view uni-text[data-v-59e91952]{color:#fe0b42}.bargain .bargin_content .progress[data-v-59e91952]{position:relative;margin:%?11?% %?24?% 0;height:%?30?%;background-color:#f2f2f2;border-radius:%?30?%}.bargain .bargin_content .progress .progress_item[data-v-59e91952]{width:5%;position:absolute;left:0;border-radius:%?30?%;height:%?30?%;background:linear-gradient(90deg,#ffa800 0,#ffe852);-webkit-animation:all 1s forwards;animation:all 1s forwards}.bargain .bargin_content .progress .progress_item .progress_img[data-v-59e91952]{position:absolute;right:%?-27?%;top:%?-12?%;height:%?54?%;width:%?54?%}.bargain .bargin_content .bragain_recode[data-v-59e91952]{display:flex;align-items:center;justify-content:space-between;margin:%?58?% %?24?% %?20?%}.bargain .bargin_content .bragain_recode .bragain_recode_list[data-v-59e91952]{display:flex;margin:0 %?26?%}.bargain .bargin_content .bragain_recode .bragain_recode_list .bragain_recode_add[data-v-59e91952]{margin-left:%?44?%}.bargain .bargin_content .bragain_recode .bragain_recode_list uni-image[data-v-59e91952]{width:%?84?%;height:%?84?%;border:%?4?% solid #fe0b42;border-radius:50%;margin-left:%?-22?%}.bargain .bargin_content .bragain_recode .bragain_recode_list uni-image[data-v-59e91952]:first-child{margin-left:0}.bargain .bargin_content .bragain_recode .bragain_recode_more[data-v-59e91952]{width:%?84?%;height:%?84?%;line-height:%?84?%;text-align:center;font-size:%?12?%;color:#999}.bargain .bargin_content .bragain_recode .bragain_recode_add[data-v-59e91952]{width:%?84?%;height:%?84?%;line-height:%?76?%;text-align:center;border-radius:50%;border:1px dashed #e6e6e6;font-size:%?60?%;color:#e6e6e6}.bargain .bargin_content .bragain_recode_detail[data-v-59e91952]{font-size:%?24?%;color:#000;margin:0 %?34?% 0}.bargain .bargin_content .bragain_recode_detail .iconfont[data-v-59e91952]{font-size:%?24?%;color:#333}.bargain .bargin_content .invitation_peo[data-v-59e91952]{margin-top:%?40?%;margin:%?28?% %?30?% 0}.bargain .bargin_content .invitation_peo .tip[data-v-59e91952]{text-align:center;color:#fe0b42;font-size:%?22?%}.bargain .bargin_content .invitation_peo .flex-box[data-v-59e91952]{display:flex}.bargain .bargin_content .invitation_peo .flex-box uni-button[data-v-59e91952]{flex:1}.bargain .bargin_content .invitation_peo .flex-box uni-button[data-v-59e91952]:nth-child(2){margin-left:%?20?%}.bargain .bargin_content .invitation_peo .btn[data-v-59e91952]{height:%?80?%;line-height:%?80?%;background:linear-gradient(180deg,#ffe852,#ffa800);border-radius:%?80?%;text-align:center;font-size:%?30?%;color:#ff222c;font-weight:700;margin:%?20?% 0}.bargain .bargin_content .invitation_peo .btn-vice[data-v-59e91952]{height:%?80?%;line-height:%?80?%;background:linear-gradient(180deg,#ff6e6e,#fb3939);border-radius:%?80?%;text-align:center;font-size:%?30?%;color:#ff222c;font-weight:700;margin:%?20?% 0;color:#fff}.bargain .bargin_introduction[data-v-59e91952]{margin:%?24?%}.bargain .bargin_introduction .record-empty[data-v-59e91952]{text-align:center;font-size:%?24?%;color:#999;padding:%?100?% 0;background-color:#fff;border-radius:%?20?%}.bargain .bargin_introduction .bargin_introduction_title[data-v-59e91952]{display:flex;align-items:center;justify-content:center;font-size:%?36?%;color:#fff;font-weight:500;padding:%?40?% 0}.bargain .bargin_introduction .bargin_introduction_title uni-image[data-v-59e91952]{width:%?180?%;height:%?8?%}.bargain .bargin_introduction .bargin_introduction_title uni-image.left[data-v-59e91952]{margin-right:%?13?%}.bargain .bargin_introduction .bargin_introduction_title uni-image.right[data-v-59e91952]{margin-left:%?13?%}.bargain .bargin_introduction .flow[data-v-59e91952]{display:flex;background-color:#fff;border-radius:%?20?%;padding:%?56?% 0}.bargain .bargin_introduction .flow .flow_item[data-v-59e91952]{position:relative;flex:1;text-align:center}.bargain .bargin_introduction .flow .flow_item uni-image[data-v-59e91952]{width:%?88?%;height:%?88?%;margin-bottom:%?20?%}.bargain .bargin_introduction .flow .flow_item > uni-view[data-v-59e91952]{color:#fd0742;font-size:%?24?%}.bargain .bargin_introduction .flow .flow_item[data-v-59e91952]::after{position:absolute;content:"";height:%?2?%;width:%?100?%;background-color:#fd0742;top:%?44?%;right:-22%}.bargain .bargin_introduction .flow .flow_item[data-v-59e91952]:last-child::after{width:0}.bargain .bargin_introduction .bargin_invitation[data-v-59e91952]{background-color:#fff;border-radius:%?20?%;padding:%?27?%}.bargain .bargin_introduction .bargin_invitation .item[data-v-59e91952]{display:flex;align-items:center;padding:%?20?% 0}.bargain .bargin_introduction .bargin_invitation .item .item_left[data-v-59e91952]{flex:1;display:flex;overflow:hidden}.bargain .bargin_introduction .bargin_invitation .item .item_left uni-image[data-v-59e91952]{height:%?70?%;width:%?70?%;border:2px solid #ff222c;border-radius:50%;margin-right:%?20?%}.bargain .bargin_introduction .bargin_invitation .item .item_left > uni-view[data-v-59e91952]{flex:1;overflow:hidden}.bargain .bargin_introduction .bargin_invitation .item .item_left > uni-view .title[data-v-59e91952]{font-size:%?22?%;white-space:nowrap;\r\n  /* 不换行 */overflow:hidden;text-overflow:ellipsis}.bargain .bargin_introduction .bargin_invitation .item .item_left > uni-view .tip[data-v-59e91952]{font-size:%?20?%;color:#666}.bargain .bargin_introduction .bargin_invitation .item .item_right[data-v-59e91952]{min-width:%?100?%;color:#ff222c;font-size:%?20?%}.bargain .bargin_introduction .bargin_invitation .item .item_right uni-text[data-v-59e91952]{font-size:%?24?%}.bargain .bargin_introduction .bargin_invitation .item_more[data-v-59e91952]{margin-top:%?20?%;text-align:center;font-size:%?20?%;color:#999}.bargain-popup[data-v-59e91952]{width:80vw;padding:%?60?%;background-color:#fff;position:relative;box-sizing:border-box;border-radius:%?20?%}.bargain-popup .head[data-v-59e91952]{width:55%;position:absolute;left:50%;top:0;-webkit-transform:translate(-50%,-70%);transform:translate(-50%,-70%)}.bargain-popup .title[data-v-59e91952]{text-align:center;font-size:%?32?%;margin-top:%?40?%}.bargain-popup .money[data-v-59e91952]{text-align:center}.bargain-popup .money .num[data-v-59e91952]{font-size:%?36?%;font-weight:600}.bargain-popup .money .unit[data-v-59e91952]{font-size:%?24?%;margin-left:%?8?%}.iconroundclose[data-v-59e91952]{display:block;font-size:%?60?%;color:#fff;text-align:center}.share-popup .share-title[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-title[data-v-59e91952]{line-height:%?60?%;font-size:%?32?%;padding:%?15?% 0;text-align:center}.share-popup .share-content[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-content[data-v-59e91952]{display:flex;display:-webkit-flex;-webkit-flex-wrap:wrap;-moz-flex-wrap:wrap;-ms-flex-wrap:wrap;-o-flex-wrap:wrap;flex-wrap:wrap;padding:%?15?%}.share-popup .share-content .share-box[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-content .share-box[data-v-59e91952]{flex:1;text-align:center}.share-popup .share-content .share-box .share-btn[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-content .share-box .share-btn[data-v-59e91952]{margin:0;padding:0;border:none;line-height:1;height:auto}.share-popup .share-content .share-box .share-btn uni-text[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-content .share-box .share-btn uni-text[data-v-59e91952]{margin-top:%?20?%;font-size:%?24?%;display:block;color:#303133}.share-popup .share-content .share-box .iconfont[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-content .share-box .iconfont[data-v-59e91952]{font-size:%?80?%;line-height:normal}.share-popup .share-content .share-box .iconfuzhilianjie[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-content .share-box .iconfuzhilianjie[data-v-59e91952]{color:#07c160}.share-popup .share-footer[data-v-59e91952],\r\n.uni-popup__wrapper-box .share-footer[data-v-59e91952]{height:%?90?%;line-height:%?90?%;border-top:%?2?% #f5f5f5 solid;text-align:center;color:#666}',""]),t.exports=i},"6c18":function(t,i,n){"use strict";n("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n("ac1f"),n("00b4"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("d3b7"),n("99af"),Function.prototype.asyAfter=function(t){var i=this;return function(){var n=i.apply(this,arguments);return"next"===n?t.apply(this,arguments):n}},Date.prototype.pattern=function(t){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[this.getDay()+""])),i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t};var e=function(){},a=e.prototype;a.getUnix=function(){return(new Date).getTime()},a.getTodayUnix=function(){var t=new Date,i="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate()," 00:00:00");return new Date(i).getTime()},a.getYearUnix=function(){var t=new Date;return t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()},a.getLastDate=function(t){if(t){var i=new Date(t);if(i.pattern)return i.pattern("yyyy-MM-dd");var n=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,e=i.getDate()<10?"0"+i.getDate():i.getDate();return i.getFullYear()+"-"+n+"-"+e}};var o=new RegExp("-","g");a.getFormatTime=function(t,i){if(!t)return"";switch(function(t){return/^\[object\s(.*)\]$/.exec(Object.prototype.toString.call(t))[1]}(t)){case"Date":t=t.getTime();break;case"String":t=t.replace(o,"/");default:t=new Date(t).getTime();break}var n=this.getUnix(),e=(this.getYearUnix(),(n-t)/1e3);if(t>n&&i)return this.getLastDate(t);return function(t,i){var n=function(t){return t<=0||Math.floor(t/60)<=0?"刚刚":"next"}.asyAfter((function(t){return t<3600?Math.floor(t/60)+"分钟前":"next"})).asyAfter((function(t,i){var n=r.getTodayUnix();return t>=3600&&i-n>=0?Math.floor(t/60/60)+"小时前":"next"})).asyAfter((function(t,i){var n=r.getTodayUnix();return t=(n-i)/1e3,t/86400<=31?Math.ceil(t/86400)+"天前":"next"})).asyAfter((function(t,i){return r.getLastDate(i)}));return n(t,i)}(e,t)};var r=new e,s=r;i.default=s},"77d4":function(t,i,n){"use strict";n.d(i,"b",(function(){return e})),n.d(i,"c",(function(){return a})),n.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"uni-countdown"},[t.showDay&&t.d>0?n("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.d))]):t._e(),t.showDay&&t.d>0?n("v-uni-view",{staticClass:"uni-countdown__splitor day",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s((t.showColon,"天")))]):t._e(),n("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.h))]),n("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"时"))]),n("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.i))]),n("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v(t._s(t.showColon?":":"分"))]),n("v-uni-view",{staticClass:"uni-countdown__number ",class:[t.backgroundColorClass,t.colorClass,t.borderColorClass],style:{borderColor:t.borderColor,color:t.color,background:t.backgroundColor}},[t._v(t._s(t.s))]),t.showColon?t._e():n("v-uni-view",{staticClass:"uni-countdown__splitor",class:t.splitorColorClass,style:{color:t.splitorColor}},[t._v("秒")])],1)},a=[]},"7afa":function(t,i,n){"use strict";n.r(i);var e=n("f331"),a=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=a.a},"8a79":function(t,i,n){"use strict";var e=n("23e7"),a=n("4625"),o=n("06cf").f,r=n("50c4"),s=n("577e"),c=n("5a34"),u=n("1d80"),l=n("ab13"),d=n("c430"),g=a("".slice),f=Math.min,p=l("endsWith"),v=!d&&!p&&!!function(){var t=o(String.prototype,"endsWith");return t&&!t.writable}();e({target:"String",proto:!0,forced:!v&&!p},{endsWith:function(t){var i=s(u(this));c(t);var n=arguments.length>1?arguments[1]:void 0,e=i.length,a=void 0===n?e:f(r(n),e),o=s(t);return g(i,a-o.length,a)===o}})},a8e5:function(t,i,n){"use strict";n("7a82");var e=n("ee27").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n("a9e3"),n("8a79");var a=e(n("6c18")),o={name:"l-time",props:{text:{type:[String,Number,Date],default:""},maxDate:{type:Boolean,default:!1}},data:function(){return{textVal:this.text}},watch:{text:function(){this.textVal=this.text}},computed:{temp:function(){return this.getText()}},methods:{getText:function(){var t=this,i=a.default.getFormatTime(t.textVal,t.maxDate);return i&&(i.endsWith("刚刚")||i.endsWith("分钟前"))&&setTimeout((function(){var i=t.textVal;t.textVal="",t.textVal=i}),6e4),this.textVal?i:""},onClick:function(){this.$emit("on-tap",this.textVal)}}};i.default=o},ac54:function(t,i,n){"use strict";var e=n("fd5c"),a=n.n(e);a.a},bb4a:function(t,i,n){var e=n("1256");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("124037c6",e,!0,{sourceMap:!1,shadowMode:!1})},c566:function(t,i,n){"use strict";var e=n("bb4a"),a=n.n(e);a.a},cd1e:function(t,i,n){"use strict";n.r(i);var e=n("77d4"),a=n("7afa");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(o);n("c566");var r=n("f0c5"),s=Object(r["a"])(a["default"],e["b"],e["c"],!1,null,"e9e34d7a",null,!1,e["a"],void 0);i["default"]=s.exports},dfcc:function(t,i,n){"use strict";n.d(i,"b",(function(){return a})),n.d(i,"c",(function(){return o})),n.d(i,"a",(function(){return e}));var e={uniCountDown:n("cd1e").default,uniPopup:n("319c").default,loadingCover:n("fbc8").default},a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"bargain",style:{backgroundImage:"url("+t.$util.img("upload/uniapp/bargain/bargain_background1.png")+")"},attrs:{"data-theme":t.themeStyle}},[n("v-uni-view",{staticClass:"bargain_top",style:{backgroundImage:"url("+t.$util.img("upload/uniapp/bargain/bargain_background.png")+")"}}),n("v-uni-view",{staticClass:"bargin_content"},[n("v-uni-view",{staticClass:"uer_info_base"},[n("v-uni-view",{staticClass:"user_info_img"},[n("v-uni-image",{attrs:{src:""==t.info.headimg?t.$util.img(t.$util.getDefaultImage().default_headimg):t.$util.img(t.info.headimg),mode:"widthFix"}})],1),n("v-uni-text",{staticClass:"user_info_name"},[t._v(t._s(t._f("cover")(t.info.nickname)))])],1),n("v-uni-view",{staticClass:"bargin_propaganda"},[n("v-uni-text",{staticClass:"marks"},[t._v("“")]),n("v-uni-text",[t._v("我发现一件好物，快来帮我砍一刀")]),n("v-uni-text",{staticClass:"marks"},[t._v("”")])],1),n("v-uni-view",{staticClass:"goods"},[n("v-uni-view",{staticClass:"goods_img"},[n("v-uni-image",{attrs:{src:t.$util.img(t.info.sku_image),mode:"aspectFit"}})],1),n("v-uni-view",{staticClass:"goods_content"},[n("v-uni-view",{staticClass:"goods_title"},[t._v(t._s(t.info.sku_name))]),n("v-uni-view",{staticClass:"goods_price"},[n("v-uni-view",[t._v("原价"),n("v-uni-text",{staticClass:"original_price"},[t._v(t._s(t.$lang("common.currencySymbol"))+t._s(t.info.price))])],1),n("v-uni-view",[t._v("最低可砍至"),n("v-uni-text",{staticClass:"bottom_price"},[t._v(t._s(t.$lang("common.currencySymbol"))+t._s(t.info.floor_price))])],1)],1),n("v-uni-view",{staticClass:"partake_num"},[t._v("已有"),n("v-uni-text",{staticClass:"ident"},[t._v(t._s(t.info.curr_num))]),t._v("人帮砍"),n("v-uni-text",{staticClass:"residue-num"},[t._v("剩余数量"),n("v-uni-text",{staticClass:"ident"},[t._v(t._s(t.info.bargain_stock))])],1)],1),t.timeMachine?n("v-uni-view",[t._v("还剩"),n("uni-count-down",{attrs:{day:t.timeMachine.d,hour:t.timeMachine.h,minute:t.timeMachine.i,second:t.timeMachine.s,color:"#fff",splitorColor:"#333 !important",backgroundColor:"#000","border-color":"transparent"}})],1):t._e()],1)],1),n("v-uni-view",{staticClass:"progress_info"},[n("v-uni-view",[t._v("已砍至"),n("v-uni-text",[t._v(t._s(t._f("moneyFormat")(t.info.curr_price)))]),t._v("元")],1),n("v-uni-view",[t._v("最低"+t._s(t.info.floor_price)+"元")])],1),n("v-uni-view",{staticClass:"progress"},[n("v-uni-view",{staticClass:"progress_item",style:{width:(t.progress>5?t.progress:5)+"%"}},[n("v-uni-image",{staticClass:"progress_img",attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_progress.png")}})],1)],1),t.bargainRecord.length?[n("v-uni-view",{staticClass:"bragain_recode"},[n("v-uni-view",{staticClass:"bragain_recode_list"},[t._l(t.bargainRecord,(function(i,e){return[e<4?n("v-uni-image",{key:e+"_0",attrs:{src:""==i.headimg?t.$util.img(t.$util.getDefaultImage().default_headimg):t.$util.img(i.headimg)}}):t._e()]})),t.bargainRecord.length<5?t._l(5-t.bargainRecord.length,(function(i,e){return n("v-uni-view",{staticClass:"bragain_recode_add"},[t._v("+")])})):t._e()],2),5==t.bargainRecord.length?n("v-uni-view",{staticClass:"bragain_recode_more"},[t._v("●●●")]):t._e(),5==t.bargainRecord.length?n("v-uni-view",{staticClass:"bragain_recode_add"},[t._v("+")]):t._e()],1),n("v-uni-view",{staticClass:"bragain_recode_detail",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toBargainRecode.apply(void 0,arguments)}}},[t._v("已有"+t._s(t.info.curr_num)+"人帮砍，查看砍价记录"),n("v-uni-text",{staticClass:"iconfont iconright"})],1)]:t._e(),n("v-uni-view",{staticClass:"invitation_peo"},[t.info.self?n("v-uni-view",{staticClass:"flex-box"},[0==t.info.status?[0==t.info.buy_type?n("v-uni-button",{staticClass:"btn-vice",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.buyNow.apply(void 0,arguments)}}},[t._v("不砍了，直接购买")]):t._e(),n("v-uni-button",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openSharePopup.apply(void 0,arguments)}}},[t._v("喊好友来砍一刀")])]:t._e(),1==t.info.status?[n("v-uni-button",{staticClass:"btn-vice",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("低价拿更多商品")]),0==t.info.order_id?n("v-uni-button",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.buyNow.apply(void 0,arguments)}}},[t._v("立即购买")]):t._e()]:t._e(),2==t.info.status?[n("v-uni-button",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("低价拿更多商品")])]:t._e()],2):n("v-uni-view",{staticClass:"flex-box"},[0==t.info.status?[t.info.cut?n("v-uni-button",{staticClass:"btn-vice",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("我也要低价拿")]):n("v-uni-button",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bargain.apply(void 0,arguments)}}},[t._v("帮好友砍一刀")])]:[n("v-uni-button",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$util.redirectTo("/promotionpages/bargain/list/list")}}},[t._v("我也要低价拿")])]],2)],1)],2),n("v-uni-view",{staticClass:"bargin_introduction"},[n("v-uni-view",{staticClass:"bargin_introduction_title"},[n("v-uni-image",{staticClass:"left",attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_left.png")}}),t._v("砍价流程"),n("v-uni-image",{staticClass:"right",attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_right.png")}})],1),n("v-uni-view",{staticClass:"bargin_introduction_content"},[n("v-uni-view",{staticClass:"flow"},[n("v-uni-view",{staticClass:"flow_item"},[n("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_kanjia.png")}}),n("v-uni-view",[t._v("发起商品砍价")])],1),n("v-uni-view",{staticClass:"flow_item"},[n("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_friend.png")}}),n("v-uni-view",[t._v("邀请好友砍价达要求")])],1),n("v-uni-view",{staticClass:"flow_item"},[n("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_good.png")}}),n("v-uni-view",[t._v("领取商品带回家")])],1)],1)],1)],1),n("v-uni-view",{staticClass:"bargin_introduction"},[n("v-uni-view",{staticClass:"bargin_introduction_title"},[n("v-uni-image",{staticClass:"left",attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_left.png")}}),t._v("砍价记录"),n("v-uni-image",{staticClass:"right",attrs:{src:t.$util.img("upload/uniapp/bargain/bargain_right.png")}})],1),n("v-uni-view",{staticClass:"bargin_introduction_content"},[t.bargainRecord.length?n("v-uni-view",{staticClass:"bargin_invitation"},t._l(t.bargainRecord,(function(i,e){return n("v-uni-view",{key:e,staticClass:"item"},[n("v-uni-view",{staticClass:"item_left"},[n("v-uni-image",{attrs:{src:""==i.headimg?t.$util.img(t.$util.getDefaultImage().default_headimg):t.$util.img(i.headimg)}}),n("v-uni-view",[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t._f("cover")(i.nickname)))]),i.member_id==t.info.member_id?n("v-uni-view",{staticClass:"tip"},[t._v("手气真好，狂砍一刀")]):n("v-uni-view",{staticClass:"tip"},[t._v("好友助力，帮砍一刀")])],1)],1),n("v-uni-view",{staticClass:"item_right"},[t._v("砍掉￥"),n("v-uni-text",[t._v(t._s(i.money))])],1)],1)})),1):n("v-uni-view",[n("v-uni-view",{staticClass:"record-empty"},[t._v("现在还没有砍价记录！")])],1)],1)],1),n("v-uni-view",{on:{touchmove:function(i){i.preventDefault(),i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[n("uni-popup",{ref:"sharePopup",staticClass:"share-popup",attrs:{type:"bottom"}},[n("v-uni-view",[n("v-uni-view",{staticClass:"share-title"},[t._v("分享")]),n("v-uni-view",{staticClass:"share-content"},[n("v-uni-view",{staticClass:"share-box",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.copyUrl.apply(void 0,arguments)}}},[n("v-uni-button",{staticClass:"share-btn",attrs:{plain:!0}},[n("v-uni-view",{staticClass:"iconfont iconfuzhilianjie"}),n("v-uni-text",[t._v("复制链接")])],1)],1)],1),n("v-uni-view",{staticClass:"share-footer",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeSharePopup.apply(void 0,arguments)}}},[n("v-uni-text",[t._v("取消分享")])],1)],1)],1)],1),n("uni-popup",{ref:"uniPopup",attrs:{type:"center",maskClick:!1}},[n("v-uni-view",{staticClass:"bargain-popup"},[n("v-uni-image",{staticClass:"head",attrs:{src:t.$util.img("upload/uniapp/bargain/coin.png"),mode:"widthFix"}}),n("v-uni-view",{staticClass:"title"},[t._v("您已成功帮砍")]),n("v-uni-view",{staticClass:"money"},[n("v-uni-text",{staticClass:"num color-base-text"},[t._v(t._s(t.bargainMoney))]),n("v-uni-text",{staticClass:"unit"},[t._v("元")])],1)],1),n("v-uni-text",{staticClass:"iconfont iconroundclose",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closePopup.apply(void 0,arguments)}}})],1),n("loading-cover",{ref:"loadingCover"})],1)},o=[]},e141c:function(t,i,n){"use strict";n.d(i,"b",(function(){return e})),n.d(i,"c",(function(){return a})),n.d(i,"a",(function(){}));var e=function(){var t=this.$createElement,i=this._self._c||t;return i("v-uni-text",[this._v(this._s(this.temp))])},a=[]},f125:function(t,i,n){"use strict";n.r(i);var e=n("0f53"),a=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(o);i["default"]=a.a},f331:function(t,i,n){"use strict";n("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n("a9e3");var e={name:"UniCountDown",props:{showDay:{type:Boolean,default:!0},showColon:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},backgroundColorClass:{type:String,default:""},borderColor:{type:String,default:"#000000"},borderColorClass:{type:String,default:""},color:{type:String,default:"#000000"},colorClass:{type:String,default:""},splitorColor:{type:String,default:"#000000"},splitorColorClass:{type:String,default:""},day:{type:[Number,String],default:0},hour:{type:[Number,String],default:0},minute:{type:[Number,String],default:0},second:{type:[Number,String],default:0}},data:function(){return{timer:null,d:"00",h:"00",i:"00",s:"00",leftTime:0,seconds:0}},mounted:function(t){var i=this;this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){i.seconds--,i.seconds<0?i.timeUp():i.countDown()}),1e3)},watch:{day:function(t){var i=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){i.seconds--,i.seconds<0?i.timeUp():i.countDown()}),1e3)},hour:function(t){var i=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){i.seconds--,i.seconds<0?i.timeUp():i.countDown()}),1e3)},minute:function(t){var i=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){i.seconds--,i.seconds<0?i.timeUp():i.countDown()}),1e3)},second:function(t){var i=this;this.timeUp(),this.seconds=this.toSeconds(this.day,this.hour,this.minute,this.second),this.countDown(),this.timer=setInterval((function(){i.seconds--,i.seconds<0?i.timeUp():i.countDown()}),1e3)}},beforeDestroy:function(){clearInterval(this.timer)},methods:{toSeconds:function(t,i,n,e){return t=Number(t),i=Number(i),n=Number(n),e=Number(e),60*t*60*24+60*i*60+60*n+e},timeUp:function(){clearInterval(this.timer),this.$emit("timeup")},countDown:function(){var t=this.seconds,i=0,n=0,e=0,a=0;t>0?(i=Math.floor(t/86400),n=Math.floor(t/3600)-24*i,e=Math.floor(t/60)-24*i*60-60*n,a=Math.floor(t)-24*i*60*60-60*n*60-60*e):this.timeUp(),i<10&&(i="0"+i),n<10&&(n="0"+n),e<10&&(e="0"+e),a<10&&(a="0"+a),this.d=i,this.h=n,this.i=e,this.s=a}}};i.default=e},f81e:function(t,i,n){"use strict";n.r(i);var e=n("e141c"),a=n("14c5e");for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(i,t,(function(){return a[t]}))}(o);var r=n("f0c5"),s=Object(r["a"])(a["default"],e["b"],e["c"],!1,null,"cdb5b9a6",null,!1,e["a"],void 0);i["default"]=s.exports},fd5c:function(t,i,n){var e=n("40bb");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("4f06").default;a("732d1578",e,!0,{sourceMap:!1,shadowMode:!1})}}]);