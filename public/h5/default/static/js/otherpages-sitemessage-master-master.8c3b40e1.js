(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["otherpages-sitemessage-master-master"],{"55b9":function(t,e,i){"use strict";i.r(e);var s=i("fe5b"),a=i("8f94");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);i("870f");var c=i("f0c5"),o=Object(c["a"])(a["default"],s["b"],s["c"],!1,null,"0b8dc5c4",null,!1,s["a"],void 0);e["default"]=o.exports},"721f":function(t,e,i){"use strict";i("7a82");var s=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("14d9");var a=s(i("8e04")),n={components:{uParse:a.default},data:function(){return{masterLists:[],staticdata:{},deleteMemberMessage:{},recordsSeed:{},seed:{},touchId:"",flag:!0,moveClass:"",statusList:[],orderStatus:0,nav_type:"other",time:"",startX:null,startM:null,startE:null,left:0,deleteBtn:120,leftStyle:{},rightStyle:{},Tactive:0,selectIndex:0,isLeftSide:0}},onShow:function(){this.getSitemessageLists(),this.getStaticdata(),this.getOrderStatus()},methods:{getOrderStatus:function(){this.statusList=[{status:0,name:"服务号",id:"status_0",sub_type:"other"},{status:1,name:"官方客服",id:"status_0",sub_type:"servicer"}]},init:function(){this.leftStyle={},this.rightStyle={}},touchS:function(t,e,i,s){this.Tactive=e,this.startX=t.touches[0].clientX,this.left=0,this.init()},touchMove:function(t,e,i,s){this.startM=t.touches[0].clientX,this.left=this.startM-this.startX,this.left<0&&this.left<this.deleteBtn&&(-this.left>=this.deleteBtn&&(this.left=-this.deleteBtn),this.leftStyle={left:this.left+"rpx"})},touchE:function(t,e,i,s){-this.left>=this.deleteBtn&&(this.left=-120,this.leftStyle={left:this.left+"rpx"},this.isLeftSide=1),-this.left>=this.deleteBtn/2?(this.left=-120,this.leftStyle={left:this.left+"rpx"},this.isLeftSide=1):(this.leftStyle={left:"0rpx"},this.isLeftSide=0),this.selectIndex=e},getSitemessageLists:function(){var t=this;this.$api.sendRequest({url:"/sitemessage/api/sitemessage/lists",success:function(e){if(0==e.code&&e.data){for(var i=0;i<e.data.list.length;i++)e.data.list[i].send_time=t.$util.timeStampTurnTime(e.data.list[i].send_time),e.data.list[i].time=t.$util.getSitemessageDate(e.data.list[i].send_time);t.masterLists=e.data.list}}})},getStaticdata:function(){var t=this;this.$api.sendRequest({url:"/sitemessage/api/sitemessage/staticdata",success:function(e){0==e.code&&(t.staticdata=e.data.sub_type)}})},getDeleteMemberMessage:function(t,e){var i=this;uni.showModal({title:"提示",content:"确认删除该消息吗",success:function(s){s.confirm&&i.$api.sendRequest({url:"/sitemessage/api/sitemessage/deleteMemberMessage",data:{id:t,site_id:e},success:function(t){0==t.code&&(i.deleteMemberMessage=t.data.sub_type,i.getSitemessageLists())}})}})},getEditallSeed:function(){for(var t=this,e=[],i=0;i<this.masterLists.length;i++)e.push(this.masterLists[i].sub_type);this.$api.sendRequest({url:"/sitemessage/api/sitemessage/editallseed",data:{sub_type:e},success:function(e){0==e.code&&(t.editallSeed=e.data,t.getSitemessageLists())}})},toDetail:function(t,e,i){"servicer"==t?(this.$util.redirectTo("/otherpages/chat/room/room",{sub_type:t,id:e,site_id:i}),this.getEditallSeed()):this.$util.redirectTo("/otherpages/sitemessage/"+t+"/"+t,{sub_type:t,id:e,site_id:i})}}};e.default=n},"7d1b":function(t,e,i){var s=i("7df8");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("4f06").default;a("1092c967",s,!0,{sourceMap:!1,shadowMode:!1})},"7df8":function(t,e,i){var s=i("24fb");e=s(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n */.container[data-v-0b8dc5c4]{width:100%;overflow:hidden}.master-seed[data-v-0b8dc5c4]{height:%?60?%;padding:0 %?30?%;margin-bottom:%?20?%;background-color:#fff;display:flex}.master-seed .all-read[data-v-0b8dc5c4]{display:flex;align-items:center}.master-seed .all-read uni-text.iconfont[data-v-0b8dc5c4]{margin-right:%?10?%}.empty[data-v-0b8dc5c4]{width:100%;display:flex;flex-direction:column;align-items:center;padding:%?20?%;box-sizing:border-box;justify-content:center;padding-top:%?80?%}.empty .empty_img[data-v-0b8dc5c4]{width:63%;height:%?450?%}.empty .empty_img uni-image[data-v-0b8dc5c4]{width:100%;height:100%}.master-item-wrap[data-v-0b8dc5c4]{width:100%;overflow:hidden}.master-item-box[data-v-0b8dc5c4]{position:relative}.master-item[data-v-0b8dc5c4]{position:relative;padding:0 %?30?%;width:100%;height:%?140?%;box-sizing:border-box;display:flex;justify-content:flex-start;align-items:center;background-color:#fff}.order-nav[data-v-0b8dc5c4]{width:100vw;height:%?90?%;flex-direction:row;white-space:nowrap;background:#fff;display:flex;justify-content:space-around;left:0;z-index:998}.uni-tab-item-title[data-v-0b8dc5c4]{font-size:%?28?%;display:block;height:%?86?%;line-height:%?90?%;border-bottom:1px solid #fff;padding:0 %?10?%;flex-wrap:nowrap;white-space:nowrap;text-align:center;font-size:%?30?%}.uni-tab-item-title-active[data-v-0b8dc5c4]{display:block;height:%?86?%;border-bottom:2px solid red;padding:0 %?10?%}.item-icon[data-v-0b8dc5c4]{flex-shrink:0;width:%?100?%;height:%?100?%;display:flex;justify-content:center;align-items:center;font-size:%?50?%;color:#fff;background-color:#ff405b;margin-right:%?10?%;border-radius:50%}.order[data-v-0b8dc5c4]{background-color:#3acbe1}.servicer[data-v-0b8dc5c4]{background-color:#4091ff}.account[data-v-0b8dc5c4]{background-color:#ff882e}.delivery[data-v-0b8dc5c4]{background-color:#00ae66}.group[data-v-0b8dc5c4]{background-color:red}.promotion[data-v-0b8dc5c4]{background-color:#ff405b}.promotion[data-v-0b8dc5c4]::before{content:"\\e6d3"}.group[data-v-0b8dc5c4]::before{content:"\\e66a"}.delivery[data-v-0b8dc5c4]::before{content:"\\e70f"}.account[data-v-0b8dc5c4]::before{content:"\\e619"}.order[data-v-0b8dc5c4]::before{content:"\\e61c"}.servicer[data-v-0b8dc5c4]::before{content:"\\e686"}.item-detail[data-v-0b8dc5c4]{padding-left:%?10?%;width:calc(100% - %?120?%);height:%?140?%;font-size:14px;display:flex;flex-direction:column;justify-content:center;border-bottom:%?1?% solid #eee;box-sizing:border-box}.master-detail[data-v-0b8dc5c4]{display:flex;justify-content:space-between;align-items:center}.master-presentation[data-v-0b8dc5c4]{display:flex;justify-content:space-between;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.master-presentation uni-text[data-v-0b8dc5c4]:first-child{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.order-unread[data-v-0b8dc5c4]{flex-shrink:0;color:#fff;border-radius:50%;background-color:#31bb6d;width:%?28?%;height:%?28?%;display:flex;align-items:center;justify-content:center;font-size:%?20?%;margin-left:%?30?%}.delete[data-v-0b8dc5c4]{position:absolute;top:0;right:%?-120?%;width:%?120?%;height:%?140?%;text-align:center;line-height:%?140?%;color:#fff}.move-left[data-v-0b8dc5c4]{transform:translateX(-15%);-webkit-transform:translateX(-15%)}.richText[data-v-0b8dc5c4]{width:100%;display:flex;align-items:center}.richText[data-v-0b8dc5c4] uni-image{max-width:%?40?%;max-height:%?40?%}uni-rich-text uni-image[data-v-0b8dc5c4]{max-width:100%}.richText[data-v-0b8dc5c4] uni-view.p{display:flex;align-items:center}.richText[data-v-0b8dc5c4] uni-view{display:inline-block;font-size:%?24?%;color:#606266}.richText[data-v-0b8dc5c4] uni-view.text{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}',""]),t.exports=e},"870f":function(t,e,i){"use strict";var s=i("7d1b"),a=i.n(s);a.a},"8f94":function(t,e,i){"use strict";i.r(e);var s=i("721f"),a=i.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(n);e["default"]=a.a},fe5b:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return s}));var s={uParse:i("8e04").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"master-seed"},[i("v-uni-view",{staticClass:"all-read",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getEditallSeed()}}},[i("v-uni-text",{staticClass:"iconfont iconqingchu font-size-tag color-tip"}),i("v-uni-text",{staticClass:"font-size-tag color-tip"},[t._v("全部已读")])],1)],1),t._l(t.masterLists,(function(e,s){return[t.masterLists.length>0?i("v-uni-view",{key:s+"_0",staticClass:"master-item-wrap"},[i("v-uni-view",{staticClass:"master-item-box",style:[t.Tactive==s?t.leftStyle:""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e.sub_type,e.id,e.site_id)}}},[i("v-uni-view",{staticClass:"master-item",class:e.id==t.touchId?t.moveClass:"",on:{touchstart:function(i){arguments[0]=i=t.$handleEvent(i),t.touchS(i,s,e,e.id)},touchmove:function(i){arguments[0]=i=t.$handleEvent(i),t.touchMove(i,s,e,e.id)},touchend:function(i){arguments[0]=i=t.$handleEvent(i),t.touchE(i,s,e,e.id)}}},[i("v-uni-view",{staticClass:"item-icon iconfont",class:[{order:"order"==e.sub_type},{servicer:"servicer"==e.sub_type},{delivery:"delivery"==e.sub_type},{group:"group"==e.sub_type},{promotion:"promotion"==e.sub_type},{account:"account"==e.sub_type}],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e.sub_type,e.id,e.site_id)}}}),i("v-uni-view",{staticClass:"item-detail"},[i("v-uni-view",{staticClass:"master-detail"},["servicer"==e.sub_type?i("v-uni-text",[t._v(t._s(e.title))]):"account"==e.sub_type?i("v-uni-text",[t._v(t._s(t.staticdata.account))]):"delivery"==e.sub_type?i("v-uni-text",[t._v(t._s(t.staticdata.delivery))]):"group"==e.sub_type?i("v-uni-text",[t._v(t._s(t.staticdata.group))]):"order"==e.sub_type?i("v-uni-text",[t._v(t._s(t.staticdata.order))]):"promotion"==e.sub_type?i("v-uni-text",[t._v(t._s(t.staticdata.promotion))]):t._e(),""!=e.send_time?i("v-uni-text",{staticClass:"time font-size-tag color-tip"},[t._v(t._s(e.time))]):t._e()],1),i("v-uni-view",{staticClass:"master-presentation"},["servicer"==e.sub_type?i("u-parse",{staticClass:"richText",attrs:{content:e.content}}):i("v-uni-text",{staticClass:"font-size-tag color-sub"},[t._v(t._s(e.content))]),e.remind_num>0?i("v-uni-view",{staticClass:"order-unread color-base-bg"},[t._v(t._s(e.remind_num))]):e.remind_num>99?i("v-uni-view",{staticClass:"order-unread color-base-bg"},[t._v("99+")]):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"delete color-base-bg",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.getDeleteMemberMessage(e.id,e.site_id)}}},[t._v("删除")])],1)],1):i("v-uni-view",{staticClass:"empty"},[i("v-uni-view",{staticClass:"empty_img"},[i("v-uni-image",{attrs:{src:t.$util.img("upload/uniapp/sitemessage/empty.png"),mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"color-tip margin-top margin-bottom"},[t._v("暂无信息")])],1)]}))],2)},n=[]}}]);